var zl=Object.defineProperty;var Cr=t=>{throw TypeError(t)};var Wl=(t,e,n)=>e in t?zl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Me=(t,e,n)=>Wl(t,typeof e!="symbol"?e+"":e,n),jo=(t,e,n)=>e.has(t)||Cr("Cannot "+n);var m=(t,e,n)=>(jo(t,e,"read from private field"),n?n.call(t):e.get(t)),nt=(t,e,n)=>e.has(t)?Cr("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),et=(t,e,n,r)=>(jo(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Zt=(t,e,n)=>(jo(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();const jl="5";var Mr;typeof window<"u"&&((Mr=window.__svelte??(window.__svelte={})).v??(Mr.v=new Set)).add(jl);const ql=1,Kl=2,Pr=4,Zl=8,Jl=16,Yr=1,Ql=2,zt=Symbol(),ts="http://www.w3.org/1999/xhtml",Qo=!1;var Hr=Array.isArray,es=Array.prototype.indexOf,Jn=Array.prototype.includes,Xo=Array.from,Vr=Object.defineProperty,uo=Object.getOwnPropertyDescriptor,ns=Object.getOwnPropertyDescriptors,os=Object.prototype,rs=Array.prototype,zr=Object.getPrototypeOf,Rr=Object.isExtensible;const dn=()=>{};function Wr(t){for(var e=0;e<t.length;e++)t[e]()}function jr(){var t,e,n=new Promise((r,s)=>{t=r,e=s});return{promise:n,resolve:t,reject:e}}const jt=2,Lo=4,Fo=8,qr=1<<24,on=16,Se=32,Xn=64,pr=128,me=512,Mt=1024,qt=2048,Ae=4096,ue=8192,_n=16384,hr=32768,$n=65536,Br=1<<17,Kr=1<<18,oo=1<<19,ls=1<<20,en=1<<25,An=32768,tr=1<<21,br=1<<22,vn=1<<23,Co=Symbol("$state"),ss=Symbol(""),Pn=new class extends Error{constructor(){super(...arguments);Me(this,"name","StaleReactionError");Me(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function is(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function as(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function cs(t,e,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function us(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function fs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ds(t){throw new Error("https://svelte.dev/e/effect_orphan")}function _s(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function vs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ps(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function hs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function bs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function gs(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Zr(t){return t===this.v}function Jr(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Qr(t){return!Jr(t,this.v)}let ys=!1,fe=null;function Qn(t){fe=t}function ht(t,e=!1,n){fe={p:fe,i:!1,c:null,e:null,s:t,x:null,l:null}}function bt(t){var e=fe,n=e.e;if(n!==null){e.e=null;for(var r of n)Tl(r)}return e.i=!0,fe=e.p,{}}function tl(){return!0}let En=[];function el(){var t=En;En=[],Wr(t)}function nn(t){if(En.length===0&&!fo){var e=En;queueMicrotask(()=>{e===En&&el()})}En.push(t)}function Ts(){for(;En.length>0;)el()}function nl(t){var e=_t;if(e===null)return lt.f|=vn,t;if((e.f&hr)===0){if((e.f&pr)===0)throw t;e.b.error(t)}else to(t,e)}function to(t,e){for(;e!==null;){if((e.f&pr)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const ms=-7169;function Lt(t,e){t.f=t.f&ms|e}function gr(t){(t.f&me)!==0||t.deps===null?Lt(t,Mt):Lt(t,Ae)}function ol(t){if(t!==null)for(const e of t)(e.f&jt)===0||(e.f&An)===0||(e.f^=An,ol(e.deps))}function rl(t,e,n){(t.f&qt)!==0?e.add(t):(t.f&Ae)!==0&&n.add(t),ol(t.deps),Lt(t,Mt)}const Oo=new Set;let ot=null,er=null,Wt=null,oe=[],Mo=null,nr=!1,fo=!1;var Vn,zn,wn,Wn,go,yo,kn,Ze,jn,qe,or,rr,ll;const Or=class Or{constructor(){nt(this,qe);Me(this,"committed",!1);Me(this,"current",new Map);Me(this,"previous",new Map);nt(this,Vn,new Set);nt(this,zn,new Set);nt(this,wn,0);nt(this,Wn,0);nt(this,go,null);nt(this,yo,new Set);nt(this,kn,new Set);nt(this,Ze,new Map);Me(this,"is_fork",!1);nt(this,jn,!1)}is_deferred(){return this.is_fork||m(this,Wn)>0}skip_effect(e){m(this,Ze).has(e)||m(this,Ze).set(e,{d:[],m:[]})}unskip_effect(e){var n=m(this,Ze).get(e);if(n){m(this,Ze).delete(e);for(var r of n.d)Lt(r,qt),De(r);for(r of n.m)Lt(r,Ae),De(r)}}process(e){var s;oe=[],this.apply();var n=[],r=[];for(const l of e)Zt(this,qe,or).call(this,l,n,r);if(this.is_deferred()){Zt(this,qe,rr).call(this,r),Zt(this,qe,rr).call(this,n);for(const[l,a]of m(this,Ze))cl(l,a)}else{for(const l of m(this,Vn))l();m(this,Vn).clear(),m(this,wn)===0&&Zt(this,qe,ll).call(this),er=this,ot=null,Dr(r),Dr(n),er=null,(s=m(this,go))==null||s.resolve()}Wt=null}capture(e,n){n!==zt&&!this.previous.has(e)&&this.previous.set(e,n),(e.f&vn)===0&&(this.current.set(e,e.v),Wt==null||Wt.set(e,e.v))}activate(){ot=this,this.apply()}deactivate(){ot===this&&(ot=null,Wt=null)}flush(){if(this.activate(),oe.length>0){if(sl(),ot!==null&&ot!==this)return}else m(this,wn)===0&&this.process([]);this.deactivate()}discard(){for(const e of m(this,zn))e(this);m(this,zn).clear()}increment(e){et(this,wn,m(this,wn)+1),e&&et(this,Wn,m(this,Wn)+1)}decrement(e){et(this,wn,m(this,wn)-1),e&&et(this,Wn,m(this,Wn)-1),!m(this,jn)&&(et(this,jn,!0),nn(()=>{et(this,jn,!1),this.is_deferred()?oe.length>0&&this.flush():this.revive()}))}revive(){for(const e of m(this,yo))m(this,kn).delete(e),Lt(e,qt),De(e);for(const e of m(this,kn))Lt(e,Ae),De(e);this.flush()}oncommit(e){m(this,Vn).add(e)}ondiscard(e){m(this,zn).add(e)}settled(){return(m(this,go)??et(this,go,jr())).promise}static ensure(){if(ot===null){const e=ot=new Or;Oo.add(ot),fo||nn(()=>{ot===e&&e.flush()})}return ot}apply(){}};Vn=new WeakMap,zn=new WeakMap,wn=new WeakMap,Wn=new WeakMap,go=new WeakMap,yo=new WeakMap,kn=new WeakMap,Ze=new WeakMap,jn=new WeakMap,qe=new WeakSet,or=function(e,n,r){e.f^=Mt;for(var s=e.first,l=null;s!==null;){var a=s.f,c=(a&(Se|Xn))!==0,i=c&&(a&Mt)!==0,u=i||(a&ue)!==0||m(this,Ze).has(s);if(!u&&s.fn!==null){c?s.f^=Mt:l!==null&&(a&(Lo|Fo|qr))!==0?l.b.defer_effect(s):(a&Lo)!==0?n.push(s):wo(s)&&((a&on)!==0&&m(this,kn).add(s),ho(s));var f=s.first;if(f!==null){s=f;continue}}var p=s.parent;for(s=s.next;s===null&&p!==null;)p===l&&(l=null),s=p.next,p=p.parent}},rr=function(e){for(var n=0;n<e.length;n+=1)rl(e[n],m(this,yo),m(this,kn))},ll=function(){var s;if(Oo.size>1){this.previous.clear();var e=Wt,n=!0;for(const l of Oo){if(l===this){n=!1;continue}const a=[];for(const[i,u]of this.current){if(l.current.has(i))if(n&&u!==l.current.get(i))l.current.set(i,u);else continue;a.push(i)}if(a.length===0)continue;const c=[...l.current.keys()].filter(i=>!this.current.has(i));if(c.length>0){var r=oe;oe=[];const i=new Set,u=new Map;for(const f of a)il(f,c,i,u);if(oe.length>0){ot=l,l.apply();for(const f of oe)Zt(s=l,qe,or).call(s,f,[],[]);l.deactivate()}oe=r}}ot=null,Wt=e}this.committed=!0,Oo.delete(this)};let pn=Or;function Es(t){var e=fo;fo=!0;try{for(var n;;){if(Ts(),oe.length===0&&(ot==null||ot.flush(),oe.length===0))return Mo=null,n;sl()}}finally{fo=e}}function sl(){nr=!0;var t=null;try{for(var e=0;oe.length>0;){var n=pn.ensure();if(e++>1e3){var r,s;xs()}n.process(oe),hn.clear()}}finally{oe=[],nr=!1,Mo=null}}function xs(){try{_s()}catch(t){to(t,Mo)}}let Re=null;function Dr(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(_n|ue))===0&&wo(r)&&(Re=new Set,ho(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?xl(r):r.fn=null),(Re==null?void 0:Re.size)>0)){hn.clear();for(const s of Re){if((s.f&(_n|ue))!==0)continue;const l=[s];let a=s.parent;for(;a!==null;)Re.has(a)&&(Re.delete(a),l.push(a)),a=a.parent;for(let c=l.length-1;c>=0;c--){const i=l[c];(i.f&(_n|ue))===0&&ho(i)}}Re.clear()}}Re=null}}function il(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const s of t.reactions){const l=s.f;(l&jt)!==0?il(s,e,n,r):(l&(br|on))!==0&&(l&qt)===0&&al(s,e,r)&&(Lt(s,qt),De(s))}}function al(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const s of t.deps){if(Jn.call(e,s))return!0;if((s.f&jt)!==0&&al(s,e,n))return n.set(s,!0),!0}return n.set(t,!1),!1}function De(t){for(var e=Mo=t;e.parent!==null;){e=e.parent;var n=e.f;if(nr&&e===_t&&(n&on)!==0&&(n&Kr)===0)return;if((n&(Xn|Se))!==0){if((n&Mt)===0)return;e.f^=Mt}}oe.push(e)}function cl(t,e){if(!((t.f&Se)!==0&&(t.f&Mt)!==0)){(t.f&qt)!==0?e.d.push(t):(t.f&Ae)!==0&&e.m.push(t),Lt(t,Mt);for(var n=t.first;n!==null;)cl(n,e),n=n.next}}function ws(t){let e=0,n=Sn(0),r;return()=>{mr()&&(o(n),Yo(()=>(e===0&&(r=ro(()=>t(()=>_o(n)))),e+=1,()=>{nn(()=>{e-=1,e===0&&(r==null||r(),r=void 0,_o(n))})})))}}var ks=$n|oo|pr;function Ns(t,e,n){new Os(t,e,n)}var he,vr,Pe,Nn,Ye,be,ee,He,Je,cn,On,un,qn,Cn,Kn,Zn,Qe,Go,Pt,Cs,Rs,lr,Ro,Bo,sr;class Os{constructor(e,n,r){nt(this,Pt);Me(this,"parent");Me(this,"is_pending",!1);nt(this,he);nt(this,vr,null);nt(this,Pe);nt(this,Nn);nt(this,Ye);nt(this,be,null);nt(this,ee,null);nt(this,He,null);nt(this,Je,null);nt(this,cn,null);nt(this,On,0);nt(this,un,0);nt(this,qn,!1);nt(this,Cn,!1);nt(this,Kn,new Set);nt(this,Zn,new Set);nt(this,Qe,null);nt(this,Go,ws(()=>(et(this,Qe,Sn(m(this,On))),()=>{et(this,Qe,null)})));et(this,he,e),et(this,Pe,n),et(this,Nn,r),this.parent=_t.b,this.is_pending=!!m(this,Pe).pending,et(this,Ye,Ho(()=>{_t.b=this;{var s=Zt(this,Pt,lr).call(this);try{et(this,be,ge(()=>r(s)))}catch(l){this.error(l)}m(this,un)>0?Zt(this,Pt,Bo).call(this):this.is_pending=!1}return()=>{var l;(l=m(this,cn))==null||l.remove()}},ks))}defer_effect(e){rl(e,m(this,Kn),m(this,Zn))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!m(this,Pe).pending}update_pending_count(e){Zt(this,Pt,sr).call(this,e),et(this,On,m(this,On)+e),!(!m(this,Qe)||m(this,qn))&&(et(this,qn,!0),nn(()=>{et(this,qn,!1),m(this,Qe)&&eo(m(this,Qe),m(this,On))}))}get_effect_pending(){return m(this,Go).call(this),o(m(this,Qe))}error(e){var n=m(this,Pe).onerror;let r=m(this,Pe).failed;if(m(this,Cn)||!n&&!r)throw e;m(this,be)&&(le(m(this,be)),et(this,be,null)),m(this,ee)&&(le(m(this,ee)),et(this,ee,null)),m(this,He)&&(le(m(this,He)),et(this,He,null));var s=!1,l=!1;const a=()=>{if(s){gs();return}s=!0,l&&bs(),pn.ensure(),et(this,On,0),m(this,He)!==null&&Bn(m(this,He),()=>{et(this,He,null)}),this.is_pending=this.has_pending_snippet(),et(this,be,Zt(this,Pt,Ro).call(this,()=>(et(this,Cn,!1),ge(()=>m(this,Nn).call(this,m(this,he)))))),m(this,un)>0?Zt(this,Pt,Bo).call(this):this.is_pending=!1};nn(()=>{try{l=!0,n==null||n(e,a),l=!1}catch(c){to(c,m(this,Ye)&&m(this,Ye).parent)}r&&et(this,He,Zt(this,Pt,Ro).call(this,()=>{pn.ensure(),et(this,Cn,!0);try{return ge(()=>{r(m(this,he),()=>e,()=>a)})}catch(c){return to(c,m(this,Ye).parent),null}finally{et(this,Cn,!1)}}))})}}he=new WeakMap,vr=new WeakMap,Pe=new WeakMap,Nn=new WeakMap,Ye=new WeakMap,be=new WeakMap,ee=new WeakMap,He=new WeakMap,Je=new WeakMap,cn=new WeakMap,On=new WeakMap,un=new WeakMap,qn=new WeakMap,Cn=new WeakMap,Kn=new WeakMap,Zn=new WeakMap,Qe=new WeakMap,Go=new WeakMap,Pt=new WeakSet,Cs=function(){try{et(this,be,ge(()=>m(this,Nn).call(this,m(this,he))))}catch(e){this.error(e)}},Rs=function(){const e=m(this,Pe).pending;e&&(et(this,ee,ge(()=>e(m(this,he)))),nn(()=>{var n=Zt(this,Pt,lr).call(this);et(this,be,Zt(this,Pt,Ro).call(this,()=>(pn.ensure(),ge(()=>m(this,Nn).call(this,n))))),m(this,un)>0?Zt(this,Pt,Bo).call(this):(Bn(m(this,ee),()=>{et(this,ee,null)}),this.is_pending=!1)}))},lr=function(){var e=m(this,he);return this.is_pending&&(et(this,cn,bn()),m(this,he).before(m(this,cn)),e=m(this,cn)),e},Ro=function(e){var n=_t,r=lt,s=fe;je(m(this,Ye)),xe(m(this,Ye)),Qn(m(this,Ye).ctx);try{return e()}catch(l){return nl(l),null}finally{je(n),xe(r),Qn(s)}},Bo=function(){const e=m(this,Pe).pending;m(this,be)!==null&&(et(this,Je,document.createDocumentFragment()),m(this,Je).append(m(this,cn)),Nl(m(this,be),m(this,Je))),m(this,ee)===null&&et(this,ee,ge(()=>e(m(this,he))))},sr=function(e){var n;if(!this.has_pending_snippet()){this.parent&&Zt(n=this.parent,Pt,sr).call(n,e);return}if(et(this,un,m(this,un)+e),m(this,un)===0){this.is_pending=!1;for(const r of m(this,Kn))Lt(r,qt),De(r);for(const r of m(this,Zn))Lt(r,Ae),De(r);m(this,Kn).clear(),m(this,Zn).clear(),m(this,ee)&&Bn(m(this,ee),()=>{et(this,ee,null)}),m(this,Je)&&(m(this,he).before(m(this,Je)),et(this,Je,null))}};function Bs(t,e,n,r){const s=yr;var l=t.filter(d=>!d.settled);if(n.length===0&&l.length===0){r(e.map(s));return}var a=ot,c=_t,i=Ds(),u=l.length===1?l[0].promise:l.length>1?Promise.all(l.map(d=>d.promise)):null;function f(d){i();try{r(d)}catch(b){(c.f&_n)===0&&to(b,c)}a==null||a.deactivate(),ir()}if(n.length===0){u.then(()=>f(e.map(s)));return}function p(){i(),Promise.all(n.map(d=>Ls(d))).then(d=>f([...e.map(s),...d])).catch(d=>to(d,c))}u?u.then(p):p()}function Ds(){var t=_t,e=lt,n=fe,r=ot;return function(l=!0){je(t),xe(e),Qn(n),l&&(r==null||r.activate())}}function ir(){je(null),xe(null),Qn(null)}function yr(t){var e=jt|qt,n=lt!==null&&(lt.f&jt)!==0?lt:null;return _t!==null&&(_t.f|=oo),{ctx:fe,deps:null,effects:null,equals:Zr,f:e,fn:t,reactions:null,rv:0,v:zt,wv:0,parent:n??_t,ac:null}}function Ls(t,e,n){let r=_t;r===null&&as();var s=r.b,l=void 0,a=Sn(zt),c=!lt,i=new Map;return Ys(()=>{var b;var u=jr();l=u.promise;try{Promise.resolve(t()).then(u.resolve,u.reject).then(()=>{f===ot&&f.committed&&f.deactivate(),ir()})}catch(_){u.reject(_),ir()}var f=ot;if(c){var p=s.is_rendered();s.update_pending_count(1),f.increment(p),(b=i.get(f))==null||b.reject(Pn),i.delete(f),i.set(f,u)}const d=(_,T=void 0)=>{if(f.activate(),T)T!==Pn&&(a.f|=vn,eo(a,T));else{(a.f&vn)!==0&&(a.f^=vn),eo(a,_);for(const[v,g]of i){if(i.delete(v),v===f)break;g.reject(Pn)}}c&&(s.update_pending_count(-1),f.decrement(p))};u.promise.then(d,_=>d(null,_||"unknown"))}),Er(()=>{for(const u of i.values())u.reject(Pn)}),new Promise(u=>{function f(p){function d(){p===l?u(a):f(l)}p.then(d,d)}f(l)})}function q(t){const e=yr(t);return Ol(e),e}function $s(t){const e=yr(t);return e.equals=Qr,e}function ul(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)le(e[n])}}function As(t){for(var e=t.parent;e!==null;){if((e.f&jt)===0)return(e.f&_n)===0?e:null;e=e.parent}return null}function Tr(t){var e,n=_t;je(As(t));try{t.f&=~An,ul(t),e=Dl(t)}finally{je(n)}return e}function fl(t){var e=Tr(t);if(!t.equals(e)&&(t.wv=Rl(),(!(ot!=null&&ot.is_fork)||t.deps===null)&&(t.v=e,t.deps===null))){Lt(t,Mt);return}Un||(Wt!==null?(mr()||ot!=null&&ot.is_fork)&&Wt.set(t,e):gr(t))}let ar=new Set;const hn=new Map;let dl=!1;function Sn(t,e){var n={f:0,v:t,reactions:null,equals:Zr,rv:0,wv:0};return n}function tt(t,e){const n=Sn(t);return Ol(n),n}function _l(t,e=!1,n=!0){const r=Sn(t);return e||(r.equals=Qr),r}function M(t,e,n=!1){lt!==null&&(!Le||(lt.f&Br)!==0)&&tl()&&(lt.f&(jt|on|br|Br))!==0&&(Ee===null||!Jn.call(Ee,t))&&hs();let r=n?ce(e):e;return eo(t,r)}function eo(t,e){if(!t.equals(e)){var n=t.v;Un?hn.set(t,e):hn.set(t,n),t.v=e;var r=pn.ensure();if(r.capture(t,n),(t.f&jt)!==0){const s=t;(t.f&qt)!==0&&Tr(s),gr(s)}t.wv=Rl(),vl(t,qt),_t!==null&&(_t.f&Mt)!==0&&(_t.f&(Se|Xn))===0&&(pe===null?zs([t]):pe.push(t)),!r.is_fork&&ar.size>0&&!dl&&Ss()}return e}function Ss(){dl=!1;for(const t of ar)(t.f&Mt)!==0&&Lt(t,Ae),wo(t)&&ho(t);ar.clear()}function _o(t){M(t,t.v+1)}function vl(t,e){var n=t.reactions;if(n!==null)for(var r=n.length,s=0;s<r;s++){var l=n[s],a=l.f,c=(a&qt)===0;if(c&&Lt(l,e),(a&jt)!==0){var i=l;Wt==null||Wt.delete(i),(a&An)===0&&(a&me&&(l.f|=An),vl(i,Ae))}else c&&((a&on)!==0&&Re!==null&&Re.add(l),De(l))}}function ce(t){if(typeof t!="object"||t===null||Co in t)return t;const e=zr(t);if(e!==os&&e!==rs)return t;var n=new Map,r=Hr(t),s=tt(0),l=Dn,a=c=>{if(Dn===l)return c();var i=lt,u=Dn;xe(null),Ar(l);var f=c();return xe(i),Ar(u),f};return r&&n.set("length",tt(t.length)),new Proxy(t,{defineProperty(c,i,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&vs();var f=n.get(i);return f===void 0?f=a(()=>{var p=tt(u.value);return n.set(i,p),p}):M(f,u.value,!0),!0},deleteProperty(c,i){var u=n.get(i);if(u===void 0){if(i in c){const f=a(()=>tt(zt));n.set(i,f),_o(s)}}else M(u,zt),_o(s);return!0},get(c,i,u){var b;if(i===Co)return t;var f=n.get(i),p=i in c;if(f===void 0&&(!p||(b=uo(c,i))!=null&&b.writable)&&(f=a(()=>{var _=ce(p?c[i]:zt),T=tt(_);return T}),n.set(i,f)),f!==void 0){var d=o(f);return d===zt?void 0:d}return Reflect.get(c,i,u)},getOwnPropertyDescriptor(c,i){var u=Reflect.getOwnPropertyDescriptor(c,i);if(u&&"value"in u){var f=n.get(i);f&&(u.value=o(f))}else if(u===void 0){var p=n.get(i),d=p==null?void 0:p.v;if(p!==void 0&&d!==zt)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(c,i){var d;if(i===Co)return!0;var u=n.get(i),f=u!==void 0&&u.v!==zt||Reflect.has(c,i);if(u!==void 0||_t!==null&&(!f||(d=uo(c,i))!=null&&d.writable)){u===void 0&&(u=a(()=>{var b=f?ce(c[i]):zt,_=tt(b);return _}),n.set(i,u));var p=o(u);if(p===zt)return!1}return f},set(c,i,u,f){var w;var p=n.get(i),d=i in c;if(r&&i==="length")for(var b=u;b<p.v;b+=1){var _=n.get(b+"");_!==void 0?M(_,zt):b in c&&(_=a(()=>tt(zt)),n.set(b+"",_))}if(p===void 0)(!d||(w=uo(c,i))!=null&&w.writable)&&(p=a(()=>tt(void 0)),M(p,ce(u)),n.set(i,p));else{d=p.v!==zt;var T=a(()=>ce(u));M(p,T)}var v=Reflect.getOwnPropertyDescriptor(c,i);if(v!=null&&v.set&&v.set.call(f,u),!d){if(r&&typeof i=="string"){var g=n.get("length"),C=Number(i);Number.isInteger(C)&&C>=g.v&&M(g,C+1)}_o(s)}return!0},ownKeys(c){o(s);var i=Reflect.ownKeys(c).filter(p=>{var d=n.get(p);return d===void 0||d.v!==zt});for(var[u,f]of n)f.v!==zt&&!(u in c)&&i.push(u);return i},setPrototypeOf(){ps()}})}var po,pl,hl,bl;function Us(){if(po===void 0){po=window,pl=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;hl=uo(e,"firstChild").get,bl=uo(e,"nextSibling").get,Rr(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Rr(n)&&(n.__t=void 0)}}function bn(t=""){return document.createTextNode(t)}function tn(t){return hl.call(t)}function Eo(t){return bl.call(t)}function E(t,e){return tn(t)}function Ct(t,e=!1){{var n=tn(t);return n instanceof Comment&&n.data===""?Eo(n):n}}function y(t,e=1,n=!1){let r=t;for(;e--;)r=Eo(r);return r}function Gs(t){t.textContent=""}function gl(){return!1}let Lr=!1;function Is(){Lr||(Lr=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function Po(t){var e=lt,n=_t;xe(null),je(null);try{return t()}finally{xe(e),je(n)}}function yl(t,e,n,r=n){t.addEventListener(e,()=>Po(n));const s=t.__on_r;s?t.__on_r=()=>{s(),r(!0)}:t.__on_r=()=>r(!0),Is()}function Xs(t){_t===null&&(lt===null&&ds(),fs()),Un&&us()}function Fs(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function rn(t,e,n){var r=_t;r!==null&&(r.f&ue)!==0&&(t|=ue);var s={ctx:fe,deps:null,nodes:null,f:t|qt|me,first:null,fn:e,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{ho(s),s.f|=hr}catch(c){throw le(s),c}else e!==null&&De(s);var l=s;if(n&&l.deps===null&&l.teardown===null&&l.nodes===null&&l.first===l.last&&(l.f&oo)===0&&(l=l.first,(t&on)!==0&&(t&$n)!==0&&l!==null&&(l.f|=$n)),l!==null&&(l.parent=r,r!==null&&Fs(l,r),lt!==null&&(lt.f&jt)!==0&&(t&Xn)===0)){var a=lt;(a.effects??(a.effects=[])).push(l)}return s}function mr(){return lt!==null&&!Le}function Er(t){const e=rn(Fo,null,!1);return Lt(e,Mt),e.teardown=t,e}function xo(t){Xs();var e=_t.f,n=!lt&&(e&Se)!==0&&(e&hr)===0;if(n){var r=fe;(r.e??(r.e=[])).push(t)}else return Tl(t)}function Tl(t){return rn(Lo|ls,t,!1)}function Ms(t){pn.ensure();const e=rn(Xn|oo,t,!0);return(n={})=>new Promise(r=>{n.outro?Bn(e,()=>{le(e),r(void 0)}):(le(e),r(void 0))})}function Ps(t){return rn(Lo,t,!1)}function Ys(t){return rn(br|oo,t,!0)}function Yo(t,e=0){return rn(Fo|e,t,!0)}function K(t,e=[],n=[],r=[]){Bs(r,e,n,s=>{rn(Fo,()=>t(...s.map(o)),!0)})}function Ho(t,e=0){var n=rn(on|e,t,!0);return n}function ge(t){return rn(Se|oo,t,!0)}function ml(t){var e=t.teardown;if(e!==null){const n=Un,r=lt;$r(!0),xe(null);try{e.call(null)}finally{$r(n),xe(r)}}}function El(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const s=n.ac;s!==null&&Po(()=>{s.abort(Pn)});var r=n.next;(n.f&Xn)!==0?n.parent=null:le(n,e),n=r}}function Hs(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&Se)===0&&le(e),e=n}}function le(t,e=!0){var n=!1;(e||(t.f&Kr)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(Vs(t.nodes.start,t.nodes.end),n=!0),El(t,e&&!n),$o(t,0),Lt(t,_n);var r=t.nodes&&t.nodes.t;if(r!==null)for(const l of r)l.stop();ml(t);var s=t.parent;s!==null&&s.first!==null&&xl(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function Vs(t,e){for(;t!==null;){var n=t===e?null:Eo(t);t.remove(),t=n}}function xl(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function Bn(t,e,n=!0){var r=[];wl(t,r,!0);var s=()=>{n&&le(t),e&&e()},l=r.length;if(l>0){var a=()=>--l||s();for(var c of r)c.out(a)}else s()}function wl(t,e,n){if((t.f&ue)===0){t.f^=ue;var r=t.nodes&&t.nodes.t;if(r!==null)for(const c of r)(c.is_global||n)&&e.push(c);for(var s=t.first;s!==null;){var l=s.next,a=(s.f&$n)!==0||(s.f&Se)!==0&&(t.f&on)!==0;wl(s,e,a?n:!1),s=l}}}function xr(t){kl(t,!0)}function kl(t,e){if((t.f&ue)!==0){t.f^=ue,(t.f&Mt)===0&&(Lt(t,qt),De(t));for(var n=t.first;n!==null;){var r=n.next,s=(n.f&$n)!==0||(n.f&Se)!==0;kl(n,s?e:!1),n=r}var l=t.nodes&&t.nodes.t;if(l!==null)for(const a of l)(a.is_global||e)&&a.in()}}function Nl(t,e){if(t.nodes)for(var n=t.nodes.start,r=t.nodes.end;n!==null;){var s=n===r?null:Eo(n);e.append(n),n=s}}let Do=!1,Un=!1;function $r(t){Un=t}let lt=null,Le=!1;function xe(t){lt=t}let _t=null;function je(t){_t=t}let Ee=null;function Ol(t){lt!==null&&(Ee===null?Ee=[t]:Ee.push(t))}let re=null,ie=0,pe=null;function zs(t){pe=t}let Cl=1,xn=0,Dn=xn;function Ar(t){Dn=t}function Rl(){return++Cl}function wo(t){var e=t.f;if((e&qt)!==0)return!0;if(e&jt&&(t.f&=~An),(e&Ae)!==0){for(var n=t.deps,r=n.length,s=0;s<r;s++){var l=n[s];if(wo(l)&&fl(l),l.wv>t.wv)return!0}(e&me)!==0&&Wt===null&&Lt(t,Mt)}return!1}function Bl(t,e,n=!0){var r=t.reactions;if(r!==null&&!(Ee!==null&&Jn.call(Ee,t)))for(var s=0;s<r.length;s++){var l=r[s];(l.f&jt)!==0?Bl(l,e,!1):e===l&&(n?Lt(l,qt):(l.f&Mt)!==0&&Lt(l,Ae),De(l))}}function Dl(t){var T;var e=re,n=ie,r=pe,s=lt,l=Ee,a=fe,c=Le,i=Dn,u=t.f;re=null,ie=0,pe=null,lt=(u&(Se|Xn))===0?t:null,Ee=null,Qn(t.ctx),Le=!1,Dn=++xn,t.ac!==null&&(Po(()=>{t.ac.abort(Pn)}),t.ac=null);try{t.f|=tr;var f=t.fn,p=f(),d=t.deps,b=ot==null?void 0:ot.is_fork;if(re!==null){var _;if(b||$o(t,ie),d!==null&&ie>0)for(d.length=ie+re.length,_=0;_<re.length;_++)d[ie+_]=re[_];else t.deps=d=re;if(mr()&&(t.f&me)!==0)for(_=ie;_<d.length;_++)((T=d[_]).reactions??(T.reactions=[])).push(t)}else!b&&d!==null&&ie<d.length&&($o(t,ie),d.length=ie);if(tl()&&pe!==null&&!Le&&d!==null&&(t.f&(jt|Ae|qt))===0)for(_=0;_<pe.length;_++)Bl(pe[_],t);if(s!==null&&s!==t){if(xn++,s.deps!==null)for(let v=0;v<n;v+=1)s.deps[v].rv=xn;if(e!==null)for(const v of e)v.rv=xn;pe!==null&&(r===null?r=pe:r.push(...pe))}return(t.f&vn)!==0&&(t.f^=vn),p}catch(v){return nl(v)}finally{t.f^=tr,re=e,ie=n,pe=r,lt=s,Ee=l,Qn(a),Le=c,Dn=i}}function Ws(t,e){let n=e.reactions;if(n!==null){var r=es.call(n,t);if(r!==-1){var s=n.length-1;s===0?n=e.reactions=null:(n[r]=n[s],n.pop())}}if(n===null&&(e.f&jt)!==0&&(re===null||!Jn.call(re,e))){var l=e;(l.f&me)!==0&&(l.f^=me,l.f&=~An),gr(l),ul(l),$o(l,0)}}function $o(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Ws(t,n[r])}function ho(t){var e=t.f;if((e&_n)===0){Lt(t,Mt);var n=_t,r=Do;_t=t,Do=!0;try{(e&(on|qr))!==0?Hs(t):El(t),ml(t);var s=Dl(t);t.teardown=typeof s=="function"?s:null,t.wv=Cl;var l;Qo&&ys&&(t.f&qt)!==0&&t.deps}finally{Do=r,_t=n}}}async function js(){await Promise.resolve(),Es()}function o(t){var e=t.f,n=(e&jt)!==0;if(lt!==null&&!Le){var r=_t!==null&&(_t.f&_n)!==0;if(!r&&(Ee===null||!Jn.call(Ee,t))){var s=lt.deps;if((lt.f&tr)!==0)t.rv<xn&&(t.rv=xn,re===null&&s!==null&&s[ie]===t?ie++:re===null?re=[t]:re.push(t));else{(lt.deps??(lt.deps=[])).push(t);var l=t.reactions;l===null?t.reactions=[lt]:Jn.call(l,lt)||l.push(lt)}}}if(Un&&hn.has(t))return hn.get(t);if(n){var a=t;if(Un){var c=a.v;return((a.f&Mt)===0&&a.reactions!==null||$l(a))&&(c=Tr(a)),hn.set(a,c),c}var i=(a.f&me)===0&&!Le&&lt!==null&&(Do||(lt.f&me)!==0),u=a.deps===null;wo(a)&&(i&&(a.f|=me),fl(a)),i&&!u&&Ll(a)}if(Wt!=null&&Wt.has(t))return Wt.get(t);if((t.f&vn)!==0)throw t.v;return t.v}function Ll(t){if(t.deps!==null){t.f|=me;for(const e of t.deps)(e.reactions??(e.reactions=[])).push(t),(e.f&jt)!==0&&(e.f&me)===0&&Ll(e)}}function $l(t){if(t.v===zt)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(hn.has(e)||(e.f&jt)!==0&&$l(e))return!0;return!1}function ro(t){var e=Le;try{return Le=!0,t()}finally{Le=e}}const Al=new Set,cr=new Set;function qs(t,e,n,r={}){function s(l){if(r.capture||io.call(e,l),!l.cancelBubble)return Po(()=>n==null?void 0:n.call(this,l))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?nn(()=>{e.addEventListener(t,s,r)}):e.addEventListener(t,s,r),s}function Vo(t,e,n,r,s){var l={capture:r,passive:s},a=qs(t,e,n,l);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Er(()=>{e.removeEventListener(t,a,l)})}function $t(t){for(var e=0;e<t.length;e++)Al.add(t[e]);for(var n of cr)n(t)}let Sr=null;function io(t){var v;var e=this,n=e.ownerDocument,r=t.type,s=((v=t.composedPath)==null?void 0:v.call(t))||[],l=s[0]||t.target;Sr=t;var a=0,c=Sr===t&&t.__root;if(c){var i=s.indexOf(c);if(i!==-1&&(e===document||e===window)){t.__root=e;return}var u=s.indexOf(e);if(u===-1)return;i<=u&&(a=i)}if(l=s[a]||t.target,l!==e){Vr(t,"currentTarget",{configurable:!0,get(){return l||n}});var f=lt,p=_t;xe(null),je(null);try{for(var d,b=[];l!==null;){var _=l.assignedSlot||l.parentNode||l.host||null;try{var T=l["__"+r];T!=null&&(!l.disabled||t.target===l)&&T.call(l,t)}catch(g){d?b.push(g):d=g}if(t.cancelBubble||_===e||_===null)break;l=_}if(d){for(let g of b)queueMicrotask(()=>{throw g});throw d}}finally{t.__root=e,delete t.currentTarget,xe(f),je(p)}}}function Sl(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function bo(t,e){var n=_t;n.nodes===null&&(n.nodes={start:t,end:e,a:null,t:null})}function J(t,e){var n=(e&Yr)!==0,r=(e&Ql)!==0,s,l=!t.startsWith("<!>");return()=>{s===void 0&&(s=Sl(l?t:"<!>"+t),n||(s=tn(s)));var a=r||pl?document.importNode(s,!0):s.cloneNode(!0);if(n){var c=tn(a),i=a.lastChild;bo(c,i)}else bo(a,a);return a}}function Ks(t,e,n="svg"){var r=!t.startsWith("<!>"),s=(e&Yr)!==0,l=`<${n}>${r?t:"<!>"+t}</${n}>`,a;return()=>{if(!a){var c=Sl(l),i=tn(c);if(s)for(a=document.createDocumentFragment();tn(i);)a.appendChild(tn(i));else a=tn(i)}var u=a.cloneNode(!0);if(s){var f=tn(u),p=u.lastChild;bo(f,p)}else bo(u,u);return u}}function ln(t,e){return Ks(t,e,"svg")}function ye(){var t=document.createDocumentFragment(),e=document.createComment(""),n=bn();return t.append(e,n),bo(e,n),t}function I(t,e){t!==null&&t.before(e)}const Zs=["touchstart","touchmove"];function Js(t){return Zs.includes(t)}function yt(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function Qs(t,e){return ti(t,e)}const Fn=new Map;function ti(t,{target:e,anchor:n,props:r={},events:s,context:l,intro:a=!0}){Us();var c=new Set,i=p=>{for(var d=0;d<p.length;d++){var b=p[d];if(!c.has(b)){c.add(b);var _=Js(b);e.addEventListener(b,io,{passive:_});var T=Fn.get(b);T===void 0?(document.addEventListener(b,io,{passive:_}),Fn.set(b,1)):Fn.set(b,T+1)}}};i(Xo(Al)),cr.add(i);var u=void 0,f=Ms(()=>{var p=n??e.appendChild(bn());return Ns(p,{pending:()=>{}},d=>{ht({});var b=fe;l&&(b.c=l),s&&(r.$$events=s),u=t(d,r)||{},bt()}),()=>{var _;for(var d of c){e.removeEventListener(d,io);var b=Fn.get(d);--b===0?(document.removeEventListener(d,io),Fn.delete(d)):Fn.set(d,b)}cr.delete(i),p!==n&&((_=p.parentNode)==null||_.removeChild(p))}});return ei.set(u,f),u}let ei=new WeakMap;var Be,Ve,ae,Rn,To,mo,Io;class Ul{constructor(e,n=!0){Me(this,"anchor");nt(this,Be,new Map);nt(this,Ve,new Map);nt(this,ae,new Map);nt(this,Rn,new Set);nt(this,To,!0);nt(this,mo,()=>{var e=ot;if(m(this,Be).has(e)){var n=m(this,Be).get(e),r=m(this,Ve).get(n);if(r)xr(r),m(this,Rn).delete(n);else{var s=m(this,ae).get(n);s&&(m(this,Ve).set(n,s.effect),m(this,ae).delete(n),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),r=s.effect)}for(const[l,a]of m(this,Be)){if(m(this,Be).delete(l),l===e)break;const c=m(this,ae).get(a);c&&(le(c.effect),m(this,ae).delete(a))}for(const[l,a]of m(this,Ve)){if(l===n||m(this,Rn).has(l))continue;const c=()=>{if(Array.from(m(this,Be).values()).includes(l)){var u=document.createDocumentFragment();Nl(a,u),u.append(bn()),m(this,ae).set(l,{effect:a,fragment:u})}else le(a);m(this,Rn).delete(l),m(this,Ve).delete(l)};m(this,To)||!r?(m(this,Rn).add(l),Bn(a,c,!1)):c()}}});nt(this,Io,e=>{m(this,Be).delete(e);const n=Array.from(m(this,Be).values());for(const[r,s]of m(this,ae))n.includes(r)||(le(s.effect),m(this,ae).delete(r))});this.anchor=e,et(this,To,n)}ensure(e,n){var r=ot,s=gl();if(n&&!m(this,Ve).has(e)&&!m(this,ae).has(e))if(s){var l=document.createDocumentFragment(),a=bn();l.append(a),m(this,ae).set(e,{effect:ge(()=>n(a)),fragment:l})}else m(this,Ve).set(e,ge(()=>n(this.anchor)));if(m(this,Be).set(r,e),s){for(const[c,i]of m(this,Ve))c===e?r.unskip_effect(i):r.skip_effect(i);for(const[c,i]of m(this,ae))c===e?r.unskip_effect(i.effect):r.skip_effect(i.effect);r.oncommit(m(this,mo)),r.ondiscard(m(this,Io))}else m(this,mo).call(this)}}Be=new WeakMap,Ve=new WeakMap,ae=new WeakMap,Rn=new WeakMap,To=new WeakMap,mo=new WeakMap,Io=new WeakMap;function ni(t,e,...n){var r=new Ul(t);Ho(()=>{const s=e()??null;r.ensure(s,s&&(l=>s(l,...n)))},$n)}function wr(t){fe===null&&is(),xo(()=>{const e=ro(t);if(typeof e=="function")return e})}function st(t,e,n=!1){var r=new Ul(t),s=n?$n:0;function l(a,c){r.ensure(a,c)}Ho(()=>{var a=!1;e((c,i=!0)=>{a=!0,l(i,c)}),a||l(!1,null)},s)}function Xt(t,e){return e}function oi(t,e,n){for(var r=[],s=e.length,l,a=e.length,c=0;c<s;c++){let p=e[c];Bn(p,()=>{if(l){if(l.pending.delete(p),l.done.add(p),l.pending.size===0){var d=t.outrogroups;ur(Xo(l.done)),d.delete(l),d.size===0&&(t.outrogroups=null)}}else a-=1},!1)}if(a===0){var i=r.length===0&&n!==null;if(i){var u=n,f=u.parentNode;Gs(f),f.append(u),t.items.clear()}ur(e,!i)}else l={pending:new Set(e),done:new Set},(t.outrogroups??(t.outrogroups=new Set)).add(l)}function ur(t,e=!0){for(var n=0;n<t.length;n++)le(t[n],e)}var Ur;function Ft(t,e,n,r,s,l=null){var a=t,c=new Map,i=(e&Pr)!==0;if(i){var u=t;a=u.appendChild(bn())}var f=null,p=$s(()=>{var g=n();return Hr(g)?g:g==null?[]:Xo(g)}),d,b=!0;function _(){v.fallback=f,ri(v,d,a,e,r),f!==null&&(d.length===0?(f.f&en)===0?xr(f):(f.f^=en,ao(f,null,a)):Bn(f,()=>{f=null}))}var T=Ho(()=>{d=o(p);for(var g=d.length,C=new Set,w=ot,x=gl(),k=0;k<g;k+=1){var D=d[k],R=r(D,k),B=b?null:c.get(R);B?(B.v&&eo(B.v,D),B.i&&eo(B.i,k),x&&w.unskip_effect(B.e)):(B=li(c,b?a:Ur??(Ur=bn()),D,R,k,s,e,n),b||(B.e.f|=en),c.set(R,B)),C.add(R)}if(g===0&&l&&!f&&(b?f=ge(()=>l(a)):(f=ge(()=>l(Ur??(Ur=bn()))),f.f|=en)),g>C.size&&cs(),!b)if(x){for(const[F,U]of c)C.has(F)||w.skip_effect(U.e);w.oncommit(_),w.ondiscard(()=>{})}else _();o(p)}),v={effect:T,items:c,outrogroups:null,fallback:f};b=!1}function so(t){for(;t!==null&&(t.f&Se)===0;)t=t.next;return t}function ri(t,e,n,r,s){var U,Y,W,P,A,X,S,G,H;var l=(r&Zl)!==0,a=e.length,c=t.items,i=so(t.effect.first),u,f=null,p,d=[],b=[],_,T,v,g;if(l)for(g=0;g<a;g+=1)_=e[g],T=s(_,g),v=c.get(T).e,(v.f&en)===0&&((Y=(U=v.nodes)==null?void 0:U.a)==null||Y.measure(),(p??(p=new Set)).add(v));for(g=0;g<a;g+=1){if(_=e[g],T=s(_,g),v=c.get(T).e,t.outrogroups!==null)for(const j of t.outrogroups)j.pending.delete(v),j.done.delete(v);if((v.f&en)!==0)if(v.f^=en,v===i)ao(v,null,n);else{var C=f?f.next:i;v===t.effect.last&&(t.effect.last=v.prev),v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),an(t,f,v),an(t,v,C),ao(v,C,n),f=v,d=[],b=[],i=so(f.next);continue}if((v.f&ue)!==0&&(xr(v),l&&((P=(W=v.nodes)==null?void 0:W.a)==null||P.unfix(),(p??(p=new Set)).delete(v))),v!==i){if(u!==void 0&&u.has(v)){if(d.length<b.length){var w=b[0],x;f=w.prev;var k=d[0],D=d[d.length-1];for(x=0;x<d.length;x+=1)ao(d[x],w,n);for(x=0;x<b.length;x+=1)u.delete(b[x]);an(t,k.prev,D.next),an(t,f,k),an(t,D,w),i=w,f=D,g-=1,d=[],b=[]}else u.delete(v),ao(v,i,n),an(t,v.prev,v.next),an(t,v,f===null?t.effect.first:f.next),an(t,f,v),f=v;continue}for(d=[],b=[];i!==null&&i!==v;)(u??(u=new Set)).add(i),b.push(i),i=so(i.next);if(i===null)continue}(v.f&en)===0&&d.push(v),f=v,i=so(v.next)}if(t.outrogroups!==null){for(const j of t.outrogroups)j.pending.size===0&&(ur(Xo(j.done)),(A=t.outrogroups)==null||A.delete(j));t.outrogroups.size===0&&(t.outrogroups=null)}if(i!==null||u!==void 0){var R=[];if(u!==void 0)for(v of u)(v.f&ue)===0&&R.push(v);for(;i!==null;)(i.f&ue)===0&&i!==t.fallback&&R.push(i),i=so(i.next);var B=R.length;if(B>0){var F=(r&Pr)!==0&&a===0?n:null;if(l){for(g=0;g<B;g+=1)(S=(X=R[g].nodes)==null?void 0:X.a)==null||S.measure();for(g=0;g<B;g+=1)(H=(G=R[g].nodes)==null?void 0:G.a)==null||H.fix()}oi(t,R,F)}}l&&nn(()=>{var j,it;if(p!==void 0)for(v of p)(it=(j=v.nodes)==null?void 0:j.a)==null||it.apply()})}function li(t,e,n,r,s,l,a,c){var i=(a&ql)!==0?(a&Jl)===0?_l(n,!1,!1):Sn(n):null,u=(a&Kl)!==0?Sn(s):null;return{v:i,i:u,e:ge(()=>(l(e,i??n,u??s,c),()=>{t.delete(r)}))}}function ao(t,e,n){if(t.nodes)for(var r=t.nodes.start,s=t.nodes.end,l=e&&(e.f&en)===0?e.nodes.start:n;r!==null;){var a=Eo(r);if(l.before(r),r===s)return;r=a}}function an(t,e,n){e===null?t.effect.first=n:e.next=n,n===null?t.effect.last=e:n.prev=e}function Gl(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Gl(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function si(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Gl(t))&&(r&&(r+=" "),r+=e);return r}function ct(t){return typeof t=="object"?si(t):t??""}function ii(t,e,n){var r=t==null?"":""+t;return r===""?null:r}function Gr(t,e=!1){var n=e?" !important;":";",r="";for(var s in t){var l=t[s];l!=null&&l!==""&&(r+=" "+s+": "+l+n)}return r}function ai(t,e){if(e){var n="",r,s;return Array.isArray(e)?(r=e[0],s=e[1]):r=e,r&&(n+=Gr(r)),s&&(n+=Gr(s,!0)),n=n.trim(),n===""?null:n}return String(t)}function rt(t,e,n,r,s,l){var a=t.__className;if(a!==n||a===void 0){var c=ii(n);c==null?t.removeAttribute("class"):t.className=c,t.__className=n}return l}function qo(t,e={},n,r){for(var s in n){var l=n[s];e[s]!==l&&(n[s]==null?t.style.removeProperty(s):t.style.setProperty(s,l,r))}}function h(t,e,n,r){var s=t.__style;if(s!==e){var l=ai(e,r);l==null?t.removeAttribute("style"):t.style.cssText=l,t.__style=e}else r&&(Array.isArray(r)?(qo(t,n==null?void 0:n[0],r[0]),qo(t,n==null?void 0:n[1],r[1],"important")):qo(t,n,r));return r}const ci=Symbol("is custom element"),ui=Symbol("is html");function Te(t,e){var n=kr(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function co(t,e){var n=kr(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function z(t,e,n,r){var s=kr(t);s[e]!==(s[e]=n)&&(e==="loading"&&(t[ss]=n),n==null?t.removeAttribute(e):typeof n!="string"&&fi(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function kr(t){return t.__attributes??(t.__attributes={[ci]:t.nodeName.includes("-"),[ui]:t.namespaceURI===ts})}var Ir=new Map;function fi(t){var e=t.getAttribute("is")||t.nodeName,n=Ir.get(e);if(n)return n;Ir.set(e,n=[]);for(var r,s=t,l=Element.prototype;l!==s;){r=ns(s);for(var a in r)r[a].set&&n.push(a);s=zr(s)}return n}function ze(t,e,n=e){var r=new WeakSet;yl(t,"input",async s=>{var l=s?t.defaultValue:t.value;if(l=Ko(t)?Zo(l):l,n(l),ot!==null&&r.add(ot),await js(),l!==(l=e())){var a=t.selectionStart,c=t.selectionEnd,i=t.value.length;if(t.value=l??"",c!==null){var u=t.value.length;a===c&&c===i&&u>i?(t.selectionStart=u,t.selectionEnd=u):(t.selectionStart=a,t.selectionEnd=Math.min(c,u))}}}),ro(e)==null&&t.value&&(n(Ko(t)?Zo(t.value):t.value),ot!==null&&r.add(ot)),Yo(()=>{var s=e();if(t===document.activeElement){var l=er??ot;if(r.has(l))return}Ko(t)&&s===Zo(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function di(t,e,n=e){yl(t,"change",r=>{var s=r?t.defaultChecked:t.checked;n(s)}),ro(e)==null&&n(t.checked),Yo(()=>{var r=e();t.checked=!!r})}function Ko(t){var e=t.type;return e==="number"||e==="range"}function Zo(t){return t===""?null:+t}function Xr(t,e){return t===e||(t==null?void 0:t[Co])===e}function ko(t={},e,n,r){return Ps(()=>{var s,l;return Yo(()=>{s=l,l=[],ro(()=>{t!==n(...l)&&(e(t,...l),s&&Xr(n(...s),t)&&e(null,...s))})}),()=>{nn(()=>{l&&Xr(n(...l),t)&&e(null,...l)})}}),t}function Nr(t,e,n){if(t==null)return e(void 0),n&&n(void 0),dn;const r=ro(()=>t.subscribe(e,n));return r.unsubscribe?()=>r.unsubscribe():r}const Mn=[];function _i(t,e){return{subscribe:Tt(t,e).subscribe}}function Tt(t,e=dn){let n=null;const r=new Set;function s(c){if(Jr(t,c)&&(t=c,n)){const i=!Mn.length;for(const u of r)u[1](),Mn.push(u,t);if(i){for(let u=0;u<Mn.length;u+=2)Mn[u][0](Mn[u+1]);Mn.length=0}}}function l(c){s(c(t))}function a(c,i=dn){const u=[c,i];return r.add(u),r.size===1&&(n=e(s,l)||dn),c(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:s,update:l,subscribe:a}}function vi(t,e,n){const r=!Array.isArray(t),s=r?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=e.length<2;return _i(n,(a,c)=>{let i=!1;const u=[];let f=0,p=dn;const d=()=>{if(f)return;p();const _=e(r?u[0]:u,a,c);l?a(_):p=typeof _=="function"?_:dn},b=s.map((_,T)=>Nr(_,v=>{u[T]=v,f&=~(1<<T),i&&d()},()=>{f|=1<<T}));return i=!0,d(),function(){Wr(b),p(),i=!1}})}function ne(t){let e;return Nr(t,n=>e=n)(),e}let fr=Symbol();function L(t,e,n){const r=n[e]??(n[e]={store:null,source:_l(void 0),unsubscribe:dn});if(r.store!==t&&!(fr in n))if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=dn;else{var s=!0;r.unsubscribe=Nr(t,l=>{s?r.source.v=l:M(r.source,l)}),s=!1}return t&&fr in n?ne(t):o(r.source)}function Rt(){const t={};function e(){Er(()=>{for(var n in t)t[n].unsubscribe();Vr(t,fr,{enumerable:!1,value:!0})})}return[t,e]}function pi(t,e,n,r){var s=r,l=!0,a=()=>(l&&(l=!1,s=r),s),c;c=t[e],c===void 0&&r!==void 0&&(c=a());var i;return i=()=>{var u=t[e];return u===void 0?a():(l=!0,u)},i}const no=Tt("Operator"),Gn=Tt(null),hi=Tt(null),gn=Tt(1),Yn=Tt(0),Hn=Tt(0),xt=Tt(!0),vo=Tt(!1),Jo=Tt(null),Ao=Tt(!1),pt=Tt(null),So=Tt({visible:!1,x:0,y:0,nodeIndex:null,connectionIndex:null}),yn=Tt(!1),bi=vi(gn,t=>Math.round(t*100)),gi={NODE_DEFAULT:"#b0c4de",NODE_GREYED_OUT:"#dcdcdc",NODE_HIGHLIGHT:"#ffd700",NODE_HOST:"#40e0d0",NODE_OUTLINE_DEFAULT:"#000000",NODE_PING_SUCCESS:"#008000",NODE_PING_PARTIAL_SUCCESS:"#ffff00",NODE_PING_FAILURE:"#ff0000",FRAME_BG:"#ffffff",INFO_NOTE_BG:"#ffffff",INFO_TEXT:"#000000",BUTTON_BG:"#ffffff",BUTTON_TEXT:"#000000",BUTTON_ACTIVE_BG:"#e0e0e0",BUTTON_ACTIVE_TEXT:"#000000",BUTTON_CONFIGURATION_MODE:"#f08080",Connections:"#696969",BORDER_COLOR:"#f7f7f7",GROUP_DEFAULT:"#e6f2ff",GROUP_OUTLINE:"#4d94ff",GROUP_SELECTED:"#0066cc",GROUP_TEXT:"#003366",ROW_BG_EVEN:"#f9f9f9",ROW_BG_ODD:"#e6f0fa",HEADER_BG:"#dbeafe",HEADER_TEXT:"#1e293b",ENTRY_FOCUS_BG:"#f9f9f9",CELL_BORDER:"#b6b6b6",ENTRY_TEXT:"#222222"},yi={NODE_DEFAULT:"#28376c",NODE_GREYED_OUT:"#4B5563",NODE_HIGHLIGHT:"#D97706",NODE_HOST:"#72741f",NODE_OUTLINE_DEFAULT:"#374151",NODE_PING_SUCCESS:"#047857",NODE_PING_PARTIAL_SUCCESS:"#B45309",NODE_PING_FAILURE:"#991B1B",FRAME_BG:"#0c0f14",INFO_NOTE_BG:"#111827",INFO_TEXT:"#8f8f8f",BUTTON_BG:"#1e2540",BUTTON_TEXT:"#c7c7c7",BUTTON_ACTIVE_BG:"#111827",BUTTON_ACTIVE_TEXT:"#000000",BUTTON_CONFIGURATION_MODE:"#F87171",Connections:"#6a7586",BORDER_COLOR:"#374151",GROUP_DEFAULT:"#1a2942",GROUP_OUTLINE:"#3a5894",GROUP_SELECTED:"#5d8cd9",GROUP_TEXT:"#a3c2ff",ROW_BG_EVEN:"#181e29",ROW_BG_ODD:"#232b3a",HEADER_BG:"#22304a",HEADER_TEXT:"#e0e7ef",ENTRY_FOCUS_BG:"#2d3748",CELL_BORDER:"#3b4252",ENTRY_TEXT:"#e0e7ef"};function At(t){return t?yi:gi}const zo=[{id:"preset1",name:"Classic Blue",light_bg:"#e3f0ff",light_border:"#3a7bd5",dark_bg:"#22304a",dark_border:"#3a7bd5"},{id:"preset2",name:"Sunset",light_bg:"#ffe5d0",light_border:"#ff7f50",dark_bg:"#4a2c23",dark_border:"#ff7f50"},{id:"preset3",name:"Mint",light_bg:"#e0fff4",light_border:"#2ecc71",dark_bg:"#204034",dark_border:"#2ecc71"},{id:"preset4",name:"Lavender",light_bg:"#f3e8ff",light_border:"#a259e6",dark_bg:"#2d234a",dark_border:"#a259e6"},{id:"preset5",name:"Slate",light_bg:"#f0f4f8",light_border:"#607d8b",dark_bg:"#232b32",dark_border:"#607d8b"},{id:"preset6",name:"Contrast",light_bg:"#ffffff",light_border:"#000000",dark_bg:"#000000",dark_border:"#ffffff"}];function Ti(t,e,n=zo){const r=n.find(s=>s.id===t)??n[0];return e?{bg:r.dark_bg,border:r.dark_border}:{bg:r.light_bg,border:r.light_border}}const Yt=Tt([]),de=Tt([]),In=Tt([]),mn=Tt([]),We=Tt({VLAN_1:"VLAN_1",VLAN_2:"VLAN_2",VLAN_3:"VLAN_3",VLAN_4:"VLAN_4"}),$e=Tt(["VLAN_1","VLAN_2","VLAN_3","VLAN_4"]),Ln=Tt({node_size:14,show_connections:!0,show_connection_labels:!0,show_notes:!0,show_groups:!0}),fn=Tt({}),No=Tt([...zo]),Tn=Tt({}),Uo=Tt(null);function ke(){yn.set(!0)}function Il(t){Yt.update(e=>[...e,t]),ke()}function Ke(t,e){Yt.update(n=>{const r=[...n];return r[t]&&(r[t]={...r[t],...e}),r}),ke()}function Xl(t){de.update(e=>e.filter(n=>n.from!==t&&n.to!==t).map(n=>({...n,from:n.from>t?n.from-1:n.from,to:n.to>t?n.to-1:n.to}))),Yt.update(e=>e.filter((n,r)=>r!==t)),ke()}function mi(t,e,n){Yt.update(r=>{const s=[...r];return s[t]&&(s[t]={...s[t],x:e,y:n}),s}),ke()}function Ei(t){de.update(e=>[...e,t]),ke()}function dr(t,e){de.update(n=>{const r=[...n];return r[t]&&(r[t]={...r[t],...e}),r}),ke()}function _r(t){de.update(e=>e.filter((n,r)=>r!==t)),ke()}function xi(t){In.update(e=>[...e,t]),ke()}function wi(t){In.update(e=>e.filter((n,r)=>r!==t)),ke()}function ki(t){mn.update(e=>[...e,t]),ke()}function Fr(t,e){mn.update(n=>{const r=[...n];return r[t]&&(r[t]={...r[t],...e}),r}),ke()}function Ni(t){mn.update(e=>e.filter((n,r)=>r!==t)),ke()}function Fl(){Yt.set([]),de.set([]),In.set([]),mn.set([]),Tn.set({}),fn.set({}),We.set({VLAN_1:"VLAN_1",VLAN_2:"VLAN_2",VLAN_3:"VLAN_3",VLAN_4:"VLAN_4"}),$e.set(["VLAN_1","VLAN_2","VLAN_3","VLAN_4"]),No.set([...zo]),Ln.set({node_size:14,show_connections:!0,show_connection_labels:!0,show_notes:!0,show_groups:!0}),yn.set(!1)}function Oi(t,e){return Math.hypot(e[0]-t[0],e[1]-t[1])}function Ci(t,e,n,r,s,l){const a=s-n,c=l-r;if(a===0&&c===0)return Math.hypot(t-n,e-r);const i=Math.max(0,Math.min(1,((t-n)*a+(e-r)*c)/(a*a+c*c))),u=n+i*a,f=r+i*c;return Math.hypot(t-u,e-f)}function Ri(t,e){if(t.length===0)return[0,0];if(t.length===1)return t[0];const n=[];let r=0;for(let a=0;a<t.length-1;a++){const c=Oi(t[a],t[a+1]);n.push(c),r+=c}if(r===0)return t[0];const s=e*r;let l=0;for(let a=0;a<n.length;a++){if(l+n[a]>=s){const c=n[a]>0?(s-l)/n[a]:0,[i,u]=t[a],[f,p]=t[a+1];return[i+(f-i)*c,u+(p-u)*c]}l+=n[a]}return t[t.length-1]}function Bi(t,e,n){let r=null,s=0;for(let l=0;l<n.length-1;l++){const a=Ci(t,e,n[l][0],n[l][1],n[l+1][0],n[l+1][1]);(r===null||a<r)&&(r=a,s=l)}return s}function Ml(t,e,n,r,s){const l=[[t,e]];if(s)for(const a of s)l.push(a);return l.push([n,r]),l}async function we(t,e={},n){return window.__TAURI_INTERNALS__.invoke(t,e,n)}async function Pl(t){const n=ne(Yt)[t];if(!n)return;const s=ne($e).filter(a=>{const c=n.vlans[a];return c&&c.trim()!==""});if(s.length===0)return;const l=s.map(a=>n.vlans[a]);try{const a=await we("ping_ips",{ips:l});Tn.update(c=>({...c,[t]:a}))}catch(a){console.error("Ping failed for node",n.name,a),Tn.update(c=>({...c,[t]:s.map(()=>!1)}))}}async function Di(){const e=ne(Yt).map((n,r)=>Pl(r));await Promise.allSettled(e)}function Li(){Tn.set({})}var $i=ln('<g data-type="node"><rect rx="2"></rect><text text-anchor="middle" dominant-baseline="central" font-family="Helvetica, Arial, sans-serif" pointer-events="none"> </text></g>');function Ai(t,e){ht(e,!0);let n,r=tt(30),s=tt(16);xo(()=>{n&&(e.node.name,e.fontSize,requestAnimationFrame(()=>{if(n)try{const d=n.getBBox();M(r,d.width,!0),M(s,d.height,!0)}catch{}}))});let l=q(()=>Math.max(2,Math.round(e.fontSize*.3))),a=q(()=>o(r)/2+o(l)),c=q(()=>o(s)/2+o(l));var i=$i();i.__mousedown=function(...d){var b;(b=e.onMouseDown)==null||b.apply(this,d)},h(i,"",{},{cursor:"pointer"});var u=E(i),f=y(u),p=E(f);ko(f,d=>n=d,()=>n),K(()=>{z(i,"data-index",e.index),z(u,"x",e.node.x-o(a)),z(u,"y",e.node.y-o(c)),z(u,"width",o(a)*2),z(u,"height",o(c)*2),z(u,"fill",e.fillColor),z(u,"stroke",e.outlineColor),z(u,"stroke-width",e.outlineWidth),z(f,"x",e.node.x),z(f,"y",e.node.y),z(f,"fill",e.textColor),z(f,"font-size",e.fontSize),yt(p,e.node.name)}),I(t,i),bt()}$t(["mousedown"]);var Si=ln('<rect rx="2" pointer-events="none"></rect><text text-anchor="middle" dominant-baseline="central" font-family="Helvetica, Arial, sans-serif" font-size="12"> </text>',1),Ui=ln('<g data-type="connection"><polyline fill="none" stroke="transparent" stroke-width="10"></polyline><polyline fill="none" stroke-width="2" pointer-events="none"></polyline><!></g>');function Gi(t,e){ht(e,!0);let n=q(()=>Ml(e.fromNode.x,e.fromNode.y,e.toNode.x,e.toNode.y,e.connection.waypoints)),r=q(()=>o(n).map(([_,T])=>`${_},${T}`).join(" ")),s=q(()=>e.connection.label_pos??.5),l=q(()=>Ri(o(n),o(s))),a,c=tt(0),i=tt(0);xo(()=>{a&&e.connection.label&&requestAnimationFrame(()=>{if(a)try{const _=a.getBBox();M(c,_.width,!0),M(i,_.height,!0)}catch{}})});var u=Ui(),f=E(u);f.__mousedown=function(..._){var T;(T=e.onMiddleClick)==null||T.apply(this,_)},f.__contextmenu=_=>{_.preventDefault(),e.onRightClick(_)},h(f,"",{},{cursor:"pointer"});var p=y(f),d=y(p);{var b=_=>{var T=Si(),v=Ct(T),g=y(v);g.__contextmenu=w=>{w.preventDefault(),e.onRightClick(w)},h(g,"",{},{cursor:"pointer"});var C=E(g);ko(g,w=>a=w,()=>a),K(()=>{z(v,"x",o(l)[0]-o(c)/2-2),z(v,"y",o(l)[1]-o(i)/2-2),z(v,"width",o(c)+4),z(v,"height",o(i)+4),z(v,"fill",e.labelBgColor),z(g,"x",o(l)[0]),z(g,"y",o(l)[1]),z(g,"fill",e.textColor),yt(C,e.connection.label)}),I(_,T)};st(d,_=>{e.showLabels&&e.connection.label&&e.connection.label.trim()&&_(b)})}K(()=>{z(u,"data-index",e.index),z(f,"points",o(r)),z(p,"points",o(r)),z(p,"stroke",e.lineColor)}),I(t,u),bt()}$t(["mousedown","contextmenu"]);var Ii=ln('<g data-type="sticky"><rect rx="3" class="sticky_bg"></rect><text dominant-baseline="central" font-family="Helvetica, Arial, sans-serif" font-size="12" pointer-events="none" class="sticky_note"> </text></g>');function Xi(t,e){ht(e,!0);let n,r=tt(30),s=tt(14);xo(()=>{n&&(e.note.text,requestAnimationFrame(()=>{if(n)try{const u=n.getBBox();M(r,u.width,!0),M(s,u.height,!0)}catch{}}))});var l=Ii();l.__mousedown=function(...u){var f;(f=e.onMouseDown)==null||f.apply(this,u)},h(l,"",{},{cursor:"move"});var a=E(l),c=y(a),i=E(c);ko(c,u=>n=u,()=>n),K(()=>{z(l,"data-index",e.index),z(a,"x",e.note.x-4),z(a,"y",e.note.y-o(s)/2-4),z(a,"width",o(r)+8),z(a,"height",o(s)+8),z(a,"fill",e.bgColor),z(a,"stroke",e.bgColor),z(c,"x",e.note.x),z(c,"y",e.note.y),z(c,"fill",e.textColor),yt(i,e.note.text)}),I(t,l),bt()}$t(["mousedown"]);var Fi=ln('<text font-family="Helvetica, Arial, sans-serif" font-size="14" font-weight="bold" pointer-events="none"> </text>'),Mi=ln('<g data-type="group"><rect fill-opacity="0.5" stroke-width="2" rx="4"></rect><!></g>');function Pi(t,e){ht(e,!0);let n=q(()=>Math.abs(e.group.x2-e.group.x1)),r=q(()=>Math.abs(e.group.y2-e.group.y1)),s=q(()=>Math.min(e.group.x1,e.group.x2)),l=q(()=>Math.min(e.group.y1,e.group.y2));var a=Mi(),c=E(a),i=y(c);{var u=f=>{var p=Fi(),d=E(p);K(()=>{z(p,"x",o(s)+8),z(p,"y",o(l)+18),z(p,"fill",e.textColor),yt(d,e.group.name)}),I(f,p)};st(i,f=>{e.group.name&&f(u)})}K(()=>{z(a,"data-index",e.index),z(c,"x",o(s)),z(c,"y",o(l)),z(c,"width",o(n)),z(c,"height",o(r)),z(c,"fill",e.bgColor),z(c,"stroke",e.borderColor)}),I(t,a),bt()}var Yi=ln('<circle r="5" fill="#FFD700" stroke="#333" stroke-width="1"></circle>');function Hi(t,e){ht(e,!0);const n=()=>L(no,"$mode",r),[r,s]=Rt();let l=tt(!1),a=0,c=0,i=0,u=0;function f(d){if(n()==="Configuration"){if(d.button===2){d.preventDefault(),d.stopPropagation(),de.update(b=>{const _=[...b],T={..._[e.connectionIndex]},v=[...T.waypoints??[]];return v.splice(e.waypointIndex,1),T.waypoints=v.length>0?v:void 0,_[e.connectionIndex]=T,_}),yn.set(!0);return}if(d.button===0){d.stopPropagation(),M(l,!0),i=e.x,u=e.y,a=d.clientX,c=d.clientY;const b=T=>{var D;if(!o(l))return;const v=d.target.closest("svg");if(!v)return;v.getBoundingClientRect();const g=v.querySelector("#world"),C=(D=g==null?void 0:g.getAttribute("transform"))==null?void 0:D.match(/scale\(([^)]+)\)/),w=C?parseFloat(C[1]):1,x=(T.clientX-a)/w,k=(T.clientY-c)/w;de.update(R=>{const B=[...R],F={...B[e.connectionIndex]},U=[...F.waypoints??[]];return U[e.waypointIndex]=[i+x,u+k],F.waypoints=U,B[e.connectionIndex]=F,B})},_=()=>{M(l,!1),yn.set(!0),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",_)};window.addEventListener("mousemove",b),window.addEventListener("mouseup",_)}}}var p=Yi();p.__mousedown=f,p.__contextmenu=d=>d.preventDefault(),h(p,"",{},{cursor:"move"}),K(()=>{z(p,"cx",e.x),z(p,"cy",e.y)}),I(t,p),bt(),s()}$t(["mousedown","contextmenu"]);var Vi=ln('<rect fill="none" stroke-width="2" stroke-dasharray="6,4" pointer-events="none"></rect>'),zi=ln('<svg class="w-full h-full"><g id="world"><g id="groups-layer"><!></g><g id="connections-layer"><!></g><g id="notes-layer"><!></g><g id="nodes-layer"></g><g id="handles-layer"><!></g></g><!></svg>');function Wi(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",g),r=()=>L(Yn,"$panX",g),s=()=>L(gn,"$zoom",g),l=()=>L(Hn,"$panY",g),a=()=>L(vo,"$groupsModeActive",g),c=()=>L(no,"$mode",g),i=()=>L(Gn,"$selectedNodeIndex",g),u=()=>L(de,"$connections",g),f=()=>L(Jo,"$connectionStartNodeIndex",g),p=()=>L(Yt,"$nodes",g),d=()=>L(Tn,"$pingResults",g),b=()=>L(Ln,"$displayOptions",g),_=()=>L(mn,"$groups",g),T=()=>L(No,"$groupColorPresets",g),v=()=>L(In,"$stickyNotes",g),[g,C]=Rt();let w,x=tt(!1),k=0,D=0,R=0,B=0,F=tt(!1),U=null,Y=tt(!1),W=tt(0),P=tt(0),A=tt(0),X=tt(0),S=tt(!1),G=null,H=q(()=>At(n()));function j(N,$){const V=w.getBoundingClientRect(),Q=N-V.left,Z=$-V.top;return{x:(Q-r())/s(),y:(Z-l())/s()}}function it(N){if(N.button===2){N.preventDefault(),M(x,!0),k=N.clientX,D=N.clientY,R=r(),B=l();return}if(N.button===0&&a()&&c()==="Configuration"){const{x:$,y:V}=j(N.clientX,N.clientY),Q=N.target;(Q===w||Q.closest("svg")===w&&!Q.closest("[data-type='group']")&&!Q.closest("[data-type='node']"))&&(M(Y,!0),M(W,$,!0),M(P,V,!0),M(A,$,!0),M(X,V,!0));return}}function mt(N){if(o(x)){const $=N.clientX-k,V=N.clientY-D;Yn.set(R+$),Hn.set(B+V);return}if(o(Y)){const{x:$,y:V}=j(N.clientX,N.clientY);M(A,$,!0),M(X,V,!0);return}if(o(F)&&U!==null&&c()==="Configuration"){const{x:$,y:V}=j(N.clientX,N.clientY);mi(U,$,V);return}if(o(S)&&G!==null&&c()==="Configuration"){const{x:$,y:V}=j(N.clientX,N.clientY);In.update(Q=>{const Z=[...Q];return Z[G]&&(Z[G]={...Z[G],x:$,y:V}),Z});return}}function Nt(N){if(o(x)){M(x,!1);return}if(o(Y)){M(Y,!1);const $=Math.min(o(W),o(A)),V=Math.min(o(P),o(X)),Q=Math.max(o(W),o(A)),Z=Math.max(o(P),o(X));Math.abs(Q-$)>20&&Math.abs(Z-V)>20&&ki({x1:$,y1:V,x2:Q,y2:Z,name:"New Group",color:"",light_bg:"#e3f0ff",light_border:"#3a7bd5",dark_bg:"#22304a",dark_border:"#3a7bd5",color_preset_id:"preset1"});return}if(o(F)){M(F,!1),U=null;return}if(o(S)){M(S,!1),G=null;return}}function wt(N){N.preventDefault();const $=N.deltaY<0?1.1:.9,V=w.getBoundingClientRect(),Q=N.clientX-V.left,Z=N.clientY-V.top,gt=s()*$,Ut=Q-(Q-r())*$,Ce=Z-(Z-l())*$;gn.set(gt),Yn.set(Ut),Hn.set(Ce)}function Bt(N){if(c()!=="Configuration"||a())return;if(N.shiftKey){const{x:Q,y:Z}=j(N.clientX,N.clientY);pt.set("stickyNote"),window.__stickyNotePosition={x:Q,y:Z};return}const{x:$,y:V}=j(N.clientX,N.clientY);pt.set("nodeEditor"),window.__newNodePosition={x:$,y:V},window.__editNodeIndex=null}function vt(N){N.preventDefault()}function ft(N,$){if(N.button===0)hi.set(i()),Gn.set($),c()==="Configuration"&&!a()&&(M(F,!0),U=$),Pl($);else if(N.button===1){if(N.preventDefault(),c()!=="Configuration")return;if(N.shiftKey){const Q=u().findIndex(Z=>Z.from===$||Z.to===$);Q>=0&&_r(Q);return}f()===null?Jo.set($):f()!==$&&(window.__connectionFromIndex=f(),window.__connectionToIndex=$,window.__editConnectionIndex=null,pt.set("connectionEditor"),Jo.set(null))}else N.button===2&&(N.preventDefault(),N.stopPropagation(),So.set({visible:!0,x:N.clientX,y:N.clientY,nodeIndex:$,connectionIndex:null}))}function St(N,$){N.button===0&&c()==="Configuration"?(M(S,!0),G=$):N.button===2&&c()==="Configuration"&&(N.preventDefault(),So.set({visible:!0,x:N.clientX,y:N.clientY,nodeIndex:null,connectionIndex:null}),window.__contextStickyIndex=$)}function dt(N,$){if(c()!=="Configuration"||N.button!==1)return;if(N.preventDefault(),N.shiftKey){_r($);return}const{x:V,y:Q}=j(N.clientX,N.clientY),Z=u()[$],gt=p()[Z.from],Ut=p()[Z.to],Ce=Ml(gt.x,gt.y,Ut.x,Ut.y,Z.waypoints),Dt=Bi(V,Q,Ce),te=[...Z.waypoints??[]];te.splice(Dt,0,[V,Q]),de.update(Ie=>{const Xe=[...Ie];return Xe[$]={...Xe[$],waypoints:te},Xe}),yn.set(!0)}function O(N,$){if(N.button!==2)return;N.preventDefault(),window.__editConnectionIndex=$;const V=u()[$];window.__connectionFromIndex=V.from,window.__connectionToIndex=V.to,pt.set("connectionEditor")}function kt(N,$){const V=d()[N];if(!V||V.length===0)return $;const Q=V.every(gt=>gt),Z=V.some(gt=>gt);return Q?o(H).NODE_PING_SUCCESS:Z?o(H).NODE_PING_PARTIAL_SUCCESS:o(H).NODE_PING_FAILURE}var at=zi();at.__mousedown=it,at.__mousemove=mt,at.__mouseup=Nt,at.__dblclick=Bt,at.__contextmenu=vt;let Ot;var Gt=E(at),Ht=E(Gt),It=E(Ht);{var Jt=N=>{var $=ye(),V=Ct($);Ft(V,1,_,Xt,(Q,Z,gt)=>{const Ut=q(()=>Ti(o(Z).color_preset_id,n(),T()));Pi(Q,{get group(){return o(Z)},index:gt,get bgColor(){return o(Ut).bg},get borderColor(){return o(Ut).border},get textColor(){return o(H).GROUP_TEXT}})}),I(N,$)};st(It,N=>{b().show_groups!==!1&&N(Jt)})}var Vt=y(Ht),se=E(Vt);{var Et=N=>{var $=ye(),V=Ct($);Ft(V,1,u,Xt,(Q,Z,gt)=>{var Ut=ye(),Ce=Ct(Ut);{var Dt=te=>{{let Ie=q(()=>b().show_connection_labels!==!1),Xe=q(()=>c()==="Configuration");Gi(te,{get connection(){return o(Z)},index:gt,get fromNode(){return p()[o(Z).from]},get toNode(){return p()[o(Z).to]},get lineColor(){return o(H).Connections},get textColor(){return o(H).INFO_TEXT},get labelBgColor(){return o(H).INFO_NOTE_BG},get showLabels(){return o(Ie)},get showHandles(){return o(Xe)},onMiddleClick:Fe=>dt(Fe,gt),onRightClick:Fe=>O(Fe,gt)})}};st(Ce,te=>{p()[o(Z).from]&&p()[o(Z).to]&&te(Dt)})}I(Q,Ut)}),I(N,$)};st(se,N=>{b().show_connections!==!1&&N(Et)})}var ut=y(Vt),Kt=E(ut);{var Qt=N=>{var $=ye(),V=Ct($);Ft(V,1,v,Xt,(Q,Z,gt)=>{Xi(Q,{get note(){return o(Z)},index:gt,get textColor(){return o(H).INFO_TEXT},get bgColor(){return o(H).INFO_NOTE_BG},onMouseDown:Ut=>St(Ut,gt)})}),I(N,$)};st(Kt,N=>{b().show_notes!==!1&&N(Qt)})}var Ue=y(ut);Ft(Ue,5,p,Xt,(N,$,V)=>{{let Q=q(()=>kt(V,o(H).NODE_DEFAULT)),Z=q(()=>i()===V?o(H).NODE_HIGHLIGHT:o(H).NODE_OUTLINE_DEFAULT),gt=q(()=>i()===V?4:2),Ut=q(()=>b().node_size??14);Ai(N,{get node(){return o($)},index:V,get fillColor(){return o(Q)},get outlineColor(){return o(Z)},get outlineWidth(){return o(gt)},get textColor(){return o(H).BUTTON_TEXT},get fontSize(){return o(Ut)},onMouseDown:Ce=>ft(Ce,V)})}});var _e=y(Ue),ve=E(_e);{var Oe=N=>{var $=ye(),V=Ct($);Ft(V,1,u,Xt,(Q,Z,gt)=>{var Ut=ye(),Ce=Ct(Ut);{var Dt=te=>{var Ie=ye(),Xe=Ct(Ie);Ft(Xe,17,()=>o(Z).waypoints,Xt,(Fe,lo,Wo)=>{Hi(Fe,{get x(){return o(lo)[0]},get y(){return o(lo)[1]},connectionIndex:gt,waypointIndex:Wo})}),I(te,Ie)};st(Ce,te=>{o(Z).waypoints&&te(Dt)})}I(Q,Ut)}),I(N,$)};st(ve,N=>{c()==="Configuration"&&N(Oe)})}var Ge=y(Gt);{var sn=N=>{var $=Vi();K((V,Q,Z,gt)=>{z($,"x",V),z($,"y",Q),z($,"width",Z),z($,"height",gt),z($,"stroke",o(H).GROUP_OUTLINE)},[()=>Math.min(o(W),o(A))*s()+r(),()=>Math.min(o(P),o(X))*s()+l(),()=>Math.abs(o(A)-o(W))*s(),()=>Math.abs(o(X)-o(P))*s()]),I(N,$)};st(Ge,N=>{o(Y)&&N(sn)})}ko(at,N=>w=N,()=>w),K(()=>{Ot=h(at,"",Ot,{"background-color":o(H).FRAME_BG,cursor:o(x)?"grabbing":a()?"crosshair":"default"}),z(Gt,"transform",`translate(${r()??""},${l()??""}) scale(${s()??""})`)}),Vo("wheel",at,wt),I(t,at),bt(),C()}$t(["mousedown","mousemove","mouseup","dblclick","contextmenu"]);function ji(t,e){const n={name:e.name,ip:"",file:e.file_path||"",web:e.web_config_url||"",rdp:e.remote_desktop_address||""};for(const[r,s]of Object.entries(e.vlans))n[r.toLowerCase()]=s||"";for(const r of Object.values(e.vlans))if(r){n.ip=r;break}return t.replace(/\{(\w+)\}/g,(r,s)=>{const l=s.toLowerCase();return n[l]??r})}async function qi(t){if(t)try{await we("open_rdp",{address:t})}catch(e){console.error("Failed to open RDP:",e)}}async function Ki(t){if(t)try{await we("open_file_explorer",{path:t})}catch(e){console.error("Failed to open file explorer:",e)}}async function Zi(t){if(t)try{await we("open_browser",{url:t})}catch(e){console.error("Failed to open browser:",e)}}async function Ji(t,e){const n=ji(t,e);try{await we("execute_command",{command:n})}catch(r){console.error("Failed to execute command:",r)}}async function Qi(){try{return await we("get_local_ips")}catch(t){return console.error("Failed to get local IPs:",t),[]}}var ta=J("<button>VLAN Config</button> <button>Node List</button> <button>Connections List</button> <button> </button>",1),ea=J('<div class="flex items-center gap-1 px-2 py-1 flex-wrap"><button>Start Menu</button> <button> </button> <button>Display Options</button> <!> <button>Who am I?</button> <button>Clear Status</button> <button>Ping All</button></div>');function na(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",a),r=()=>L(vo,"$groupsModeActive",a),s=()=>L(Yt,"$nodes",a),l=()=>L(no,"$mode",a),[a,c]=Rt();let i=q(()=>At(n()));function u(){no.update(A=>A==="Operator"?"Configuration":"Operator"),r()&&vo.set(!1)}function f(){vo.update(A=>!A)}async function p(){try{const A=await Qi(),X=s();for(let S=0;S<X.length;S++){const G=X[S];Object.values(G.vlans).some(j=>A.includes(j))&&Tn.update(j=>({...j,[S]:[!0]}))}}catch{}}let d="px-3 py-1.5 text-xs font-medium rounded transition-colors";var b=ea();let _;var T=E(b);rt(T,1,"px-3 py-1.5 text-xs font-medium rounded transition-colors font-bold"),T.__click=()=>Ao.set(!0);let v;var g=y(T,2);rt(g,1,ct(d)),g.__click=u;let C;var w=E(g),x=y(g,2);rt(x,1,ct(d)),x.__click=()=>pt.set("displayOptions");let k;var D=y(x,2);{var R=A=>{var X=ta(),S=Ct(X);rt(S,1,ct(d)),S.__click=()=>pt.set("vlanConfig");let G;var H=y(S,2);rt(H,1,ct(d)),H.__click=()=>pt.set("nodeList");let j;var it=y(H,2);rt(it,1,ct(d)),it.__click=()=>pt.set("connectionList");let mt;var Nt=y(it,2);rt(Nt,1,d),Nt.__click=f;let wt;var Bt=E(Nt);K(()=>{G=h(S,"",G,{"background-color":o(i).BUTTON_BG,color:o(i).BUTTON_TEXT}),j=h(H,"",j,{"background-color":o(i).BUTTON_BG,color:o(i).BUTTON_TEXT}),mt=h(it,"",mt,{"background-color":o(i).BUTTON_BG,color:o(i).BUTTON_TEXT}),wt=h(Nt,"",wt,{"background-color":r()?o(i).BUTTON_ACTIVE_BG:o(i).BUTTON_BG,color:o(i).BUTTON_TEXT}),yt(Bt,r()?"Groups (Active)":"Groups")}),I(A,X)};st(D,A=>{l()==="Configuration"&&A(R)})}var B=y(D,2);rt(B,1,ct(d)),B.__click=p;let F;var U=y(B,2);rt(U,1,ct(d)),U.__click=()=>Li();let Y;var W=y(U,2);rt(W,1,ct(d)),W.__click=()=>Di();let P;K(()=>{_=h(b,"",_,{"background-color":o(i).FRAME_BG,"border-bottom":`1px solid ${o(i).BORDER_COLOR??""}`}),v=h(T,"",v,{"background-color":o(i).BUTTON_BG,color:o(i).BUTTON_TEXT}),C=h(g,"",C,{"background-color":l()==="Configuration"?o(i).BUTTON_CONFIGURATION_MODE:o(i).BUTTON_BG,color:o(i).BUTTON_TEXT}),yt(w,`${l()??""} Mode`),k=h(x,"",k,{"background-color":o(i).BUTTON_BG,color:o(i).BUTTON_TEXT}),F=h(B,"",F,{"background-color":o(i).BUTTON_BG,color:o(i).BUTTON_TEXT}),Y=h(U,"",Y,{"background-color":o(i).BUTTON_BG,color:o(i).BUTTON_TEXT}),P=h(W,"",P,{"background-color":o(i).BUTTON_BG,color:o(i).BUTTON_TEXT})}),I(t,b),bt(),c()}$t(["click"]);function oa(t,e){return e.filter(n=>{const r=t.vlans[n];return r!=null&&r!==""}).map(n=>({key:n,value:t.vlans[n]}))}var ra=J('<div class="text-sm flex items-center gap-2 py-0.5"><span class="opacity-60"> </span> <span class="px-1 rounded"> </span></div>'),la=J('<div class="absolute top-2 right-2 p-3 rounded shadow-lg min-w-[180px]"><div class="text-sm font-medium mb-2"><span class="opacity-60">Name:</span> <span class="ml-2"> </span></div> <!></div>');function sa(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",i),r=()=>L(Gn,"$selectedNodeIndex",i),s=()=>L(Yt,"$nodes",i),l=()=>L($e,"$vlanLabelOrder",i),a=()=>L(Tn,"$pingResults",i),c=()=>L(We,"$vlanLabels",i),[i,u]=Rt();let f=q(()=>At(n())),p=q(()=>r()!==null?s()[r()]:null),d=q(()=>o(p)?oa(o(p),l()):[]),b=q(()=>r()!==null?a()[r()]:void 0);function _(C){return!o(b)||C>=o(b).length?null:o(b)[C]?o(f).NODE_PING_SUCCESS:o(f).NODE_PING_FAILURE}var T=ye(),v=Ct(T);{var g=C=>{var w=la();let x;var k=E(w),D=y(E(k),2),R=E(D),B=y(k,2);Ft(B,17,()=>o(d),Xt,(F,U,Y)=>{var W=ra(),P=E(W),A=E(P),X=y(P,2);let S;var G=E(X);K(H=>{yt(A,`${c()[o(U).key]??o(U).key??""}:`),S=h(X,"",S,H),yt(G,o(U).value)},[()=>({"background-color":_(Y)??"transparent",color:_(Y)?"#fff":o(f).INFO_TEXT})]),I(F,W)}),K(()=>{x=h(w,"",x,{"background-color":o(f).INFO_NOTE_BG,color:o(f).INFO_TEXT,border:`1px solid ${o(f).BORDER_COLOR??""}`}),yt(R,o(p).name)}),I(C,w)};st(v,C=>{o(p)&&C(g)})}I(t,T),bt(),u()}var ia=J('<div class="absolute bottom-2 left-2 flex items-center gap-1 px-2 py-1 rounded shadow"><button class="px-2 py-0.5 text-sm cursor-pointer hover:opacity-70">+</button> <button class="px-2 py-0.5 text-sm cursor-pointer hover:opacity-70 min-w-[3rem] text-center"> </button> <button class="px-2 py-0.5 text-sm cursor-pointer hover:opacity-70">&ndash;</button></div>');function aa(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",s),r=()=>L(bi,"$zoomPercent",s),[s,l]=Rt();let a=q(()=>At(n()));function c(){gn.update(v=>v*1.1)}function i(){gn.update(v=>v*.9)}function u(){gn.set(1),Yn.set(0),Hn.set(0)}var f=ia();let p;var d=E(f);d.__click=c;var b=y(d,2);b.__click=u;var _=E(b),T=y(b,2);T.__click=i,K(()=>{p=h(f,"",p,{"background-color":o(a).FRAME_BG,color:o(a).BUTTON_TEXT,border:`1px solid ${o(a).BORDER_COLOR??""}`}),yt(_,`${r()??""}%`)}),I(t,f),bt(),l()}$t(["click"]);var ca=J('<div class="text-center py-1 text-sm font-bold">Groups Mode Active: Click and Drag to create a group. Click a group to edit.</div>');function ua(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",s),r=()=>L(vo,"$groupsModeActive",s),[s,l]=Rt();let a=q(()=>At(n()));var c=ye(),i=Ct(c);{var u=f=>{var p=ca();let d;K(()=>d=h(p,"",d,{"background-color":o(a).FRAME_BG,color:"#ff9900"})),I(f,p)};st(i,f=>{r()&&f(u)})}I(t,c),bt(),l()}var fa=J('<div class="border-t"></div> <button class="block w-full text-left px-4 py-2 text-sm hover:opacity-80">Delete Node</button>',1),da=J('<button class="block w-full text-left px-4 py-2 text-sm hover:opacity-80"> </button>'),_a=J('<div class="border-t"></div> <!>',1),va=J('<button class="block w-full text-left px-4 py-2 text-sm hover:opacity-80">Edit Node Information</button> <button class="block w-full text-left px-4 py-2 text-sm hover:opacity-80">Open Remote Desktop</button> <button class="block w-full text-left px-4 py-2 text-sm hover:opacity-80">Open File Explorer</button> <button class="block w-full text-left px-4 py-2 text-sm hover:opacity-80">Open Web Browser</button> <!>  <!>',1),pa=J('<button class="block w-full text-left px-4 py-2 text-sm hover:opacity-80">Delete Sticky Note</button>'),ha=J('<div class="fixed z-50 shadow-lg rounded overflow-hidden"><!></div>');function ba(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",c),r=()=>L(So,"$contextMenu",c),s=()=>L(Yt,"$nodes",c),l=()=>L(fn,"$customCommands",c),a=()=>L(no,"$mode",c),[c,i]=Rt();let u=q(()=>At(n()));function f(){So.set({visible:!1,x:0,y:0,nodeIndex:null,connectionIndex:null}),window.__contextStickyIndex=void 0}function p(g){g(),f()}function d(){r().visible&&f()}function b(g){const C=s()[g];if(!C)return[];const w=[];for(const[x,k]of Object.entries(l())){let D,R=null;typeof k=="string"?D=k:(D=k.template,R=k.applicable_nodes),!(R!==null&&!R.includes(C.name))&&w.push({name:x,template:D})}return w}var _=ye();Vo("click",po,d);var T=Ct(_);{var v=g=>{var C=ha();C.__click=R=>R.stopPropagation();let w;var x=E(C);{var k=R=>{const B=q(()=>r().nodeIndex),F=q(()=>s()[o(B)]);var U=ye(),Y=Ct(U);{var W=P=>{const A=q(()=>b(o(B)));var X=va(),S=Ct(X);S.__click=()=>p(()=>{window.__editNodeIndex=o(B),window.__newNodePosition=null,pt.set("nodeEditor")});let G;var H=y(S,2);H.__click=()=>p(()=>qi(o(F).remote_desktop_address));let j;var it=y(H,2);it.__click=()=>p(()=>Ki(o(F).file_path));let mt;var Nt=y(it,2);Nt.__click=()=>p(()=>Zi(o(F).web_config_url));let wt;var Bt=y(Nt,2);{var vt=dt=>{var O=fa(),kt=Ct(O);let at;var Ot=y(kt,2);Ot.__click=()=>p(()=>Xl(o(B))),h(Ot,"",{},{color:"#ef4444"}),K(()=>at=h(kt,"",at,{"border-color":o(u).BORDER_COLOR})),I(dt,O)};st(Bt,dt=>{a()==="Configuration"&&dt(vt)})}var ft=y(Bt,2);{var St=dt=>{var O=_a(),kt=Ct(O);let at;var Ot=y(kt,2);Ft(Ot,17,()=>o(A),Xt,(Gt,Ht)=>{var It=da();It.__click=()=>p(()=>Ji(o(Ht).template,o(F)));let Jt;var Vt=E(It);K(()=>{Jt=h(It,"",Jt,{color:o(u).BUTTON_TEXT}),yt(Vt,o(Ht).name)}),I(Gt,It)}),K(()=>at=h(kt,"",at,{"border-color":o(u).BORDER_COLOR})),I(dt,O)};st(ft,dt=>{o(A).length>0&&dt(St)})}K(()=>{G=h(S,"",G,{color:o(u).BUTTON_TEXT}),j=h(H,"",j,{color:o(u).BUTTON_TEXT}),mt=h(it,"",mt,{color:o(u).BUTTON_TEXT}),wt=h(Nt,"",wt,{color:o(u).BUTTON_TEXT})}),I(P,X)};st(Y,P=>{o(F)&&P(W)})}I(R,U)},D=R=>{var B=ye(),F=Ct(B);{var U=Y=>{const W=q(()=>window.__contextStickyIndex);var P=pa();P.__click=()=>p(()=>wi(o(W))),h(P,"",{},{color:"#ef4444"}),I(Y,P)};st(F,Y=>{window.__contextStickyIndex!==void 0&&Y(U)},!0)}I(R,B)};st(x,R=>{r().nodeIndex!==null?R(k):R(D,!1)})}K(()=>w=h(C,"",w,{left:`${r().x??""}px`,top:`${r().y??""}px`,"background-color":o(u).BUTTON_BG,border:`1px solid ${o(u).BORDER_COLOR??""}`})),I(g,C)};st(T,g=>{r().visible&&g(v)})}I(t,_),bt(),i()}$t(["click"]);async function ga(t={}){return typeof t=="object"&&Object.freeze(t),await we("plugin:dialog|open",{options:t})}async function ya(t={}){return typeof t=="object"&&Object.freeze(t),await we("plugin:dialog|save",{options:t})}const Yl=Tt({hideStartMenuOnStartup:!1,lastFilePath:"",windowGeometry:""});function Ta(t){var b;const e=new Set(Object.keys(t.vlan_labels??{})),n=new Set;for(const _ of t.nodes??[])for(const T of Object.keys(_))T.startsWith("VLAN_")&&n.add(T);const r=new Set([...e,...n]),s={};for(const _ of r)s[_]=((b=t.vlan_labels)==null?void 0:b[_])??_;let l;if(t.vlan_label_order){l=t.vlan_label_order.filter(_=>_ in s);for(const _ of Object.keys(s))l.includes(_)||l.push(_)}else l=Object.keys(s);const a=(t.nodes??[]).map(_=>{const T={};for(const v of Object.keys(_))v.startsWith("VLAN_")&&(T[v]=String(_[v]??""));return{name:_.name,x:_.x,y:_.y,vlans:T,remote_desktop_address:_.remote_desktop_address??"",file_path:_.file_path??"",web_config_url:_.web_config_url??""}}),c=(t.connections??[]).map(_=>{var T;return{from:_.from,to:_.to,label:_.label??"",connectioninfo:_.connectioninfo,waypoints:(T=_.waypoints)==null?void 0:T.map(v=>[v[0],v[1]]),label_pos:_.label_pos??.5}}),i=(t.stickynotes??[]).map(_=>({text:_.text,x:_.x,y:_.y})),u=(t.groups??[]).map(_=>({x1:_.x1,y1:_.y1,x2:_.x2,y2:_.y2,name:_.name??"",color:_.color??"",light_bg:_.light_bg??"",light_border:_.light_border??"",dark_bg:_.dark_bg??"",dark_border:_.dark_border??"",color_preset_id:_.color_preset_id??"preset1"})),f=t.group_color_presets??[...zo],p=t.custom_commands??{},d=t.display_options??{node_size:14,show_connections:!0,show_connection_labels:!0,show_notes:!0,show_groups:!0};return{nodes:a,connections:c,stickyNotes:i,groups:u,vlanLabels:s,vlanLabelOrder:l,groupColorPresets:f,customCommands:p,displayOptions:d}}function ma(t){const e=t.nodes.map(r=>{const s={name:r.name,x:r.x,y:r.y,remote_desktop_address:r.remote_desktop_address,file_path:r.file_path,web_config_url:r.web_config_url};for(const[l,a]of Object.entries(r.vlans))s[l]=a;for(const l of Object.keys(t.vlanLabels))l in s||(s[l]="");return s}),n=t.connections.map(r=>{const s={from:r.from,to:r.to,label:r.label};return r.label_pos!==void 0&&r.label_pos!==.5&&(s.label_pos=r.label_pos),r.connectioninfo&&(s.connectioninfo=r.connectioninfo),r.waypoints&&r.waypoints.length>0&&(s.waypoints=r.waypoints),s});return{nodes:e,connections:n,vlan_labels:t.vlanLabels,vlan_label_order:t.vlanLabelOrder,stickynotes:t.stickyNotes,groups:t.groups,group_color_presets:t.groupColorPresets,custom_commands:t.customCommands,display_options:t.displayOptions}}async function Hl(t){try{let e=t;if(!e){const l=await ga({multiple:!1,filters:[{name:"JSON",extensions:["json"]}]});if(!l)return;e=l}const n=await we("load_file",{path:e}),r=JSON.parse(n),s=Ta(r);Fl(),Yt.set(s.nodes),de.set(s.connections),In.set(s.stickyNotes),mn.set(s.groups),We.set(s.vlanLabels),$e.set(s.vlanLabelOrder),No.set(s.groupColorPresets),fn.set(s.customCommands),Ln.set(s.displayOptions),Tn.set({}),Uo.set(e),Gn.set(null),gn.set(1),Yn.set(0),Hn.set(0),yn.set(!1),Yl.update(l=>({...l,lastFilePath:e}));try{await we("save_settings",{settings:{last_file_path:e}})}catch{}}catch(e){console.error("Failed to load file:",e)}}async function Vl(t=!1){try{let e=ne(Uo);if(!e||t){const s=await ya({filters:[{name:"JSON",extensions:["json"]}]});if(!s)return;e=s}const n=ma({nodes:ne(Yt),connections:ne(de),stickyNotes:ne(In),groups:ne(mn),vlanLabels:ne(We),vlanLabelOrder:ne($e),groupColorPresets:ne(No),customCommands:ne(fn),displayOptions:ne(Ln)}),r=JSON.stringify(n,null,4);await we("save_file",{path:e,content:r}),Uo.set(e),yn.set(!1),Yl.update(s=>({...s,lastFilePath:e}));try{await we("save_settings",{settings:{last_file_path:e}})}catch{}}catch(e){console.error("Failed to save file:",e)}}async function Ea(){Fl(),Uo.set(null),Gn.set(null),gn.set(1),Yn.set(0),Hn.set(0),yn.set(!1)}var xa=J('<div class="fixed inset-0 z-40"></div> <div class="fixed z-50 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[320px] rounded-lg shadow-xl overflow-hidden"><div class="flex justify-center py-4"><div class="w-20 h-20 rounded-lg flex items-center justify-center text-2xl font-bold">NS</div></div> <div class="px-4 pb-4 space-y-2"><button>Create New Network</button> <button>Save</button> <button>Load</button> <button> </button> <button>Configuration Menu</button> <button>Help</button> <button>Close</button></div></div>',1);function wa(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",r),[r,s]=Rt();let l=q(()=>At(n()));function a(){Ao.set(!1)}function c(){Ea(),a()}async function i(){await Vl(),a()}async function u(){await Hl(),a()}function f(){xt.update(mt=>!mt)}function p(){a(),pt.set("customCommands")}function d(){a(),pt.set("help")}let b="w-full py-2 text-sm rounded hover:opacity-80 transition-opacity";var _=xa(),T=Ct(_);T.__click=a,h(T,"",{},{"background-color":"rgba(0,0,0,0.3)"});var v=y(T,2);v.__click=mt=>mt.stopPropagation();let g;var C=E(v),w=E(C);let x;var k=y(C,2),D=E(k);rt(D,1,ct(b)),D.__click=c;let R;var B=y(D,2);rt(B,1,ct(b)),B.__click=i;let F;var U=y(B,2);rt(U,1,ct(b)),U.__click=u;let Y;var W=y(U,2);rt(W,1,ct(b)),W.__click=f;let P;var A=E(W),X=y(W,2);rt(X,1,ct(b)),X.__click=p;let S;var G=y(X,2);rt(G,1,ct(b)),G.__click=d;let H;var j=y(G,2);rt(j,1,ct(b)),j.__click=a;let it;K(()=>{g=h(v,"",g,{border:`2px solid ${o(l).BORDER_COLOR??""}`,"background-color":o(l).FRAME_BG}),x=h(w,"",x,{"background-color":o(l).BUTTON_BG,color:o(l).BUTTON_TEXT}),R=h(D,"",R,{"background-color":o(l).BUTTON_BG,color:o(l).BUTTON_TEXT}),F=h(B,"",F,{"background-color":o(l).BUTTON_BG,color:o(l).BUTTON_TEXT}),Y=h(U,"",Y,{"background-color":o(l).BUTTON_BG,color:o(l).BUTTON_TEXT}),P=h(W,"",P,{"background-color":o(l).BUTTON_BG,color:o(l).BUTTON_TEXT}),yt(A,n()?"Light Mode":"Dark Mode"),S=h(X,"",S,{"background-color":o(l).BUTTON_BG,color:o(l).BUTTON_TEXT}),H=h(G,"",H,{"background-color":o(l).BUTTON_BG,color:o(l).BUTTON_TEXT}),it=h(j,"",it,{"background-color":o(l).BUTTON_BG,color:o(l).BUTTON_TEXT})}),I(t,_),bt(),s()}$t(["click"]);var ka=J('<div class="fixed inset-0 z-40"></div> <div class="fixed z-50 rounded shadow-xl overflow-hidden"><div class="flex items-center justify-between px-3 py-2 cursor-move select-none"><span class="text-sm font-medium"> </span> <button class="text-sm px-2 py-0.5 rounded hover:opacity-70">X</button></div> <div class="p-4 overflow-auto"><!></div></div>',1);function Ne(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",r),[r,s]=Rt();let l=pi(e,"width",3,400),a=q(()=>At(n())),c=tt(!1),i=0,u=0,f=tt(-1),p=tt(-1),d;function b(){e.onClose?e.onClose():pt.set(null)}function _(A){M(c,!0),i=A.clientX-o(f),u=A.clientY-o(p);const X=G=>{o(c)&&(M(f,G.clientX-i),M(p,G.clientY-u))},S=()=>{M(c,!1),window.removeEventListener("mousemove",X),window.removeEventListener("mouseup",S)};window.addEventListener("mousemove",X),window.addEventListener("mouseup",S)}function T(A){A.key==="Escape"&&b()}wr(()=>{if(d&&o(f)===-1){const A=d.getBoundingClientRect();M(f,(window.innerWidth-A.width)/2),M(p,(window.innerHeight-A.height)/2)}});var v=ka();Vo("keydown",po,T);var g=Ct(v);g.__click=b,h(g,"",{},{"background-color":"rgba(0,0,0,0.3)"});var C=y(g,2);C.__click=A=>A.stopPropagation();let w;var x=E(C);x.__mousedown=_;let k;var D=E(x);let R;var B=E(D),F=y(D,2);F.__click=b;let U;var Y=y(x,2);let W;var P=E(Y);ni(P,()=>e.children),ko(C,A=>d=A,()=>d),K(()=>{w=h(C,"",w,{left:`${o(f)??""}px`,top:`${o(p)??""}px`,width:`${l()??""}px`,border:`2px solid ${o(a).BORDER_COLOR??""}`,"background-color":o(a).FRAME_BG}),k=h(x,"",k,{"background-color":o(a).FRAME_BG,"border-bottom":`1px solid ${o(a).BORDER_COLOR??""}`}),R=h(D,"",R,{color:o(a).BUTTON_TEXT}),yt(B,e.title),U=h(F,"",U,{color:o(a).BUTTON_TEXT,"background-color":o(a).FRAME_BG}),W=h(Y,"",W,{"max-height":"80vh","background-color":o(a).FRAME_BG})}),I(t,v),bt(),s()}$t(["click","mousedown"]);var Na=J(`<div class="text-sm space-y-4"><h2 class="text-base font-bold">Help</h2> <div><h3 class="font-bold mb-1">Overview:</h3> <p>NodeSailor is a simple network visualization tool. It allows the user to create a network map, display and test their connections with options for pinging, quick launchers for file explorer, web browser, RDP and more with the implementation of custom commands.</p></div> <div><h3 class="font-bold mb-1">User Modes:</h3> <ul class="list-disc pl-5 space-y-0.5"><li><strong>Operator:</strong> Monitor and interact with the network.</li> <li><strong>Configuration:</strong> Build and edit the network layout.</li></ul></div> <div><h3 class="font-bold mb-1">Operator Mode:</h3> <ul class="list-disc pl-5 space-y-0.5"><li>Left Click on Node: Ping the node (Green = all IPs connected, Yellow = partial, Red = no connection).</li> <li>Right Click on Node: Open context menu.</li> <li>Right Click and Drag: Pan the canvas.</li> <li>Scroll Wheel: Zoom in and out.</li> <li>Who am I?: Highlight node matching active system IP address.</li> <li>Ping All: Ping every node.</li> <li>Clear Status: Reset node status.</li></ul></div> <div><h3 class="font-bold mb-1">Configuration Mode:</h3> <ul class="list-disc pl-5 space-y-0.5"><li>Double Left Click: Create a new node.</li> <li>Shift + Double Left Click: Add a sticky note.</li> <li>Middle Click: Create a connection line between two nodes.</li> <li>Shift + Middle Click: Remove connection line.</li> <li>Left Click + Drag: Move nodes or notes.</li> <li>Right Click on Node: Open context menu.</li></ul></div> <div><h3 class="font-bold mb-1">Groups:</h3> <p>Groups allow the configurator to visually organize nodes into labeled rectangles. Use the Groups button to create, edit, or remove groups.</p></div> <div><h3 class="font-bold mb-1">Node List Editor:</h3> <p>Presents all nodes in a table for quick editing. Access via the Node List button.</p></div> <div><h3 class="font-bold mb-1">Custom Commands:</h3> <ul class="list-disc pl-5 space-y-0.5"><li>Access through 'Start Menu &gt; Configuration Menu'.</li> <li>Use placeholders like &#123;ip&#125;, &#123;name&#125;, &#123;file&#125;, &#123;web&#125;.</li> <li>Example: ping &#123;ip&#125; -t</li></ul></div> <div><h3 class="font-bold mb-1">Keyboard Shortcuts:</h3> <ul class="list-disc pl-5 space-y-0.5"><li>Ctrl+Shift+C: Change color theme</li> <li>Ctrl+S: Save</li> <li>Ctrl+L: Load</li> <li>F1: Help</li> <li>Arrow keys: Pan canvas</li></ul></div></div>`);function Oa(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",r),[r,s]=Rt();let l=q(()=>At(n()));function a(){pt.set(null)}Ne(t,{title:"Help - Keyboard Shortcuts and Functions",width:550,onClose:a,children:(c,i)=>{var u=Na();let f;K(()=>f=h(u,"",f,{color:o(l).BUTTON_TEXT})),I(c,u)},$$slots:{default:!0}}),bt(),s()}var Ca=J('<div><label class="block text-xs mb-1"> </label> <input type="text"/></div>'),Ra=J('<p class="text-xs text-orange-400"> </p>'),Ba=J('<div class="space-y-3"><div><label class="block text-xs mb-1">Node Name:</label> <input type="text"/></div> <!> <div><label class="block text-xs mb-1">Remote Desktop Address:</label> <input type="text"/></div> <div><label class="block text-xs mb-1">File Path:</label> <input type="text"/></div> <div><label class="block text-xs mb-1">Web Config URL:</label> <input type="text"/></div> <!> <button class="w-full py-2 text-sm rounded">Save</button></div>');function Da(t,e){var D,R,B,F;ht(e,!0);const n=()=>L(xt,"$isDark",c),r=()=>L(Yt,"$nodes",c),s=()=>L($e,"$vlanLabelOrder",c),l=()=>L(no,"$mode",c),a=()=>L(We,"$vlanLabels",c),[c,i]=Rt();let u=q(()=>At(n())),f=window.__editNodeIndex??null,p=window.__newNodePosition??null,d=q(()=>f!==null?r()[f]:null),b=tt(ce(((D=o(d))==null?void 0:D.name)??"")),_=tt(ce(((R=o(d))==null?void 0:R.remote_desktop_address)??"")),T=tt(ce(((B=o(d))==null?void 0:B.file_path)??"")),v=tt(ce(((F=o(d))==null?void 0:F.web_config_url)??"")),g=tt(ce({}));wr(()=>{var Y;const U={};for(const W of s())U[W]=((Y=o(d))==null?void 0:Y.vlans[W])??"";M(g,U,!0)});let C=tt("");function w(){if(l()!=="Configuration"){M(C,"Switch to Configuration mode to save.");return}f!==null?(Ke(f,{name:o(b),vlans:{...o(g)},remote_desktop_address:o(_),file_path:o(T),web_config_url:o(v)}),Gn.set(f)):o(b)&&p&&(Il({name:o(b),x:p.x,y:p.y,vlans:{...o(g)},remote_desktop_address:o(_),file_path:o(T),web_config_url:o(v)}),Gn.set(r().length-1)),pt.set(null)}function x(){window.__editNodeIndex=null,window.__newNodePosition=null,pt.set(null)}let k="w-full px-2 py-1 text-sm rounded border outline-none";{let U=q(()=>f!==null?"Edit Node":"Create Node");Ne(t,{get title(){return o(U)},width:400,onClose:x,children:(Y,W)=>{var P=Ba(),A=E(P),X=E(A);let S;var G=y(X,2);rt(G,1,ct(k));let H;var j=y(A,2);Ft(j,1,s,Xt,(Et,ut)=>{var Kt=Ca(),Qt=E(Kt);let Ue;var _e=E(Qt),ve=y(Qt,2);rt(ve,1,ct(k));let Oe;K(()=>{Ue=h(Qt,"",Ue,{color:o(u).BUTTON_TEXT}),yt(_e,`${a()[o(ut)]??o(ut)??""}:`),Oe=h(ve,"",Oe,{"background-color":o(u).ENTRY_FOCUS_BG,color:o(u).ENTRY_TEXT,"border-color":o(u).CELL_BORDER})}),ze(ve,()=>o(g)[o(ut)],Ge=>o(g)[o(ut)]=Ge),I(Et,Kt)});var it=y(j,2),mt=E(it);let Nt;var wt=y(mt,2);rt(wt,1,ct(k));let Bt;var vt=y(it,2),ft=E(vt);let St;var dt=y(ft,2);rt(dt,1,ct(k));let O;var kt=y(vt,2),at=E(kt);let Ot;var Gt=y(at,2);rt(Gt,1,ct(k));let Ht;var It=y(kt,2);{var Jt=Et=>{var ut=Ra(),Kt=E(ut);K(()=>yt(Kt,o(C))),I(Et,ut)};st(It,Et=>{o(C)&&Et(Jt)})}var Vt=y(It,2);Vt.__click=w;let se;K(()=>{S=h(X,"",S,{color:o(u).BUTTON_TEXT}),H=h(G,"",H,{"background-color":o(u).ENTRY_FOCUS_BG,color:o(u).ENTRY_TEXT,"border-color":o(u).CELL_BORDER}),Nt=h(mt,"",Nt,{color:o(u).BUTTON_TEXT}),Bt=h(wt,"",Bt,{"background-color":o(u).ENTRY_FOCUS_BG,color:o(u).ENTRY_TEXT,"border-color":o(u).CELL_BORDER}),St=h(ft,"",St,{color:o(u).BUTTON_TEXT}),O=h(dt,"",O,{"background-color":o(u).ENTRY_FOCUS_BG,color:o(u).ENTRY_TEXT,"border-color":o(u).CELL_BORDER}),Ot=h(at,"",Ot,{color:o(u).BUTTON_TEXT}),Ht=h(Gt,"",Ht,{"background-color":o(u).ENTRY_FOCUS_BG,color:o(u).ENTRY_TEXT,"border-color":o(u).CELL_BORDER}),se=h(Vt,"",se,{"background-color":o(u).BUTTON_BG,color:o(u).BUTTON_TEXT})}),ze(G,()=>o(b),Et=>M(b,Et)),ze(wt,()=>o(_),Et=>M(_,Et)),ze(dt,()=>o(T),Et=>M(T,Et)),ze(Gt,()=>o(v),Et=>M(v,Et)),I(Y,P)},$$slots:{default:!0}})}bt(),i()}$t(["click"]);var La=J('<div class="space-y-3"><div><label class="block text-xs mb-1">Label:</label> <input type="text"/></div> <div><label class="block text-xs mb-1">Info (on hover):</label> <input type="text"/></div> <button class="w-full py-2 text-sm rounded">OK</button></div>');function $a(t,e){var v,g;ht(e,!0);const n=()=>L(xt,"$isDark",s),r=()=>L(de,"$connections",s),[s,l]=Rt();let a=q(()=>At(n())),c=window.__editConnectionIndex??null,i=window.__connectionFromIndex??0,u=window.__connectionToIndex??0,f=q(()=>c!==null?r()[c]:null),p=tt(ce(((v=o(f))==null?void 0:v.label)??"")),d=tt(ce(((g=o(f))==null?void 0:g.connectioninfo)??""));function b(){c!==null?dr(c,{label:o(p),connectioninfo:o(d)||void 0}):Ei({from:i,to:u,label:o(p),connectioninfo:o(d)||void 0,label_pos:.5}),_()}function _(){window.__editConnectionIndex=null,window.__connectionFromIndex=null,window.__connectionToIndex=null,pt.set(null)}let T="w-full px-2 py-1 text-sm rounded border outline-none";Ne(t,{title:"Connection Details",width:400,onClose:_,children:(C,w)=>{var x=La(),k=E(x),D=E(k);let R;var B=y(D,2);rt(B,1,ct(T));let F;var U=y(k,2),Y=E(U);let W;var P=y(Y,2);rt(P,1,ct(T));let A;var X=y(U,2);X.__click=b;let S;K(()=>{R=h(D,"",R,{color:o(a).BUTTON_TEXT}),F=h(B,"",F,{"background-color":o(a).ENTRY_FOCUS_BG,color:o(a).ENTRY_TEXT,"border-color":o(a).CELL_BORDER}),W=h(Y,"",W,{color:o(a).BUTTON_TEXT}),A=h(P,"",A,{"background-color":o(a).ENTRY_FOCUS_BG,color:o(a).ENTRY_TEXT,"border-color":o(a).CELL_BORDER}),S=h(X,"",S,{"background-color":o(a).BUTTON_BG,color:o(a).BUTTON_TEXT})}),ze(B,()=>o(p),G=>M(p,G)),ze(P,()=>o(d),G=>M(d,G)),I(C,x)},$$slots:{default:!0}}),bt(),l()}$t(["click"]);var Aa=J('<div class="text-center"><p class="text-sm mb-4"> </p> <div class="flex justify-center gap-3"><button class="px-4 py-1.5 text-sm rounded">Yes</button> <button class="px-4 py-1.5 text-sm rounded">No</button> <button class="px-4 py-1.5 text-sm rounded">Cancel</button></div></div>');function Sa(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",r),[r,s]=Rt();let l=q(()=>At(n())),a=window.__confirmMessage??"Are you sure?",c=window.__confirmOnYes,i=window.__confirmOnNo;function u(){window.__confirmMessage=null,window.__confirmOnYes=null,window.__confirmOnNo=null,pt.set(null)}function f(){c==null||c(),u()}function p(){i==null||i(),u()}Ne(t,{title:"",width:300,onClose:u,children:(d,b)=>{var _=Aa(),T=E(_);let v;var g=E(T),C=y(T,2),w=E(C);w.__click=f;let x;var k=y(w,2);k.__click=p;let D;var R=y(k,2);R.__click=u;let B;K(()=>{v=h(T,"",v,{color:o(l).BUTTON_TEXT}),yt(g,a),x=h(w,"",x,{"background-color":o(l).BUTTON_BG,color:o(l).BUTTON_TEXT}),D=h(k,"",D,{"background-color":o(l).BUTTON_BG,color:o(l).BUTTON_TEXT}),B=h(R,"",B,{"background-color":o(l).BUTTON_BG,color:o(l).BUTTON_TEXT})}),I(d,_)},$$slots:{default:!0}}),bt(),s()}$t(["click"]);var Ua=J('<div class="space-y-3"><label class="block text-xs">Enter note text:</label> <input type="text" class="w-full px-2 py-1 text-sm rounded border outline-none"/> <div class="flex gap-2 justify-center"><button class="px-4 py-1.5 text-sm rounded">OK</button> <button class="px-4 py-1.5 text-sm rounded">Cancel</button></div></div>');function Ga(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",r),[r,s]=Rt();let l=q(()=>At(n())),a=tt(""),c=window.__stickyNotePosition??{x:50,y:50};function i(){o(a).trim()&&xi({text:o(a).trim(),x:c.x,y:c.y}),u()}function u(){window.__stickyNotePosition=null,pt.set(null)}Ne(t,{title:"Sticky Note",width:320,onClose:u,children:(f,p)=>{var d=Ua(),b=E(d);let _;var T=y(b,2);let v;var g=y(T,2),C=E(g);C.__click=i;let w;var x=y(C,2);x.__click=u;let k;K(()=>{_=h(b,"",_,{color:o(l).BUTTON_TEXT}),v=h(T,"",v,{"background-color":o(l).ENTRY_FOCUS_BG,color:o(l).ENTRY_TEXT,"border-color":o(l).CELL_BORDER}),w=h(C,"",w,{"background-color":o(l).BUTTON_BG,color:o(l).BUTTON_TEXT}),k=h(x,"",k,{"background-color":o(l).BUTTON_BG,color:o(l).BUTTON_TEXT})}),ze(T,()=>o(a),D=>M(a,D)),I(f,d)},$$slots:{default:!0}}),bt(),s()}$t(["click"]);var Ia=J('<th class="sticky top-0 px-2 py-1 text-left"> </th>'),Xa=J('<td class="px-1 py-0.5"><input type="text"/></td>'),Fa=J('<tr><td class="px-1 py-0.5"><input type="text"/></td><td class="px-1 py-0.5"><input type="text"/></td><td class="px-1 py-0.5"><input type="text"/></td><!><td class="px-1 py-0.5"><input type="text"/></td><td class="px-1 py-0.5"><input type="text"/></td><td class="px-1 py-0.5"><input type="text"/></td><td class="px-1 py-0.5 text-center"><button class="text-red-500 hover:text-red-400 text-xs">Del</button></td></tr>'),Ma=J('<div class="overflow-auto max-h-[60vh]"><table class="w-full text-xs border-collapse"><thead><tr><th class="sticky top-0 px-2 py-1 text-left">Name</th><th class="sticky top-0 px-2 py-1 text-left">X</th><th class="sticky top-0 px-2 py-1 text-left">Y</th><!><th class="sticky top-0 px-2 py-1 text-left">RDP</th><th class="sticky top-0 px-2 py-1 text-left">File</th><th class="sticky top-0 px-2 py-1 text-left">Web</th><th class="sticky top-0 px-2 py-1"></th></tr></thead><tbody></tbody></table></div> <div class="mt-3"><button class="px-3 py-1.5 text-xs rounded">Add Node</button></div>',1);function Pa(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",a),r=()=>L($e,"$vlanLabelOrder",a),s=()=>L(Yt,"$nodes",a),l=()=>L(We,"$vlanLabels",a),[a,c]=Rt();let i=q(()=>At(n()));function u(){pt.set(null)}function f(){Il({name:"New Node",x:400,y:300,vlans:Object.fromEntries(r().map(_=>[_,""])),remote_desktop_address:"",file_path:"",web_config_url:""})}function p(_){Xl(_)}function d(_,T,v){const g=s()[_];if(g){if(T==="name")Ke(_,{name:v});else if(T==="x")Ke(_,{x:parseFloat(v)||0});else if(T==="y")Ke(_,{y:parseFloat(v)||0});else if(T==="rdp")Ke(_,{remote_desktop_address:v});else if(T==="file")Ke(_,{file_path:v});else if(T==="web")Ke(_,{web_config_url:v});else if(T.startsWith("VLAN_")){const C={...g.vlans,[T]:v};Ke(_,{vlans:C})}}}let b="w-full px-1 py-0.5 text-xs border outline-none";Ne(t,{title:"Node List Editor",width:900,onClose:u,children:(_,T)=>{var v=Ma(),g=Ct(v),C=E(g),w=E(C),x=E(w),k=E(x);let D;var R=y(k);let B;var F=y(R);let U;var Y=y(F);Ft(Y,1,r,Xt,(Bt,vt)=>{var ft=Ia();let St;var dt=E(ft);K(()=>{St=h(ft,"",St,{"background-color":o(i).HEADER_BG,color:o(i).HEADER_TEXT}),yt(dt,l()[o(vt)]??o(vt))}),I(Bt,ft)});var W=y(Y);let P;var A=y(W);let X;var S=y(A);let G;var H=y(S);let j;var it=y(w);Ft(it,5,s,Xt,(Bt,vt,ft)=>{var St=Fa();let dt;var O=E(St);let kt;var at=E(O);rt(at,1,ct(b)),at.__change=Dt=>d(ft,"name",Dt.target.value);let Ot;var Gt=y(O);let Ht;var It=E(Gt);rt(It,1,"w-full px-1 py-0.5 text-xs border outline-none w-16"),It.__change=Dt=>d(ft,"x",Dt.target.value);let Jt;var Vt=y(Gt);let se;var Et=E(Vt);rt(Et,1,"w-full px-1 py-0.5 text-xs border outline-none w-16"),Et.__change=Dt=>d(ft,"y",Dt.target.value);let ut;var Kt=y(Vt);Ft(Kt,1,r,Xt,(Dt,te)=>{var Ie=Xa();let Xe;var Fe=E(Ie);rt(Fe,1,ct(b)),Fe.__change=Wo=>d(ft,o(te),Wo.target.value);let lo;K(()=>{Xe=h(Ie,"",Xe,{border:`1px solid ${o(i).CELL_BORDER??""}`}),Te(Fe,o(vt).vlans[o(te)]??""),lo=h(Fe,"",lo,{"background-color":o(i).ENTRY_FOCUS_BG,color:o(i).ENTRY_TEXT,"border-color":o(i).CELL_BORDER})}),I(Dt,Ie)});var Qt=y(Kt);let Ue;var _e=E(Qt);rt(_e,1,ct(b)),_e.__change=Dt=>d(ft,"rdp",Dt.target.value);let ve;var Oe=y(Qt);let Ge;var sn=E(Oe);rt(sn,1,ct(b)),sn.__change=Dt=>d(ft,"file",Dt.target.value);let N;var $=y(Oe);let V;var Q=E($);rt(Q,1,ct(b)),Q.__change=Dt=>d(ft,"web",Dt.target.value);let Z;var gt=y($);let Ut;var Ce=E(gt);Ce.__click=()=>p(ft),K((Dt,te)=>{dt=h(St,"",dt,{"background-color":ft%2===0?o(i).ROW_BG_EVEN:o(i).ROW_BG_ODD}),kt=h(O,"",kt,{border:`1px solid ${o(i).CELL_BORDER??""}`}),Te(at,o(vt).name),Ot=h(at,"",Ot,{"background-color":o(i).ENTRY_FOCUS_BG,color:o(i).ENTRY_TEXT,"border-color":o(i).CELL_BORDER}),Ht=h(Gt,"",Ht,{border:`1px solid ${o(i).CELL_BORDER??""}`}),Te(It,Dt),Jt=h(It,"",Jt,{"background-color":o(i).ENTRY_FOCUS_BG,color:o(i).ENTRY_TEXT,"border-color":o(i).CELL_BORDER}),se=h(Vt,"",se,{border:`1px solid ${o(i).CELL_BORDER??""}`}),Te(Et,te),ut=h(Et,"",ut,{"background-color":o(i).ENTRY_FOCUS_BG,color:o(i).ENTRY_TEXT,"border-color":o(i).CELL_BORDER}),Ue=h(Qt,"",Ue,{border:`1px solid ${o(i).CELL_BORDER??""}`}),Te(_e,o(vt).remote_desktop_address),ve=h(_e,"",ve,{"background-color":o(i).ENTRY_FOCUS_BG,color:o(i).ENTRY_TEXT,"border-color":o(i).CELL_BORDER}),Ge=h(Oe,"",Ge,{border:`1px solid ${o(i).CELL_BORDER??""}`}),Te(sn,o(vt).file_path),N=h(sn,"",N,{"background-color":o(i).ENTRY_FOCUS_BG,color:o(i).ENTRY_TEXT,"border-color":o(i).CELL_BORDER}),V=h($,"",V,{border:`1px solid ${o(i).CELL_BORDER??""}`}),Te(Q,o(vt).web_config_url),Z=h(Q,"",Z,{"background-color":o(i).ENTRY_FOCUS_BG,color:o(i).ENTRY_TEXT,"border-color":o(i).CELL_BORDER}),Ut=h(gt,"",Ut,{border:`1px solid ${o(i).CELL_BORDER??""}`})},[()=>Math.round(o(vt).x),()=>Math.round(o(vt).y)]),I(Bt,St)});var mt=y(g,2),Nt=E(mt);Nt.__click=f;let wt;K(()=>{D=h(k,"",D,{"background-color":o(i).HEADER_BG,color:o(i).HEADER_TEXT}),B=h(R,"",B,{"background-color":o(i).HEADER_BG,color:o(i).HEADER_TEXT}),U=h(F,"",U,{"background-color":o(i).HEADER_BG,color:o(i).HEADER_TEXT}),P=h(W,"",P,{"background-color":o(i).HEADER_BG,color:o(i).HEADER_TEXT}),X=h(A,"",X,{"background-color":o(i).HEADER_BG,color:o(i).HEADER_TEXT}),G=h(S,"",G,{"background-color":o(i).HEADER_BG,color:o(i).HEADER_TEXT}),j=h(H,"",j,{"background-color":o(i).HEADER_BG,color:o(i).HEADER_TEXT}),wt=h(Nt,"",wt,{"background-color":o(i).BUTTON_BG,color:o(i).BUTTON_TEXT})}),I(_,v)},$$slots:{default:!0}}),bt(),c()}$t(["change","click"]);var Ya=J('<tr><td class="px-2 py-0.5"> </td><td class="px-2 py-0.5"> </td><td class="px-1 py-0.5"><input type="text"/></td><td class="px-1 py-0.5"><input type="text"/></td><td class="px-2 py-0.5 text-center"> </td><td class="px-1 py-0.5 text-center"><button class="text-red-500 hover:text-red-400 text-xs">Del</button></td></tr>'),Ha=J('<div class="overflow-auto max-h-[60vh]"><table class="w-full text-xs border-collapse"><thead><tr><th class="sticky top-0 px-2 py-1 text-left">From</th><th class="sticky top-0 px-2 py-1 text-left">To</th><th class="sticky top-0 px-2 py-1 text-left">Label</th><th class="sticky top-0 px-2 py-1 text-left">Info</th><th class="sticky top-0 px-2 py-1 text-left">Waypoints</th><th class="sticky top-0 px-2 py-1"></th></tr></thead><tbody></tbody></table></div>');function Va(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",l),r=()=>L(de,"$connections",l),s=()=>L(Yt,"$nodes",l),[l,a]=Rt();let c=q(()=>At(n()));function i(){pt.set(null)}function u(d,b,_){b==="label"?dr(d,{label:_}):b==="info"&&dr(d,{connectioninfo:_||void 0})}function f(d){_r(d)}let p="w-full px-1 py-0.5 text-xs border outline-none";Ne(t,{title:"Connections List Editor",width:700,onClose:i,children:(d,b)=>{var _=Ha(),T=E(_),v=E(T),g=E(v),C=E(g);let w;var x=y(C);let k;var D=y(x);let R;var B=y(D);let F;var U=y(B);let Y;var W=y(U);let P;var A=y(v);Ft(A,5,r,Xt,(X,S,G)=>{var H=Ya();let j;var it=E(H);let mt;var Nt=E(it),wt=y(it);let Bt;var vt=E(wt),ft=y(wt);let St;var dt=E(ft);rt(dt,1,ct(p)),dt.__change=ut=>u(G,"label",ut.target.value);let O;var kt=y(ft);let at;var Ot=E(kt);rt(Ot,1,ct(p)),Ot.__change=ut=>u(G,"info",ut.target.value);let Gt;var Ht=y(kt);let It;var Jt=E(Ht),Vt=y(Ht);let se;var Et=E(Vt);Et.__click=()=>f(G),K(()=>{var ut,Kt,Qt;j=h(H,"",j,{"background-color":G%2===0?o(c).ROW_BG_EVEN:o(c).ROW_BG_ODD}),mt=h(it,"",mt,{border:`1px solid ${o(c).CELL_BORDER??""}`,color:o(c).ENTRY_TEXT}),yt(Nt,((ut=s()[o(S).from])==null?void 0:ut.name)??`Node ${o(S).from}`),Bt=h(wt,"",Bt,{border:`1px solid ${o(c).CELL_BORDER??""}`,color:o(c).ENTRY_TEXT}),yt(vt,((Kt=s()[o(S).to])==null?void 0:Kt.name)??`Node ${o(S).to}`),St=h(ft,"",St,{border:`1px solid ${o(c).CELL_BORDER??""}`}),Te(dt,o(S).label),O=h(dt,"",O,{"background-color":o(c).ENTRY_FOCUS_BG,color:o(c).ENTRY_TEXT,"border-color":o(c).CELL_BORDER}),at=h(kt,"",at,{border:`1px solid ${o(c).CELL_BORDER??""}`}),Te(Ot,o(S).connectioninfo??""),Gt=h(Ot,"",Gt,{"background-color":o(c).ENTRY_FOCUS_BG,color:o(c).ENTRY_TEXT,"border-color":o(c).CELL_BORDER}),It=h(Ht,"",It,{border:`1px solid ${o(c).CELL_BORDER??""}`,color:o(c).ENTRY_TEXT}),yt(Jt,((Qt=o(S).waypoints)==null?void 0:Qt.length)??0),se=h(Vt,"",se,{border:`1px solid ${o(c).CELL_BORDER??""}`})}),I(X,H)}),K(()=>{w=h(C,"",w,{"background-color":o(c).HEADER_BG,color:o(c).HEADER_TEXT}),k=h(x,"",k,{"background-color":o(c).HEADER_BG,color:o(c).HEADER_TEXT}),R=h(D,"",R,{"background-color":o(c).HEADER_BG,color:o(c).HEADER_TEXT}),F=h(B,"",F,{"background-color":o(c).HEADER_BG,color:o(c).HEADER_TEXT}),Y=h(U,"",Y,{"background-color":o(c).HEADER_BG,color:o(c).HEADER_TEXT}),P=h(W,"",P,{"background-color":o(c).HEADER_BG,color:o(c).HEADER_TEXT})}),I(d,_)},$$slots:{default:!0}}),bt(),a()}$t(["change","click"]);var za=J('<button class="px-2 py-1 text-xs rounded border-2"> </button>'),Wa=J('<div class="p-3 rounded"><div class="flex items-center gap-2 mb-2"><input type="text"/> <button class="text-red-500 hover:text-red-400 text-xs px-2">Delete</button></div> <div class="flex flex-wrap gap-2"></div></div>'),ja=J(`<p class="text-sm opacity-60">No groups yet. Use Groups mode to draw group rectangles on
        the canvas.</p>`),qa=J('<div class="space-y-4"><!> <!></div>');function Ka(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",l),r=()=>L(No,"$groupColorPresets",l),s=()=>L(mn,"$groups",l),[l,a]=Rt();let c=q(()=>At(n()));function i(){pt.set(null)}function u(b,_){Fr(b,{name:_})}function f(b,_){const T=r().find(v=>v.id===_);T&&Fr(b,{color_preset_id:_,light_bg:T.light_bg,light_border:T.light_border,dark_bg:T.dark_bg,dark_border:T.dark_border})}function p(b){Ni(b)}let d="w-full px-2 py-1 text-xs rounded border outline-none";Ne(t,{title:"Group Editor",width:500,onClose:i,children:(b,_)=>{var T=qa(),v=E(T);Ft(v,1,s,Xt,(w,x,k)=>{var D=Wa();let R;var B=E(D),F=E(B);rt(F,1,ct(d)),F.__change=P=>u(k,P.target.value);let U;var Y=y(F,2);Y.__click=()=>p(k);var W=y(B,2);Ft(W,5,r,Xt,(P,A)=>{var X=za();X.__click=()=>f(k,o(A).id);let S;var G=E(X);K(()=>{S=h(X,"",S,{"background-color":n()?o(A).dark_bg:o(A).light_bg,"border-color":o(x).color_preset_id===o(A).id?o(c).NODE_HIGHLIGHT:n()?o(A).dark_border:o(A).light_border,color:o(c).BUTTON_TEXT}),yt(G,o(A).name)}),I(P,X)}),K(()=>{R=h(D,"",R,{border:`1px solid ${o(c).BORDER_COLOR??""}`,"background-color":o(c).ROW_BG_EVEN}),Te(F,o(x).name),U=h(F,"",U,{"background-color":o(c).ENTRY_FOCUS_BG,color:o(c).ENTRY_TEXT,"border-color":o(c).CELL_BORDER})}),I(w,D)});var g=y(v,2);{var C=w=>{var x=ja();let k;K(()=>k=h(x,"",k,{color:o(c).INFO_TEXT})),I(w,x)};st(g,w=>{s().length===0&&w(C)})}I(b,T)},$$slots:{default:!0}}),bt(),a()}$t(["change","click"]);var Za=J('<div class="flex items-center gap-2"><span class="text-xs opacity-60 w-20 shrink-0"> </span> <input type="text"/> <button class="text-xs px-1 hover:opacity-70">&#9650;</button> <button class="text-xs px-1 hover:opacity-70">&#9660;</button> <button class="text-xs text-red-500 hover:text-red-400 px-1">X</button></div>'),Ja=J('<div class="space-y-2"></div> <div class="mt-4"><button class="px-3 py-1.5 text-xs rounded">Add VLAN</button></div>',1);function Qa(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",a),r=()=>L(We,"$vlanLabels",a),s=()=>L(Yt,"$nodes",a),l=()=>L($e,"$vlanLabelOrder",a),[a,c]=Rt();let i=q(()=>At(n()));function u(){pt.set(null)}function f(T,v){We.update(g=>({...g,[T]:v}))}function p(){const T=Object.keys(r());let v=1;for(;T.includes(`VLAN_${v}`);)v++;const g=`VLAN_${v}`;We.update(w=>({...w,[g]:g})),$e.update(w=>[...w,g]),s().forEach((w,x)=>{g in w.vlans||Ke(x,{vlans:{...w.vlans,[g]:""}})})}function d(T){We.update(v=>{const g={...v};return delete g[T],g}),$e.update(v=>v.filter(g=>g!==T))}function b(T,v){$e.update(g=>{const C=g.indexOf(T);if(C<0)return g;const w=[...g],x=v==="up"?C-1:C+1;return x<0||x>=w.length?g:([w[C],w[x]]=[w[x],w[C]],w)})}let _="w-full px-2 py-1 text-xs rounded border outline-none";Ne(t,{title:"VLAN Configuration",width:400,onClose:u,children:(T,v)=>{var g=Ja(),C=Ct(g);Ft(C,5,l,Xt,(D,R,B)=>{var F=Za(),U=E(F);let Y;var W=E(U),P=y(U,2);rt(P,1,ct(_)),P.__change=it=>f(o(R),it.target.value);let A;var X=y(P,2);X.__click=()=>b(o(R),"up"),X.disabled=B===0;let S;var G=y(X,2);G.__click=()=>b(o(R),"down");let H;var j=y(G,2);j.__click=()=>d(o(R)),K(()=>{Y=h(U,"",Y,{color:o(i).INFO_TEXT}),yt(W,`${o(R)??""}:`),Te(P,r()[o(R)]??o(R)),A=h(P,"",A,{"background-color":o(i).ENTRY_FOCUS_BG,color:o(i).ENTRY_TEXT,"border-color":o(i).CELL_BORDER}),S=h(X,"",S,{color:o(i).BUTTON_TEXT}),G.disabled=B===l().length-1,H=h(G,"",H,{color:o(i).BUTTON_TEXT})}),I(D,F)});var w=y(C,2),x=E(w);x.__click=p;let k;K(()=>k=h(x,"",k,{"background-color":o(i).BUTTON_BG,color:o(i).BUTTON_TEXT})),I(T,g)},$$slots:{default:!0}}),bt(),c()}$t(["change","click"]);var tc=J('<div class="space-y-3"><label class="flex items-center gap-2 text-sm"><input type="checkbox"/> Show Connections</label> <label class="flex items-center gap-2 text-sm"><input type="checkbox"/> Show Connection Labels</label> <label class="flex items-center gap-2 text-sm"><input type="checkbox"/> Show Sticky Notes</label> <label class="flex items-center gap-2 text-sm"><input type="checkbox"/> Show Groups</label> <div><label class="block text-sm mb-1"> </label> <input type="range" min="8" max="32" class="w-full"/></div></div>');function ec(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",s),r=()=>L(Ln,"$displayOptions",s),[s,l]=Rt();let a=q(()=>At(n()));function c(){pt.set(null)}function i(f){Ln.update(p=>({...p,[f]:!p[f]}))}function u(f){Ln.update(p=>({...p,node_size:f}))}Ne(t,{title:"Display Options",width:350,onClose:c,children:(f,p)=>{var d=tc(),b=E(d);let _;var T=E(b);T.__change=()=>i("show_connections");var v=y(b,2);let g;var C=E(v);C.__change=()=>i("show_connection_labels");var w=y(v,2);let x;var k=E(w);k.__change=()=>i("show_notes");var D=y(w,2);let R;var B=E(D);B.__change=()=>i("show_groups");var F=y(D,2),U=E(F);let Y;var W=E(U),P=y(U,2);P.__input=A=>u(parseInt(A.target.value)),K(()=>{_=h(b,"",_,{color:o(a).BUTTON_TEXT}),co(T,r().show_connections!==!1),g=h(v,"",g,{color:o(a).BUTTON_TEXT}),co(C,r().show_connection_labels!==!1),x=h(w,"",x,{color:o(a).BUTTON_TEXT}),co(k,r().show_notes!==!1),R=h(D,"",R,{color:o(a).BUTTON_TEXT}),co(B,r().show_groups!==!1),Y=h(U,"",Y,{color:o(a).BUTTON_TEXT}),yt(W,`Node Size: ${r().node_size??14??""}`),Te(P,r().node_size??14)}),I(f,d)},$$slots:{default:!0}}),bt(),l()}$t(["change","input"]);var nc=J('<button class="w-full text-left px-2 py-1 text-xs rounded"> </button>'),oc=J('<label class="flex items-center gap-2 text-xs"><input type="checkbox"/> </label>'),rc=J('<div class="max-h-32 overflow-auto p-2 rounded"></div>'),lc=J('<div class="space-y-3"><div><label class="block text-xs mb-1">Name:</label> <input type="text"/></div> <div><label class="block text-xs mb-1">Template:</label> <textarea></textarea> <p class="text-xs opacity-50 mt-1">Available: &#123;ip&#125;, &#123;name&#125;, &#123;file&#125;, &#123;web&#125;, &#123;rdp&#125;, &#123;vlan_N&#125;</p></div> <div><label class="flex items-center gap-2 text-xs"><input type="checkbox"/> Apply to all nodes</label></div> <!> <div class="flex gap-2"><button class="px-3 py-1.5 text-xs rounded">Save</button> <button class="px-3 py-1.5 text-xs rounded text-red-500">Delete</button></div></div>'),sc=J('<p class="text-xs opacity-60">Select a command to edit or add a new one.</p>'),ic=J('<div class="flex gap-4"><div class="w-1/3 space-y-1"><!> <button class="w-full text-left px-2 py-1 text-xs rounded mt-2">+ Add Command</button></div> <div class="flex-1"><!></div></div>');function ac(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",l),r=()=>L(fn,"$customCommands",l),s=()=>L(Yt,"$nodes",l),[l,a]=Rt();let c=q(()=>At(n())),i=tt(null),u=tt(""),f=tt(""),p=tt(!0),d=tt(ce([]));function b(){pt.set(null)}function _(x){M(i,x,!0);const k=r()[x];if(M(u,x,!0),typeof k=="string")M(f,k,!0),M(p,!0),M(d,[],!0);else{M(f,k.template,!0);const D=k.applicable_nodes;M(p,D===null),M(d,D??[],!0)}}function T(){const x="New Command";fn.update(k=>({...k,[x]:{template:"",applicable_nodes:null}})),_(x)}function v(){!o(i)||!o(u)||(fn.update(x=>{const k={...x};return o(i)!==o(u)&&delete k[o(i)],k[o(u)]={template:o(f),applicable_nodes:o(p)?null:o(d)},k}),M(i,o(u),!0))}function g(){o(i)&&(fn.update(x=>{const k={...x};return delete k[o(i)],k}),M(i,null))}function C(x){o(d).includes(x)?M(d,o(d).filter(k=>k!==x),!0):M(d,[...o(d),x],!0)}let w="w-full px-2 py-1 text-xs rounded border outline-none";Ne(t,{title:"Custom Commands",width:600,onClose:b,children:(x,k)=>{var D=ic(),R=E(D),B=E(R);Ft(B,1,()=>Object.keys(r()),Xt,(X,S)=>{var G=nc();G.__click=()=>_(o(S));let H;var j=E(G);K(()=>{H=h(G,"",H,{"background-color":o(i)===o(S)?o(c).BUTTON_ACTIVE_BG:o(c).BUTTON_BG,color:o(c).BUTTON_TEXT}),yt(j,o(S))}),I(X,G)});var F=y(B,2);F.__click=T;let U;var Y=y(R,2),W=E(Y);{var P=X=>{var S=lc(),G=E(S),H=E(G);let j;var it=y(H,2);rt(it,1,ct(w));let mt;var Nt=y(G,2),wt=E(Nt);let Bt;var vt=y(wt,2);rt(vt,1,"w-full px-2 py-1 text-xs rounded border outline-none h-20 resize-y");let ft;var St=y(vt,2);let dt;var O=y(Nt,2),kt=E(O);let at;var Ot=E(kt),Gt=y(O,2);{var Ht=ut=>{var Kt=rc();let Qt;Ft(Kt,5,s,Xt,(Ue,_e)=>{var ve=oc();let Oe;var Ge=E(ve);Ge.__change=()=>C(o(_e).name);var sn=y(Ge);K(N=>{Oe=h(ve,"",Oe,{color:o(c).BUTTON_TEXT}),co(Ge,N),yt(sn,` ${o(_e).name??""}`)},[()=>o(d).includes(o(_e).name)]),I(Ue,ve)}),K(()=>Qt=h(Kt,"",Qt,{"background-color":o(c).ROW_BG_EVEN,border:`1px solid ${o(c).CELL_BORDER??""}`})),I(ut,Kt)};st(Gt,ut=>{o(p)||ut(Ht)})}var It=y(Gt,2),Jt=E(It);Jt.__click=v;let Vt;var se=y(Jt,2);se.__click=g;let Et;K(()=>{j=h(H,"",j,{color:o(c).BUTTON_TEXT}),mt=h(it,"",mt,{"background-color":o(c).ENTRY_FOCUS_BG,color:o(c).ENTRY_TEXT,"border-color":o(c).CELL_BORDER}),Bt=h(wt,"",Bt,{color:o(c).BUTTON_TEXT}),ft=h(vt,"",ft,{"background-color":o(c).ENTRY_FOCUS_BG,color:o(c).ENTRY_TEXT,"border-color":o(c).CELL_BORDER}),dt=h(St,"",dt,{color:o(c).INFO_TEXT}),at=h(kt,"",at,{color:o(c).BUTTON_TEXT}),Vt=h(Jt,"",Vt,{"background-color":o(c).BUTTON_BG,color:o(c).BUTTON_TEXT}),Et=h(se,"",Et,{"background-color":o(c).BUTTON_BG})}),ze(it,()=>o(u),ut=>M(u,ut)),ze(vt,()=>o(f),ut=>M(f,ut)),di(Ot,()=>o(p),ut=>M(p,ut)),I(X,S)},A=X=>{var S=sc();let G;K(()=>G=h(S,"",G,{color:o(c).INFO_TEXT})),I(X,S)};st(W,X=>{o(i)?X(P):X(A,!1)})}K(()=>U=h(F,"",U,{"background-color":o(c).BUTTON_BG,color:o(c).BUTTON_TEXT})),I(x,D)},$$slots:{default:!0}}),bt(),a()}$t(["click","change"]);var cc=J('<div class="flex items-center gap-2 text-xs"><div class="w-5 h-5 rounded border shrink-0"></div> <span> </span></div>'),uc=J('<div class="space-y-1"><div class="flex gap-2 mb-3"><button class="px-3 py-1.5 text-xs rounded">Dark</button> <button class="px-3 py-1.5 text-xs rounded">Light</button></div> <!></div>');function fc(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",r),[r,s]=Rt();let l=q(()=>At(n()));function a(){pt.set(null)}let c=q(()=>Object.keys(o(l)));Ne(t,{title:"Color Scheme",width:400,onClose:a,children:(i,u)=>{var f=uc(),p=E(f),d=E(p);d.__click=()=>xt.set(!0);let b;var _=y(d,2);_.__click=()=>xt.set(!1);let T;var v=y(p,2);Ft(v,17,()=>o(c),Xt,(g,C)=>{var w=cc(),x=E(w);let k;var D=y(x,2);let R;var B=E(D);K(()=>{k=h(x,"",k,{"background-color":o(l)[o(C)],"border-color":o(l).CELL_BORDER}),R=h(D,"",R,{color:o(l).BUTTON_TEXT}),yt(B,o(C))}),I(g,w)}),K(()=>{b=h(d,"",b,{"background-color":n()?o(l).BUTTON_ACTIVE_BG:o(l).BUTTON_BG,color:o(l).BUTTON_TEXT}),T=h(_,"",T,{"background-color":n()?o(l).BUTTON_BG:o(l).BUTTON_ACTIVE_BG,color:o(l).BUTTON_TEXT})}),I(i,f)},$$slots:{default:!0}}),bt(),s()}$t(["click"]);var dc=J('<div class="flex flex-col w-full h-full"><!> <!> <div class="relative flex-1 overflow-hidden"><!> <!> <!> <!></div></div> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>',1);function _c(t,e){ht(e,!0);const n=()=>L(xt,"$isDark",l),r=()=>L(Ao,"$showStartMenu",l),s=()=>L(pt,"$activeDialog",l),[l,a]=Rt();xo(()=>{n()?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("light")):(document.documentElement.classList.add("light"),document.documentElement.classList.remove("dark"))});function c(O){var at;const kt=(at=O.target)==null?void 0:at.tagName;kt==="INPUT"||kt==="TEXTAREA"||kt==="SELECT"||(O.ctrlKey&&O.shiftKey&&O.key==="C"?(O.preventDefault(),xt.update(Ot=>!Ot)):O.ctrlKey&&O.key==="s"?(O.preventDefault(),Vl()):O.ctrlKey&&O.key==="l"?(O.preventDefault(),Hl()):O.key==="F1"&&(O.preventDefault(),pt.set("help")))}wr(()=>{Ao.set(!0)});let i=q(()=>At(n()));var u=dc();Vo("keydown",po,c);var f=Ct(u);let p;var d=E(f);na(d,{});var b=y(d,2);ua(b,{});var _=y(b,2),T=E(_);Wi(T,{});var v=y(T,2);sa(v,{});var g=y(v,2);aa(g,{});var C=y(g,2);ba(C,{});var w=y(f,2);{var x=O=>{wa(O,{})};st(w,O=>{r()&&O(x)})}var k=y(w,2);{var D=O=>{Oa(O,{})};st(k,O=>{s()==="help"&&O(D)})}var R=y(k,2);{var B=O=>{Da(O,{})};st(R,O=>{s()==="nodeEditor"&&O(B)})}var F=y(R,2);{var U=O=>{$a(O,{})};st(F,O=>{s()==="connectionEditor"&&O(U)})}var Y=y(F,2);{var W=O=>{Sa(O,{})};st(Y,O=>{s()==="confirm"&&O(W)})}var P=y(Y,2);{var A=O=>{Ga(O,{})};st(P,O=>{s()==="stickyNote"&&O(A)})}var X=y(P,2);{var S=O=>{Pa(O,{})};st(X,O=>{s()==="nodeList"&&O(S)})}var G=y(X,2);{var H=O=>{Va(O,{})};st(G,O=>{s()==="connectionList"&&O(H)})}var j=y(G,2);{var it=O=>{Ka(O,{})};st(j,O=>{s()==="groupEditor"&&O(it)})}var mt=y(j,2);{var Nt=O=>{Qa(O,{})};st(mt,O=>{s()==="vlanConfig"&&O(Nt)})}var wt=y(mt,2);{var Bt=O=>{ec(O,{})};st(wt,O=>{s()==="displayOptions"&&O(Bt)})}var vt=y(wt,2);{var ft=O=>{ac(O,{})};st(vt,O=>{s()==="customCommands"&&O(ft)})}var St=y(vt,2);{var dt=O=>{fc(O,{})};st(St,O=>{s()==="colorScheme"&&O(dt)})}K(()=>p=h(f,"",p,{"background-color":o(i).FRAME_BG})),I(t,u),bt(),a()}Qs(_c,{target:document.getElementById("app")});
