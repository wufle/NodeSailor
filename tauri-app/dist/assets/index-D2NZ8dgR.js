var Zl=Object.defineProperty;var Br=e=>{throw TypeError(e)};var Jl=(e,t,o)=>t in e?Zl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var Mt=(e,t,o)=>Jl(e,typeof t!="symbol"?t+"":t,o),qo=(e,t,o)=>t.has(e)||Br("Cannot "+o);var y=(e,t,o)=>(qo(e,t,"read from private field"),o?o.call(e):t.get(e)),re=(e,t,o)=>t.has(e)?Br("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,o),oe=(e,t,o,r)=>(qo(e,t,"write to private field"),r?r.call(e,o):t.set(e,o),o),Qe=(e,t,o)=>(qo(e,t,"access private method"),o);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=o(l);fetch(l.href,s)}})();const Ql="5";var Vr;typeof window<"u"&&((Vr=window.__svelte??(window.__svelte={})).v??(Vr.v=new Set)).add(Ql);const es=1,ts=2,zr=4,ns=8,os=16,Wr=1,rs=2,We=Symbol(),ls="http://www.w3.org/1999/xhtml",er=!1;var jr=Array.isArray,ss=Array.prototype.indexOf,Qn=Array.prototype.includes,Fo=Array.from,qr=Object.defineProperty,fo=Object.getOwnPropertyDescriptor,is=Object.getOwnPropertyDescriptors,as=Object.prototype,cs=Array.prototype,Kr=Object.getPrototypeOf,Lr=Object.isExtensible;const _n=()=>{};function Zr(e){for(var t=0;t<e.length;t++)e[t]()}function Jr(){var e,t,o=new Promise((r,l)=>{e=r,t=l});return{promise:o,resolve:e,reject:t}}const qe=2,Do=4,Po=8,Qr=1<<24,rn=16,St=32,Fn=64,br=128,Et=512,Ye=1024,Ke=2048,Ut=4096,ut=8192,vn=16384,gr=32768,An=65536,$r=1<<17,el=1<<18,ro=1<<19,us=1<<20,nn=1<<25,Un=32768,tr=1<<21,Tr=1<<22,pn=1<<23,Ro=Symbol("$state"),ds=Symbol(""),Yn=new class extends Error{constructor(){super(...arguments);Mt(this,"name","StaleReactionError");Mt(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function fs(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function _s(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function vs(e,t,o){throw new Error("https://svelte.dev/e/each_key_duplicate")}function ps(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function hs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function bs(e){throw new Error("https://svelte.dev/e/effect_orphan")}function gs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ts(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ms(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ys(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Es(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}function xs(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function tl(e){return e===this.v}function nl(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ol(e){return!nl(e,this.v)}let ws=!1,dt=null;function eo(e){dt=e}function me(e,t=!1,o){dt={p:dt,i:!1,c:null,e:null,s:e,x:null,l:null}}function ye(e){var t=dt,o=t.e;if(o!==null){t.e=null;for(var r of o)wl(r)}return t.i=!0,dt=t.p,{}}function rl(){return!0}let xn=[];function ll(){var e=xn;xn=[],Zr(e)}function on(e){if(xn.length===0&&!_o){var t=xn;queueMicrotask(()=>{t===xn&&ll()})}xn.push(e)}function Ns(){for(;xn.length>0;)ll()}function sl(e){var t=pe;if(t===null)return ae.f|=pn,e;if((t.f&gr)===0){if((t.f&br)===0)throw e;t.b.error(e)}else to(e,t)}function to(e,t){for(;t!==null;){if((t.f&br)!==0)try{t.b.error(e);return}catch(o){e=o}t=t.parent}throw e}const Os=-7169;function Se(e,t){e.f=e.f&Os|t}function mr(e){(e.f&Et)!==0||e.deps===null?Se(e,Ye):Se(e,Ut)}function il(e){if(e!==null)for(const t of e)(t.f&qe)===0||(t.f&Un)===0||(t.f^=Un,il(t.deps))}function al(e,t,o){(e.f&Ke)!==0?t.add(e):(e.f&Ut)!==0&&o.add(e),il(e.deps),Se(e,Ye)}const Co=new Set;let le=null,nr=null,je=null,ot=[],Mo=null,or=!1,_o=!1;var zn,Wn,Nn,jn,To,mo,On,Jt,qn,Kt,rr,lr,cl;const Rr=class Rr{constructor(){re(this,Kt);Mt(this,"committed",!1);Mt(this,"current",new Map);Mt(this,"previous",new Map);re(this,zn,new Set);re(this,Wn,new Set);re(this,Nn,0);re(this,jn,0);re(this,To,null);re(this,mo,new Set);re(this,On,new Set);re(this,Jt,new Map);Mt(this,"is_fork",!1);re(this,qn,!1)}is_deferred(){return this.is_fork||y(this,jn)>0}skip_effect(t){y(this,Jt).has(t)||y(this,Jt).set(t,{d:[],m:[]})}unskip_effect(t){var o=y(this,Jt).get(t);if(o){y(this,Jt).delete(t);for(var r of o.d)Se(r,Ke),$t(r);for(r of o.m)Se(r,Ut),$t(r)}}process(t){var l;ot=[],this.apply();var o=[],r=[];for(const s of t)Qe(this,Kt,rr).call(this,s,o,r);if(this.is_deferred()){Qe(this,Kt,lr).call(this,r),Qe(this,Kt,lr).call(this,o);for(const[s,a]of y(this,Jt))_l(s,a)}else{for(const s of y(this,zn))s();y(this,zn).clear(),y(this,Nn)===0&&Qe(this,Kt,cl).call(this),nr=this,le=null,Dr(r),Dr(o),nr=null,(l=y(this,To))==null||l.resolve()}je=null}capture(t,o){o!==We&&!this.previous.has(t)&&this.previous.set(t,o),(t.f&pn)===0&&(this.current.set(t,t.v),je==null||je.set(t,t.v))}activate(){le=this,this.apply()}deactivate(){le===this&&(le=null,je=null)}flush(){if(this.activate(),ot.length>0){if(ul(),le!==null&&le!==this)return}else y(this,Nn)===0&&this.process([]);this.deactivate()}discard(){for(const t of y(this,Wn))t(this);y(this,Wn).clear()}increment(t){oe(this,Nn,y(this,Nn)+1),t&&oe(this,jn,y(this,jn)+1)}decrement(t){oe(this,Nn,y(this,Nn)-1),t&&oe(this,jn,y(this,jn)-1),!y(this,qn)&&(oe(this,qn,!0),on(()=>{oe(this,qn,!1),this.is_deferred()?ot.length>0&&this.flush():this.revive()}))}revive(){for(const t of y(this,mo))y(this,On).delete(t),Se(t,Ke),$t(t);for(const t of y(this,On))Se(t,Ut),$t(t);this.flush()}oncommit(t){y(this,zn).add(t)}ondiscard(t){y(this,Wn).add(t)}settled(){return(y(this,To)??oe(this,To,Jr())).promise}static ensure(){if(le===null){const t=le=new Rr;Co.add(le),_o||on(()=>{le===t&&t.flush()})}return le}apply(){}};zn=new WeakMap,Wn=new WeakMap,Nn=new WeakMap,jn=new WeakMap,To=new WeakMap,mo=new WeakMap,On=new WeakMap,Jt=new WeakMap,qn=new WeakMap,Kt=new WeakSet,rr=function(t,o,r){t.f^=Ye;for(var l=t.first,s=null;l!==null;){var a=l.f,c=(a&(St|Fn))!==0,i=c&&(a&Ye)!==0,u=i||(a&ut)!==0||y(this,Jt).has(l);if(!u&&l.fn!==null){c?l.f^=Ye:s!==null&&(a&(Do|Po|Qr))!==0?s.b.defer_effect(l):(a&Do)!==0?o.push(l):No(l)&&((a&rn)!==0&&y(this,On).add(l),bo(l));var f=l.first;if(f!==null){l=f;continue}}var p=l.parent;for(l=l.next;l===null&&p!==null;)p===s&&(s=null),l=p.next,p=p.parent}},lr=function(t){for(var o=0;o<t.length;o+=1)al(t[o],y(this,mo),y(this,On))},cl=function(){var l;if(Co.size>1){this.previous.clear();var t=je,o=!0;for(const s of Co){if(s===this){o=!1;continue}const a=[];for(const[i,u]of this.current){if(s.current.has(i))if(o&&u!==s.current.get(i))s.current.set(i,u);else continue;a.push(i)}if(a.length===0)continue;const c=[...s.current.keys()].filter(i=>!this.current.has(i));if(c.length>0){var r=ot;ot=[];const i=new Set,u=new Map;for(const f of a)dl(f,c,i,u);if(ot.length>0){le=s,s.apply();for(const f of ot)Qe(l=s,Kt,rr).call(l,f,[],[]);s.deactivate()}ot=r}}le=null,je=t}this.committed=!0,Co.delete(this)};let hn=Rr;function ks(e){var t=_o;_o=!0;try{for(var o;;){if(Ns(),ot.length===0&&(le==null||le.flush(),ot.length===0))return Mo=null,o;ul()}}finally{_o=t}}function ul(){or=!0;var e=null;try{for(var t=0;ot.length>0;){var o=hn.ensure();if(t++>1e3){var r,l;Cs()}o.process(ot),bn.clear()}}finally{ot=[],or=!1,Mo=null}}function Cs(){try{gs()}catch(e){to(e,Mo)}}let Bt=null;function Dr(e){var t=e.length;if(t!==0){for(var o=0;o<t;){var r=e[o++];if((r.f&(vn|ut))===0&&No(r)&&(Bt=new Set,bo(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?kl(r):r.fn=null),(Bt==null?void 0:Bt.size)>0)){bn.clear();for(const l of Bt){if((l.f&(vn|ut))!==0)continue;const s=[l];let a=l.parent;for(;a!==null;)Bt.has(a)&&(Bt.delete(a),s.push(a)),a=a.parent;for(let c=s.length-1;c>=0;c--){const i=s[c];(i.f&(vn|ut))===0&&bo(i)}}Bt.clear()}}Bt=null}}function dl(e,t,o,r){if(!o.has(e)&&(o.add(e),e.reactions!==null))for(const l of e.reactions){const s=l.f;(s&qe)!==0?dl(l,t,o,r):(s&(Tr|rn))!==0&&(s&Ke)===0&&fl(l,t,r)&&(Se(l,Ke),$t(l))}}function fl(e,t,o){const r=o.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const l of e.deps){if(Qn.call(t,l))return!0;if((l.f&qe)!==0&&fl(l,t,o))return o.set(l,!0),!0}return o.set(e,!1),!1}function $t(e){for(var t=Mo=e;t.parent!==null;){t=t.parent;var o=t.f;if(or&&t===pe&&(o&rn)!==0&&(o&el)===0)return;if((o&(Fn|St))!==0){if((o&Ye)===0)return;t.f^=Ye}}ot.push(t)}function _l(e,t){if(!((e.f&St)!==0&&(e.f&Ye)!==0)){(e.f&Ke)!==0?t.d.push(e):(e.f&Ut)!==0&&t.m.push(e),Se(e,Ye);for(var o=e.first;o!==null;)_l(o,t),o=o.next}}function Rs(e){let t=0,o=Sn(0),r;return()=>{xr()&&(n(o),Ho(()=>(t===0&&(r=lo(()=>e(()=>vo(o)))),t+=1,()=>{on(()=>{t-=1,t===0&&(r==null||r(),r=void 0,vo(o))})})))}}var Bs=An|ro|br;function Ls(e,t,o){new $s(e,t,o)}var bt,hr,Yt,kn,Ht,gt,tt,Vt,Qt,un,Cn,dn,Kn,Rn,Zn,Jn,en,Go,He,Ds,As,sr,Bo,Lo,ir;class $s{constructor(t,o,r){re(this,He);Mt(this,"parent");Mt(this,"is_pending",!1);re(this,bt);re(this,hr,null);re(this,Yt);re(this,kn);re(this,Ht);re(this,gt,null);re(this,tt,null);re(this,Vt,null);re(this,Qt,null);re(this,un,null);re(this,Cn,0);re(this,dn,0);re(this,Kn,!1);re(this,Rn,!1);re(this,Zn,new Set);re(this,Jn,new Set);re(this,en,null);re(this,Go,Rs(()=>(oe(this,en,Sn(y(this,Cn))),()=>{oe(this,en,null)})));oe(this,bt,t),oe(this,Yt,o),oe(this,kn,r),this.parent=pe.b,this.is_pending=!!y(this,Yt).pending,oe(this,Ht,Vo(()=>{pe.b=this;{var l=Qe(this,He,sr).call(this);try{oe(this,gt,Tt(()=>r(l)))}catch(s){this.error(s)}y(this,dn)>0?Qe(this,He,Lo).call(this):this.is_pending=!1}return()=>{var s;(s=y(this,un))==null||s.remove()}},Bs))}defer_effect(t){al(t,y(this,Zn),y(this,Jn))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!y(this,Yt).pending}update_pending_count(t){Qe(this,He,ir).call(this,t),oe(this,Cn,y(this,Cn)+t),!(!y(this,en)||y(this,Kn))&&(oe(this,Kn,!0),on(()=>{oe(this,Kn,!1),y(this,en)&&no(y(this,en),y(this,Cn))}))}get_effect_pending(){return y(this,Go).call(this),n(y(this,en))}error(t){var o=y(this,Yt).onerror;let r=y(this,Yt).failed;if(y(this,Rn)||!o&&!r)throw t;y(this,gt)&&(lt(y(this,gt)),oe(this,gt,null)),y(this,tt)&&(lt(y(this,tt)),oe(this,tt,null)),y(this,Vt)&&(lt(y(this,Vt)),oe(this,Vt,null));var l=!1,s=!1;const a=()=>{if(l){xs();return}l=!0,s&&Es(),hn.ensure(),oe(this,Cn,0),y(this,Vt)!==null&&Ln(y(this,Vt),()=>{oe(this,Vt,null)}),this.is_pending=this.has_pending_snippet(),oe(this,gt,Qe(this,He,Bo).call(this,()=>(oe(this,Rn,!1),Tt(()=>y(this,kn).call(this,y(this,bt)))))),y(this,dn)>0?Qe(this,He,Lo).call(this):this.is_pending=!1};on(()=>{try{s=!0,o==null||o(t,a),s=!1}catch(c){to(c,y(this,Ht)&&y(this,Ht).parent)}r&&oe(this,Vt,Qe(this,He,Bo).call(this,()=>{hn.ensure(),oe(this,Rn,!0);try{return Tt(()=>{r(y(this,bt),()=>t,()=>a)})}catch(c){return to(c,y(this,Ht).parent),null}finally{oe(this,Rn,!1)}}))})}}bt=new WeakMap,hr=new WeakMap,Yt=new WeakMap,kn=new WeakMap,Ht=new WeakMap,gt=new WeakMap,tt=new WeakMap,Vt=new WeakMap,Qt=new WeakMap,un=new WeakMap,Cn=new WeakMap,dn=new WeakMap,Kn=new WeakMap,Rn=new WeakMap,Zn=new WeakMap,Jn=new WeakMap,en=new WeakMap,Go=new WeakMap,He=new WeakSet,Ds=function(){try{oe(this,gt,Tt(()=>y(this,kn).call(this,y(this,bt))))}catch(t){this.error(t)}},As=function(){const t=y(this,Yt).pending;t&&(oe(this,tt,Tt(()=>t(y(this,bt)))),on(()=>{var o=Qe(this,He,sr).call(this);oe(this,gt,Qe(this,He,Bo).call(this,()=>(hn.ensure(),Tt(()=>y(this,kn).call(this,o))))),y(this,dn)>0?Qe(this,He,Lo).call(this):(Ln(y(this,tt),()=>{oe(this,tt,null)}),this.is_pending=!1)}))},sr=function(){var t=y(this,bt);return this.is_pending&&(oe(this,un,gn()),y(this,bt).before(y(this,un)),t=y(this,un)),t},Bo=function(t){var o=pe,r=ae,l=dt;qt(y(this,Ht)),wt(y(this,Ht)),eo(y(this,Ht).ctx);try{return t()}catch(s){return sl(s),null}finally{qt(o),wt(r),eo(l)}},Lo=function(){const t=y(this,Yt).pending;y(this,gt)!==null&&(oe(this,Qt,document.createDocumentFragment()),y(this,Qt).append(y(this,un)),Bl(y(this,gt),y(this,Qt))),y(this,tt)===null&&oe(this,tt,Tt(()=>t(y(this,bt))))},ir=function(t){var o;if(!this.has_pending_snippet()){this.parent&&Qe(o=this.parent,He,ir).call(o,t);return}if(oe(this,dn,y(this,dn)+t),y(this,dn)===0){this.is_pending=!1;for(const r of y(this,Zn))Se(r,Ke),$t(r);for(const r of y(this,Jn))Se(r,Ut),$t(r);y(this,Zn).clear(),y(this,Jn).clear(),y(this,tt)&&Ln(y(this,tt),()=>{oe(this,tt,null)}),y(this,Qt)&&(y(this,bt).before(y(this,Qt)),oe(this,Qt,null))}};function Us(e,t,o,r){const l=yr;var s=e.filter(v=>!v.settled);if(o.length===0&&s.length===0){r(t.map(l));return}var a=le,c=pe,i=Ss(),u=s.length===1?s[0].promise:s.length>1?Promise.all(s.map(v=>v.promise)):null;function f(v){i();try{r(v)}catch(h){(c.f&vn)===0&&to(h,c)}a==null||a.deactivate(),ar()}if(o.length===0){u.then(()=>f(t.map(l)));return}function p(){i(),Promise.all(o.map(v=>Is(v))).then(v=>f([...t.map(l),...v])).catch(v=>to(v,c))}u?u.then(p):p()}function Ss(){var e=pe,t=ae,o=dt,r=le;return function(s=!0){qt(e),wt(t),eo(o),s&&(r==null||r.activate())}}function ar(){qt(null),wt(null),eo(null)}function yr(e){var t=qe|Ke,o=ae!==null&&(ae.f&qe)!==0?ae:null;return pe!==null&&(pe.f|=ro),{ctx:dt,deps:null,effects:null,equals:tl,f:t,fn:e,reactions:null,rv:0,v:We,wv:0,parent:o??pe,ac:null}}function Is(e,t,o){let r=pe;r===null&&_s();var l=r.b,s=void 0,a=Sn(We),c=!ae,i=new Map;return js(()=>{var h;var u=Jr();s=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).then(()=>{f===le&&f.committed&&f.deactivate(),ar()})}catch(d){u.reject(d),ar()}var f=le;if(c){var p=l.is_rendered();l.update_pending_count(1),f.increment(p),(h=i.get(f))==null||h.reject(Yn),i.delete(f),i.set(f,u)}const v=(d,m=void 0)=>{if(f.activate(),m)m!==Yn&&(a.f|=pn,no(a,m));else{(a.f&pn)!==0&&(a.f^=pn),no(a,d);for(const[_,g]of i){if(i.delete(_),_===f)break;g.reject(Yn)}}c&&(l.update_pending_count(-1),f.decrement(p))};u.promise.then(v,d=>v(null,d||"unknown"))}),wr(()=>{for(const u of i.values())u.reject(Yn)}),new Promise(u=>{function f(p){function v(){p===s?u(a):f(s)}p.then(v,v)}f(s)})}function A(e){const t=yr(e);return Ll(t),t}function Gs(e){const t=yr(e);return t.equals=ol,t}function vl(e){var t=e.effects;if(t!==null){e.effects=null;for(var o=0;o<t.length;o+=1)lt(t[o])}}function Xs(e){for(var t=e.parent;t!==null;){if((t.f&qe)===0)return(t.f&vn)===0?t:null;t=t.parent}return null}function Er(e){var t,o=pe;qt(Xs(e));try{e.f&=~Un,vl(e),t=Ul(e)}finally{qt(o)}return t}function pl(e){var t=Er(e);if(!e.equals(t)&&(e.wv=Dl(),(!(le!=null&&le.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){Se(e,Ye);return}In||(je!==null?(xr()||le!=null&&le.is_fork)&&je.set(e,t):mr(e))}let cr=new Set;const bn=new Map;let hl=!1;function Sn(e,t){var o={f:0,v:e,reactions:null,equals:tl,rv:0,wv:0};return o}function ne(e,t){const o=Sn(e);return Ll(o),o}function bl(e,t=!1,o=!0){const r=Sn(e);return t||(r.equals=ol),r}function P(e,t,o=!1){ae!==null&&(!Dt||(ae.f&$r)!==0)&&rl()&&(ae.f&(qe|rn|Tr|$r))!==0&&(xt===null||!Qn.call(xt,e))&&ys();let r=o?ct(t):t;return no(e,r)}function no(e,t){if(!e.equals(t)){var o=e.v;In?bn.set(e,t):bn.set(e,o),e.v=t;var r=hn.ensure();if(r.capture(e,o),(e.f&qe)!==0){const l=e;(e.f&Ke)!==0&&Er(l),mr(l)}e.wv=Dl(),gl(e,Ke),pe!==null&&(pe.f&Ye)!==0&&(pe.f&(St|Fn))===0&&(ht===null?Zs([e]):ht.push(e)),!r.is_fork&&cr.size>0&&!hl&&Fs()}return t}function Fs(){hl=!1;for(const e of cr)(e.f&Ye)!==0&&Se(e,Ut),No(e)&&bo(e);cr.clear()}function vo(e){P(e,e.v+1)}function gl(e,t){var o=e.reactions;if(o!==null)for(var r=o.length,l=0;l<r;l++){var s=o[l],a=s.f,c=(a&Ke)===0;if(c&&Se(s,t),(a&qe)!==0){var i=s;je==null||je.delete(i),(a&Un)===0&&(a&Et&&(s.f|=Un),gl(i,Ut))}else c&&((a&rn)!==0&&Bt!==null&&Bt.add(s),$t(s))}}function ct(e){if(typeof e!="object"||e===null||Ro in e)return e;const t=Kr(e);if(t!==as&&t!==cs)return e;var o=new Map,r=jr(e),l=ne(0),s=$n,a=c=>{if($n===s)return c();var i=ae,u=$n;wt(null),Sr(s);var f=c();return wt(i),Sr(u),f};return r&&o.set("length",ne(e.length)),new Proxy(e,{defineProperty(c,i,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Ts();var f=o.get(i);return f===void 0?f=a(()=>{var p=ne(u.value);return o.set(i,p),p}):P(f,u.value,!0),!0},deleteProperty(c,i){var u=o.get(i);if(u===void 0){if(i in c){const f=a(()=>ne(We));o.set(i,f),vo(l)}}else P(u,We),vo(l);return!0},get(c,i,u){var h;if(i===Ro)return e;var f=o.get(i),p=i in c;if(f===void 0&&(!p||(h=fo(c,i))!=null&&h.writable)&&(f=a(()=>{var d=ct(p?c[i]:We),m=ne(d);return m}),o.set(i,f)),f!==void 0){var v=n(f);return v===We?void 0:v}return Reflect.get(c,i,u)},getOwnPropertyDescriptor(c,i){var u=Reflect.getOwnPropertyDescriptor(c,i);if(u&&"value"in u){var f=o.get(i);f&&(u.value=n(f))}else if(u===void 0){var p=o.get(i),v=p==null?void 0:p.v;if(p!==void 0&&v!==We)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return u},has(c,i){var v;if(i===Ro)return!0;var u=o.get(i),f=u!==void 0&&u.v!==We||Reflect.has(c,i);if(u!==void 0||pe!==null&&(!f||(v=fo(c,i))!=null&&v.writable)){u===void 0&&(u=a(()=>{var h=f?ct(c[i]):We,d=ne(h);return d}),o.set(i,u));var p=n(u);if(p===We)return!1}return f},set(c,i,u,f){var w;var p=o.get(i),v=i in c;if(r&&i==="length")for(var h=u;h<p.v;h+=1){var d=o.get(h+"");d!==void 0?P(d,We):h in c&&(d=a(()=>ne(We)),o.set(h+"",d))}if(p===void 0)(!v||(w=fo(c,i))!=null&&w.writable)&&(p=a(()=>ne(void 0)),P(p,ct(u)),o.set(i,p));else{v=p.v!==We;var m=a(()=>ct(u));P(p,m)}var _=Reflect.getOwnPropertyDescriptor(c,i);if(_!=null&&_.set&&_.set.call(f,u),!v){if(r&&typeof i=="string"){var g=o.get("length"),E=Number(i);Number.isInteger(E)&&E>=g.v&&P(g,E+1)}vo(l)}return!0},ownKeys(c){n(l);var i=Reflect.ownKeys(c).filter(p=>{var v=o.get(p);return v===void 0||v.v!==We});for(var[u,f]of o)f.v!==We&&!(u in c)&&i.push(u);return i},setPrototypeOf(){ms()}})}var ho,Tl,ml,yl;function Ps(){if(ho===void 0){ho=window,Tl=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,o=Text.prototype;ml=fo(t,"firstChild").get,yl=fo(t,"nextSibling").get,Lr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Lr(o)&&(o.__t=void 0)}}function gn(e=""){return document.createTextNode(e)}function tn(e){return ml.call(e)}function xo(e){return yl.call(e)}function x(e,t){return tn(e)}function $e(e,t=!1){{var o=tn(e);return o instanceof Comment&&o.data===""?xo(o):o}}function T(e,t=1,o=!1){let r=e;for(;t--;)r=xo(r);return r}function Ms(e){e.textContent=""}function El(){return!1}let Ar=!1;function Ys(){Ar||(Ar=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const o of e.target.elements)(t=o.__on_r)==null||t.call(o)})},{capture:!0}))}function Yo(e){var t=ae,o=pe;wt(null),qt(null);try{return e()}finally{wt(t),qt(o)}}function xl(e,t,o,r=o){e.addEventListener(t,()=>Yo(o));const l=e.__on_r;l?e.__on_r=()=>{l(),r(!0)}:e.__on_r=()=>r(!0),Ys()}function Hs(e){pe===null&&(ae===null&&bs(),hs()),In&&ps()}function Vs(e,t){var o=t.last;o===null?t.last=t.first=e:(o.next=e,e.prev=o,t.last=e)}function ln(e,t,o){var r=pe;r!==null&&(r.f&ut)!==0&&(e|=ut);var l={ctx:dt,deps:null,nodes:null,f:e|Ke|Et,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(o)try{bo(l),l.f|=gr}catch(c){throw lt(l),c}else t!==null&&$t(l);var s=l;if(o&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&ro)===0&&(s=s.first,(e&rn)!==0&&(e&An)!==0&&s!==null&&(s.f|=An)),s!==null&&(s.parent=r,r!==null&&Vs(s,r),ae!==null&&(ae.f&qe)!==0&&(e&Fn)===0)){var a=ae;(a.effects??(a.effects=[])).push(s)}return l}function xr(){return ae!==null&&!Dt}function wr(e){const t=ln(Po,null,!1);return Se(t,Ye),t.teardown=e,t}function wo(e){Hs();var t=pe.f,o=!ae&&(t&St)!==0&&(t&gr)===0;if(o){var r=dt;(r.e??(r.e=[])).push(e)}else return wl(e)}function wl(e){return ln(Do|us,e,!1)}function zs(e){hn.ensure();const t=ln(Fn|ro,e,!0);return(o={})=>new Promise(r=>{o.outro?Ln(t,()=>{lt(t),r(void 0)}):(lt(t),r(void 0))})}function Ws(e){return ln(Do,e,!1)}function js(e){return ln(Tr|ro,e,!0)}function Ho(e,t=0){return ln(Po|t,e,!0)}function K(e,t=[],o=[],r=[]){Us(r,t,o,l=>{ln(Po,()=>e(...l.map(n)),!0)})}function Vo(e,t=0){var o=ln(rn|t,e,!0);return o}function Tt(e){return ln(St|ro,e,!0)}function Nl(e){var t=e.teardown;if(t!==null){const o=In,r=ae;Ur(!0),wt(null);try{t.call(null)}finally{Ur(o),wt(r)}}}function Ol(e,t=!1){var o=e.first;for(e.first=e.last=null;o!==null;){const l=o.ac;l!==null&&Yo(()=>{l.abort(Yn)});var r=o.next;(o.f&Fn)!==0?o.parent=null:lt(o,t),o=r}}function qs(e){for(var t=e.first;t!==null;){var o=t.next;(t.f&St)===0&&lt(t),t=o}}function lt(e,t=!0){var o=!1;(t||(e.f&el)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Ks(e.nodes.start,e.nodes.end),o=!0),Ol(e,t&&!o),Ao(e,0),Se(e,vn);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();Nl(e);var l=e.parent;l!==null&&l.first!==null&&kl(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Ks(e,t){for(;e!==null;){var o=e===t?null:xo(e);e.remove(),e=o}}function kl(e){var t=e.parent,o=e.prev,r=e.next;o!==null&&(o.next=r),r!==null&&(r.prev=o),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=o))}function Ln(e,t,o=!0){var r=[];Cl(e,r,!0);var l=()=>{o&&lt(e),t&&t()},s=r.length;if(s>0){var a=()=>--s||l();for(var c of r)c.out(a)}else l()}function Cl(e,t,o){if((e.f&ut)===0){e.f^=ut;var r=e.nodes&&e.nodes.t;if(r!==null)for(const c of r)(c.is_global||o)&&t.push(c);for(var l=e.first;l!==null;){var s=l.next,a=(l.f&An)!==0||(l.f&St)!==0&&(e.f&rn)!==0;Cl(l,t,a?o:!1),l=s}}}function Nr(e){Rl(e,!0)}function Rl(e,t){if((e.f&ut)!==0){e.f^=ut,(e.f&Ye)===0&&(Se(e,Ke),$t(e));for(var o=e.first;o!==null;){var r=o.next,l=(o.f&An)!==0||(o.f&St)!==0;Rl(o,l?t:!1),o=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const a of s)(a.is_global||t)&&a.in()}}function Bl(e,t){if(e.nodes)for(var o=e.nodes.start,r=e.nodes.end;o!==null;){var l=o===r?null:xo(o);t.append(o),o=l}}let $o=!1,In=!1;function Ur(e){In=e}let ae=null,Dt=!1;function wt(e){ae=e}let pe=null;function qt(e){pe=e}let xt=null;function Ll(e){ae!==null&&(xt===null?xt=[e]:xt.push(e))}let rt=null,it=0,ht=null;function Zs(e){ht=e}let $l=1,wn=0,$n=wn;function Sr(e){$n=e}function Dl(){return++$l}function No(e){var t=e.f;if((t&Ke)!==0)return!0;if(t&qe&&(e.f&=~Un),(t&Ut)!==0){for(var o=e.deps,r=o.length,l=0;l<r;l++){var s=o[l];if(No(s)&&pl(s),s.wv>e.wv)return!0}(t&Et)!==0&&je===null&&Se(e,Ye)}return!1}function Al(e,t,o=!0){var r=e.reactions;if(r!==null&&!(xt!==null&&Qn.call(xt,e)))for(var l=0;l<r.length;l++){var s=r[l];(s.f&qe)!==0?Al(s,t,!1):t===s&&(o?Se(s,Ke):(s.f&Ye)!==0&&Se(s,Ut),$t(s))}}function Ul(e){var m;var t=rt,o=it,r=ht,l=ae,s=xt,a=dt,c=Dt,i=$n,u=e.f;rt=null,it=0,ht=null,ae=(u&(St|Fn))===0?e:null,xt=null,eo(e.ctx),Dt=!1,$n=++wn,e.ac!==null&&(Yo(()=>{e.ac.abort(Yn)}),e.ac=null);try{e.f|=tr;var f=e.fn,p=f(),v=e.deps,h=le==null?void 0:le.is_fork;if(rt!==null){var d;if(h||Ao(e,it),v!==null&&it>0)for(v.length=it+rt.length,d=0;d<rt.length;d++)v[it+d]=rt[d];else e.deps=v=rt;if(xr()&&(e.f&Et)!==0)for(d=it;d<v.length;d++)((m=v[d]).reactions??(m.reactions=[])).push(e)}else!h&&v!==null&&it<v.length&&(Ao(e,it),v.length=it);if(rl()&&ht!==null&&!Dt&&v!==null&&(e.f&(qe|Ut|Ke))===0)for(d=0;d<ht.length;d++)Al(ht[d],e);if(l!==null&&l!==e){if(wn++,l.deps!==null)for(let _=0;_<o;_+=1)l.deps[_].rv=wn;if(t!==null)for(const _ of t)_.rv=wn;ht!==null&&(r===null?r=ht:r.push(...ht))}return(e.f&pn)!==0&&(e.f^=pn),p}catch(_){return sl(_)}finally{e.f^=tr,rt=t,it=o,ht=r,ae=l,xt=s,eo(a),Dt=c,$n=i}}function Js(e,t){let o=t.reactions;if(o!==null){var r=ss.call(o,e);if(r!==-1){var l=o.length-1;l===0?o=t.reactions=null:(o[r]=o[l],o.pop())}}if(o===null&&(t.f&qe)!==0&&(rt===null||!Qn.call(rt,t))){var s=t;(s.f&Et)!==0&&(s.f^=Et,s.f&=~Un),mr(s),vl(s),Ao(s,0)}}function Ao(e,t){var o=e.deps;if(o!==null)for(var r=t;r<o.length;r++)Js(e,o[r])}function bo(e){var t=e.f;if((t&vn)===0){Se(e,Ye);var o=pe,r=$o;pe=e,$o=!0;try{(t&(rn|Qr))!==0?qs(e):Ol(e),Nl(e);var l=Ul(e);e.teardown=typeof l=="function"?l:null,e.wv=$l;var s;er&&ws&&(e.f&Ke)!==0&&e.deps}finally{$o=r,pe=o}}}async function Qs(){await Promise.resolve(),ks()}function n(e){var t=e.f,o=(t&qe)!==0;if(ae!==null&&!Dt){var r=pe!==null&&(pe.f&vn)!==0;if(!r&&(xt===null||!Qn.call(xt,e))){var l=ae.deps;if((ae.f&tr)!==0)e.rv<wn&&(e.rv=wn,rt===null&&l!==null&&l[it]===e?it++:rt===null?rt=[e]:rt.push(e));else{(ae.deps??(ae.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[ae]:Qn.call(s,ae)||s.push(ae)}}}if(In&&bn.has(e))return bn.get(e);if(o){var a=e;if(In){var c=a.v;return((a.f&Ye)===0&&a.reactions!==null||Il(a))&&(c=Er(a)),bn.set(a,c),c}var i=(a.f&Et)===0&&!Dt&&ae!==null&&($o||(ae.f&Et)!==0),u=a.deps===null;No(a)&&(i&&(a.f|=Et),pl(a)),i&&!u&&Sl(a)}if(je!=null&&je.has(e))return je.get(e);if((e.f&pn)!==0)throw e.v;return e.v}function Sl(e){if(e.deps!==null){e.f|=Et;for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&qe)!==0&&(t.f&Et)===0&&Sl(t)}}function Il(e){if(e.v===We)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(bn.has(t)||(t.f&qe)!==0&&Il(t))return!0;return!1}function lo(e){var t=Dt;try{return Dt=!0,e()}finally{Dt=t}}const Gl=new Set,ur=new Set;function ei(e,t,o,r={}){function l(s){if(r.capture||ao.call(t,s),!s.cancelBubble)return Yo(()=>o==null?void 0:o.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?on(()=>{t.addEventListener(e,l,r)}):t.addEventListener(e,l,r),l}function zo(e,t,o,r,l){var s={capture:r,passive:l},a=ei(e,t,o,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&wr(()=>{t.removeEventListener(e,a,s)})}function Ie(e){for(var t=0;t<e.length;t++)Gl.add(e[t]);for(var o of ur)o(e)}let Ir=null;function ao(e){var _;var t=this,o=t.ownerDocument,r=e.type,l=((_=e.composedPath)==null?void 0:_.call(e))||[],s=l[0]||e.target;Ir=e;var a=0,c=Ir===e&&e.__root;if(c){var i=l.indexOf(c);if(i!==-1&&(t===document||t===window)){e.__root=t;return}var u=l.indexOf(t);if(u===-1)return;i<=u&&(a=i)}if(s=l[a]||e.target,s!==t){qr(e,"currentTarget",{configurable:!0,get(){return s||o}});var f=ae,p=pe;wt(null),qt(null);try{for(var v,h=[];s!==null;){var d=s.assignedSlot||s.parentNode||s.host||null;try{var m=s["__"+r];m!=null&&(!s.disabled||e.target===s)&&m.call(s,e)}catch(g){v?h.push(g):v=g}if(e.cancelBubble||d===t||d===null)break;s=d}if(v){for(let g of h)queueMicrotask(()=>{throw g});throw v}}finally{e.__root=t,delete e.currentTarget,wt(f),qt(p)}}}function Xl(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function go(e,t){var o=pe;o.nodes===null&&(o.nodes={start:e,end:t,a:null,t:null})}function J(e,t){var o=(t&Wr)!==0,r=(t&rs)!==0,l,s=!e.startsWith("<!>");return()=>{l===void 0&&(l=Xl(s?e:"<!>"+e),o||(l=tn(l)));var a=r||Tl?document.importNode(l,!0):l.cloneNode(!0);if(o){var c=tn(a),i=a.lastChild;go(c,i)}else go(a,a);return a}}function ti(e,t,o="svg"){var r=!e.startsWith("<!>"),l=(t&Wr)!==0,s=`<${o}>${r?e:"<!>"+e}</${o}>`,a;return()=>{if(!a){var c=Xl(s),i=tn(c);if(l)for(a=document.createDocumentFragment();tn(i);)a.appendChild(tn(i));else a=tn(i)}var u=a.cloneNode(!0);if(l){var f=tn(u),p=u.lastChild;go(f,p)}else go(u,u);return u}}function sn(e,t){return ti(e,t,"svg")}function mt(){var e=document.createDocumentFragment(),t=document.createComment(""),o=gn();return e.append(t,o),go(t,o),e}function S(e,t){e!==null&&e.before(t)}const ni=["touchstart","touchmove"];function oi(e){return ni.includes(e)}function Te(e,t){var o=t==null?"":typeof t=="object"?t+"":t;o!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=o,e.nodeValue=o+"")}function ri(e,t){return li(e,t)}const Pn=new Map;function li(e,{target:t,anchor:o,props:r={},events:l,context:s,intro:a=!0}){Ps();var c=new Set,i=p=>{for(var v=0;v<p.length;v++){var h=p[v];if(!c.has(h)){c.add(h);var d=oi(h);t.addEventListener(h,ao,{passive:d});var m=Pn.get(h);m===void 0?(document.addEventListener(h,ao,{passive:d}),Pn.set(h,1)):Pn.set(h,m+1)}}};i(Fo(Gl)),ur.add(i);var u=void 0,f=zs(()=>{var p=o??t.appendChild(gn());return Ls(p,{pending:()=>{}},v=>{me({});var h=dt;s&&(h.c=s),l&&(r.$$events=l),u=e(v,r)||{},ye()}),()=>{var d;for(var v of c){t.removeEventListener(v,ao);var h=Pn.get(v);--h===0?(document.removeEventListener(v,ao),Pn.delete(v)):Pn.set(v,h)}ur.delete(i),p!==o&&((d=p.parentNode)==null||d.removeChild(p))}});return si.set(u,f),u}let si=new WeakMap;var Lt,zt,at,Bn,yo,Eo,Xo;class Fl{constructor(t,o=!0){Mt(this,"anchor");re(this,Lt,new Map);re(this,zt,new Map);re(this,at,new Map);re(this,Bn,new Set);re(this,yo,!0);re(this,Eo,()=>{var t=le;if(y(this,Lt).has(t)){var o=y(this,Lt).get(t),r=y(this,zt).get(o);if(r)Nr(r),y(this,Bn).delete(o);else{var l=y(this,at).get(o);l&&(y(this,zt).set(o,l.effect),y(this,at).delete(o),l.fragment.lastChild.remove(),this.anchor.before(l.fragment),r=l.effect)}for(const[s,a]of y(this,Lt)){if(y(this,Lt).delete(s),s===t)break;const c=y(this,at).get(a);c&&(lt(c.effect),y(this,at).delete(a))}for(const[s,a]of y(this,zt)){if(s===o||y(this,Bn).has(s))continue;const c=()=>{if(Array.from(y(this,Lt).values()).includes(s)){var u=document.createDocumentFragment();Bl(a,u),u.append(gn()),y(this,at).set(s,{effect:a,fragment:u})}else lt(a);y(this,Bn).delete(s),y(this,zt).delete(s)};y(this,yo)||!r?(y(this,Bn).add(s),Ln(a,c,!1)):c()}}});re(this,Xo,t=>{y(this,Lt).delete(t);const o=Array.from(y(this,Lt).values());for(const[r,l]of y(this,at))o.includes(r)||(lt(l.effect),y(this,at).delete(r))});this.anchor=t,oe(this,yo,o)}ensure(t,o){var r=le,l=El();if(o&&!y(this,zt).has(t)&&!y(this,at).has(t))if(l){var s=document.createDocumentFragment(),a=gn();s.append(a),y(this,at).set(t,{effect:Tt(()=>o(a)),fragment:s})}else y(this,zt).set(t,Tt(()=>o(this.anchor)));if(y(this,Lt).set(r,t),l){for(const[c,i]of y(this,zt))c===t?r.unskip_effect(i):r.skip_effect(i);for(const[c,i]of y(this,at))c===t?r.unskip_effect(i.effect):r.skip_effect(i.effect);r.oncommit(y(this,Eo)),r.ondiscard(y(this,Xo))}else y(this,Eo).call(this)}}Lt=new WeakMap,zt=new WeakMap,at=new WeakMap,Bn=new WeakMap,yo=new WeakMap,Eo=new WeakMap,Xo=new WeakMap;function ii(e,t,...o){var r=new Fl(e);Vo(()=>{const l=t()??null;r.ensure(l,l&&(s=>l(s,...o)))},An)}function Or(e){dt===null&&fs(),wo(()=>{const t=lo(e);if(typeof t=="function")return t})}function ie(e,t,o=!1){var r=new Fl(e),l=o?An:0;function s(a,c){r.ensure(a,c)}Vo(()=>{var a=!1;t((c,i=!0)=>{a=!0,s(i,c)}),a||s(!1,null)},l)}function Ae(e,t){return t}function ai(e,t,o){for(var r=[],l=t.length,s,a=t.length,c=0;c<l;c++){let p=t[c];Ln(p,()=>{if(s){if(s.pending.delete(p),s.done.add(p),s.pending.size===0){var v=e.outrogroups;dr(Fo(s.done)),v.delete(s),v.size===0&&(e.outrogroups=null)}}else a-=1},!1)}if(a===0){var i=r.length===0&&o!==null;if(i){var u=o,f=u.parentNode;Ms(f),f.append(u),e.items.clear()}dr(t,!i)}else s={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(s)}function dr(e,t=!0){for(var o=0;o<e.length;o++)lt(e[o],t)}var Gr;function Ue(e,t,o,r,l,s=null){var a=e,c=new Map,i=(t&zr)!==0;if(i){var u=e;a=u.appendChild(gn())}var f=null,p=Gs(()=>{var g=o();return jr(g)?g:g==null?[]:Fo(g)}),v,h=!0;function d(){_.fallback=f,ci(_,v,a,t,r),f!==null&&(v.length===0?(f.f&nn)===0?Nr(f):(f.f^=nn,co(f,null,a)):Ln(f,()=>{f=null}))}var m=Vo(()=>{v=n(p);for(var g=v.length,E=new Set,w=le,k=El(),O=0;O<g;O+=1){var C=v[O],U=r(C,O),B=h?null:c.get(U);B?(B.v&&no(B.v,C),B.i&&no(B.i,O),k&&w.unskip_effect(B.e)):(B=ui(c,h?a:Gr??(Gr=gn()),C,U,O,l,t,o),h||(B.e.f|=nn),c.set(U,B)),E.add(U)}if(g===0&&s&&!f&&(h?f=Tt(()=>s(a)):(f=Tt(()=>s(Gr??(Gr=gn()))),f.f|=nn)),g>E.size&&vs(),!h)if(k){for(const[H,I]of c)E.has(H)||w.skip_effect(I.e);w.oncommit(d),w.ondiscard(()=>{})}else d();n(p)}),_={effect:m,items:c,outrogroups:null,fallback:f};h=!1}function io(e){for(;e!==null&&(e.f&St)===0;)e=e.next;return e}function ci(e,t,o,r,l){var I,z,W,Z,V,M,X,Y,$;var s=(r&ns)!==0,a=t.length,c=e.items,i=io(e.effect.first),u,f=null,p,v=[],h=[],d,m,_,g;if(s)for(g=0;g<a;g+=1)d=t[g],m=l(d,g),_=c.get(m).e,(_.f&nn)===0&&((z=(I=_.nodes)==null?void 0:I.a)==null||z.measure(),(p??(p=new Set)).add(_));for(g=0;g<a;g+=1){if(d=t[g],m=l(d,g),_=c.get(m).e,e.outrogroups!==null)for(const F of e.outrogroups)F.pending.delete(_),F.done.delete(_);if((_.f&nn)!==0)if(_.f^=nn,_===i)co(_,null,o);else{var E=f?f.next:i;_===e.effect.last&&(e.effect.last=_.prev),_.prev&&(_.prev.next=_.next),_.next&&(_.next.prev=_.prev),cn(e,f,_),cn(e,_,E),co(_,E,o),f=_,v=[],h=[],i=io(f.next);continue}if((_.f&ut)!==0&&(Nr(_),s&&((Z=(W=_.nodes)==null?void 0:W.a)==null||Z.unfix(),(p??(p=new Set)).delete(_))),_!==i){if(u!==void 0&&u.has(_)){if(v.length<h.length){var w=h[0],k;f=w.prev;var O=v[0],C=v[v.length-1];for(k=0;k<v.length;k+=1)co(v[k],w,o);for(k=0;k<h.length;k+=1)u.delete(h[k]);cn(e,O.prev,C.next),cn(e,f,O),cn(e,C,w),i=w,f=C,g-=1,v=[],h=[]}else u.delete(_),co(_,i,o),cn(e,_.prev,_.next),cn(e,_,f===null?e.effect.first:f.next),cn(e,f,_),f=_;continue}for(v=[],h=[];i!==null&&i!==_;)(u??(u=new Set)).add(i),h.push(i),i=io(i.next);if(i===null)continue}(_.f&nn)===0&&v.push(_),f=_,i=io(_.next)}if(e.outrogroups!==null){for(const F of e.outrogroups)F.pending.size===0&&(dr(Fo(F.done)),(V=e.outrogroups)==null||V.delete(F));e.outrogroups.size===0&&(e.outrogroups=null)}if(i!==null||u!==void 0){var U=[];if(u!==void 0)for(_ of u)(_.f&ut)===0&&U.push(_);for(;i!==null;)(i.f&ut)===0&&i!==e.fallback&&U.push(i),i=io(i.next);var B=U.length;if(B>0){var H=(r&zr)!==0&&a===0?o:null;if(s){for(g=0;g<B;g+=1)(X=(M=U[g].nodes)==null?void 0:M.a)==null||X.measure();for(g=0;g<B;g+=1)($=(Y=U[g].nodes)==null?void 0:Y.a)==null||$.fix()}ai(e,U,H)}}s&&on(()=>{var F,Q;if(p!==void 0)for(_ of p)(Q=(F=_.nodes)==null?void 0:F.a)==null||Q.apply()})}function ui(e,t,o,r,l,s,a,c){var i=(a&es)!==0?(a&os)===0?bl(o,!1,!1):Sn(o):null,u=(a&ts)!==0?Sn(l):null;return{v:i,i:u,e:Tt(()=>(s(t,i??o,u??l,c),()=>{e.delete(r)}))}}function co(e,t,o){if(e.nodes)for(var r=e.nodes.start,l=e.nodes.end,s=t&&(t.f&nn)===0?t.nodes.start:o;r!==null;){var a=xo(r);if(s.before(r),r===l)return;r=a}}function cn(e,t,o){t===null?e.effect.first=o:t.next=o,o===null?e.effect.last=t:o.prev=t}function Pl(e){var t,o,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(o=Pl(e[t]))&&(r&&(r+=" "),r+=o)}else for(o in e)e[o]&&(r&&(r+=" "),r+=o);return r}function di(){for(var e,t,o=0,r="",l=arguments.length;o<l;o++)(e=arguments[o])&&(t=Pl(e))&&(r&&(r+=" "),r+=t);return r}function _e(e){return typeof e=="object"?di(e):e??""}function fi(e,t,o){var r=e==null?"":""+e;return r===""?null:r}function Xr(e,t=!1){var o=t?" !important;":";",r="";for(var l in e){var s=e[l];s!=null&&s!==""&&(r+=" "+l+": "+s+o)}return r}function _i(e,t){if(t){var o="",r,l;return Array.isArray(t)?(r=t[0],l=t[1]):r=t,r&&(o+=Xr(r)),l&&(o+=Xr(l,!0)),o=o.trim(),o===""?null:o}return String(e)}function G(e,t,o,r,l,s){var a=e.__className;if(a!==o||a===void 0){var c=fi(o);c==null?e.removeAttribute("class"):e.className=c,e.__className=o}return s}function Ko(e,t={},o,r){for(var l in o){var s=o[l];t[l]!==s&&(o[l]==null?e.style.removeProperty(l):e.style.setProperty(l,s,r))}}function b(e,t,o,r){var l=e.__style;if(l!==t){var s=_i(t,r);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}else r&&(Array.isArray(r)?(Ko(e,o==null?void 0:o[0],r[0]),Ko(e,o==null?void 0:o[1],r[1],"important")):Ko(e,o,r));return r}const vi=Symbol("is custom element"),pi=Symbol("is html");function yt(e,t){var o=kr(e);o.value===(o.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function uo(e,t){var o=kr(e);o.checked!==(o.checked=t??void 0)&&(e.checked=t)}function j(e,t,o,r){var l=kr(e);l[t]!==(l[t]=o)&&(t==="loading"&&(e[ds]=o),o==null?e.removeAttribute(t):typeof o!="string"&&hi(e).includes(t)?e[t]=o:e.setAttribute(t,o))}function kr(e){return e.__attributes??(e.__attributes={[vi]:e.nodeName.includes("-"),[pi]:e.namespaceURI===ls})}var Fr=new Map;function hi(e){var t=e.getAttribute("is")||e.nodeName,o=Fr.get(t);if(o)return o;Fr.set(t,o=[]);for(var r,l=e,s=Element.prototype;s!==l;){r=is(l);for(var a in r)r[a].set&&o.push(a);l=Kr(l)}return o}function Wt(e,t,o=t){var r=new WeakSet;xl(e,"input",async l=>{var s=l?e.defaultValue:e.value;if(s=Zo(e)?Jo(s):s,o(s),le!==null&&r.add(le),await Qs(),s!==(s=t())){var a=e.selectionStart,c=e.selectionEnd,i=e.value.length;if(e.value=s??"",c!==null){var u=e.value.length;a===c&&c===i&&u>i?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=a,e.selectionEnd=Math.min(c,u))}}}),lo(t)==null&&e.value&&(o(Zo(e)?Jo(e.value):e.value),le!==null&&r.add(le)),Ho(()=>{var l=t();if(e===document.activeElement){var s=nr??le;if(r.has(s))return}Zo(e)&&l===Jo(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function bi(e,t,o=t){xl(e,"change",r=>{var l=r?e.defaultChecked:e.checked;o(l)}),lo(t)==null&&o(e.checked),Ho(()=>{var r=t();e.checked=!!r})}function Zo(e){var t=e.type;return t==="number"||t==="range"}function Jo(e){return e===""?null:+e}function Pr(e,t){return e===t||(e==null?void 0:e[Ro])===t}function Oo(e={},t,o,r){return Ws(()=>{var l,s;return Ho(()=>{l=s,s=[],lo(()=>{e!==o(...s)&&(t(e,...s),l&&Pr(o(...l),e)&&t(null,...l))})}),()=>{on(()=>{s&&Pr(o(...s),e)&&t(null,...s)})}}),e}function Cr(e,t,o){if(e==null)return t(void 0),o&&o(void 0),_n;const r=lo(()=>e.subscribe(t,o));return r.unsubscribe?()=>r.unsubscribe():r}const Mn=[];function gi(e,t){return{subscribe:Ne(e,t).subscribe}}function Ne(e,t=_n){let o=null;const r=new Set;function l(c){if(nl(e,c)&&(e=c,o)){const i=!Mn.length;for(const u of r)u[1](),Mn.push(u,e);if(i){for(let u=0;u<Mn.length;u+=2)Mn[u][0](Mn[u+1]);Mn.length=0}}}function s(c){l(c(e))}function a(c,i=_n){const u=[c,i];return r.add(u),r.size===1&&(o=t(l,s)||_n),c(e),()=>{r.delete(u),r.size===0&&o&&(o(),o=null)}}return{set:l,update:s,subscribe:a}}function Ml(e,t,o){const r=!Array.isArray(e),l=r?[e]:e;if(!l.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=t.length<2;return gi(o,(a,c)=>{let i=!1;const u=[];let f=0,p=_n;const v=()=>{if(f)return;p();const d=t(r?u[0]:u,a,c);s?a(d):p=typeof d=="function"?d:_n},h=l.map((d,m)=>Cr(d,_=>{u[m]=_,f&=~(1<<m),i&&v()},()=>{f|=1<<m}));return i=!0,v(),function(){Zr(h),p(),i=!1}})}function nt(e){let t;return Cr(e,o=>t=o)(),t}let fr=Symbol();function L(e,t,o){const r=o[t]??(o[t]={store:null,source:bl(void 0),unsubscribe:_n});if(r.store!==e&&!(fr in o))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=_n;else{var l=!0;r.unsubscribe=Cr(e,s=>{l?r.source.v=s:P(r.source,s)}),l=!1}return e&&fr in o?nt(e):n(r.source)}function Re(){const e={};function t(){wr(()=>{for(var o in e)e[o].unsubscribe();qr(e,fr,{enumerable:!1,value:!0})})}return[e,t]}function Ti(e,t,o,r){var l=r,s=!0,a=()=>(s&&(s=!1,l=r),l),c;c=e[t],c===void 0&&r!==void 0&&(c=a());var i;return i=()=>{var u=e[t];return u===void 0?a():(s=!0,u)},i}const oo=Ne("Operator"),Gn=Ne(null),mi=Ne(null),Tn=Ne(1),Hn=Ne(0),Vn=Ne(0),we=Ne("ironclad"),Yl=Ml(we,e=>e!=="light"),po=Ne(!1),Qo=Ne(null),Uo=Ne(!1),ge=Ne(null),So=Ne({visible:!1,x:0,y:0,nodeIndex:null,connectionIndex:null}),mn=Ne(!1),yi=Ml(Tn,e=>Math.round(e*100)),Mr={NODE_DEFAULT:"#b0c4de",NODE_GREYED_OUT:"#dcdcdc",NODE_HIGHLIGHT:"#ffd700",NODE_HOST:"#40e0d0",NODE_OUTLINE_DEFAULT:"#000000",NODE_PING_SUCCESS:"#008000",NODE_PING_PARTIAL_SUCCESS:"#ffff00",NODE_PING_FAILURE:"#ff0000",FRAME_BG:"#ffffff",INFO_NOTE_BG:"#ffffff",INFO_TEXT:"#000000",BUTTON_BG:"#ffffff",BUTTON_TEXT:"#000000",BUTTON_ACTIVE_BG:"#e0e0e0",BUTTON_ACTIVE_TEXT:"#000000",BUTTON_CONFIGURATION_MODE:"#f08080",Connections:"#696969",BORDER_COLOR:"#f7f7f7",GROUP_DEFAULT:"#e6f2ff",GROUP_OUTLINE:"#4d94ff",GROUP_SELECTED:"#0066cc",GROUP_TEXT:"#003366",ROW_BG_EVEN:"#f9f9f9",ROW_BG_ODD:"#e6f0fa",HEADER_BG:"#dbeafe",HEADER_TEXT:"#1e293b",ENTRY_FOCUS_BG:"#f9f9f9",CELL_BORDER:"#b6b6b6",ENTRY_TEXT:"#222222"},Yr={NODE_DEFAULT:"#28376c",NODE_GREYED_OUT:"#4B5563",NODE_HIGHLIGHT:"#D97706",NODE_HOST:"#72741f",NODE_OUTLINE_DEFAULT:"#374151",NODE_PING_SUCCESS:"#047857",NODE_PING_PARTIAL_SUCCESS:"#B45309",NODE_PING_FAILURE:"#991B1B",FRAME_BG:"#0c0f14",INFO_NOTE_BG:"#111827",INFO_TEXT:"#8f8f8f",BUTTON_BG:"#1e2540",BUTTON_TEXT:"#c7c7c7",BUTTON_ACTIVE_BG:"#111827",BUTTON_ACTIVE_TEXT:"#000000",BUTTON_CONFIGURATION_MODE:"#F87171",Connections:"#6a7586",BORDER_COLOR:"#374151",GROUP_DEFAULT:"#1a2942",GROUP_OUTLINE:"#3a5894",GROUP_SELECTED:"#5d8cd9",GROUP_TEXT:"#a3c2ff",ROW_BG_EVEN:"#181e29",ROW_BG_ODD:"#232b3a",HEADER_BG:"#22304a",HEADER_TEXT:"#e0e7ef",ENTRY_FOCUS_BG:"#2d3748",CELL_BORDER:"#3b4252",ENTRY_TEXT:"#e0e7ef"},Ei={NODE_DEFAULT:"#1a3d62",NODE_GREYED_OUT:"#3a3d42",NODE_HIGHLIGHT:"#e09240",NODE_HOST:"#3d8a56",NODE_OUTLINE_DEFAULT:"#586068",NODE_PING_SUCCESS:"#2a9050",NODE_PING_PARTIAL_SUCCESS:"#e09240",NODE_PING_FAILURE:"#a83232",FRAME_BG:"#1a1c20",INFO_NOTE_BG:"#1e2024",INFO_TEXT:"#bcc2ca",BUTTON_BG:"#2e3138",BUTTON_TEXT:"#dce0e5",BUTTON_ACTIVE_BG:"#1a3d62",BUTTON_ACTIVE_TEXT:"#f0f2f4",BUTTON_CONFIGURATION_MODE:"#e09240",Connections:"#68717a",BORDER_COLOR:"#555a62",GROUP_DEFAULT:"#162232",GROUP_OUTLINE:"#3a6a94",GROUP_SELECTED:"#e09240",GROUP_TEXT:"#8fb4d8",ROW_BG_EVEN:"#1a1c20",ROW_BG_ODD:"#252830",HEADER_BG:"#1a3d62",HEADER_TEXT:"#dce0e5",ENTRY_FOCUS_BG:"#2e3138",CELL_BORDER:"#555a62",ENTRY_TEXT:"#dce0e5"};function Ge(e){if(typeof e=="string")switch(e){case"ironclad":return Ei;case"dark":return Yr;default:return Mr}return e?Yr:Mr}const Wo=[{id:"preset1",name:"Classic Blue",light_bg:"#e3f0ff",light_border:"#3a7bd5",dark_bg:"#22304a",dark_border:"#3a7bd5"},{id:"preset2",name:"Sunset",light_bg:"#ffe5d0",light_border:"#ff7f50",dark_bg:"#4a2c23",dark_border:"#ff7f50"},{id:"preset3",name:"Mint",light_bg:"#e0fff4",light_border:"#2ecc71",dark_bg:"#204034",dark_border:"#2ecc71"},{id:"preset4",name:"Lavender",light_bg:"#f3e8ff",light_border:"#a259e6",dark_bg:"#2d234a",dark_border:"#a259e6"},{id:"preset5",name:"Slate",light_bg:"#f0f4f8",light_border:"#607d8b",dark_bg:"#232b32",dark_border:"#607d8b"},{id:"preset6",name:"Contrast",light_bg:"#ffffff",light_border:"#000000",dark_bg:"#000000",dark_border:"#ffffff"}];function xi(e,t,o=Wo){const r=o.find(l=>l.id===e)??o[0];return t?{bg:r.dark_bg,border:r.dark_border}:{bg:r.light_bg,border:r.light_border}}const Ve=Ne([]),ft=Ne([]),Xn=Ne([]),En=Ne([]),jt=Ne({VLAN_1:"VLAN_1",VLAN_2:"VLAN_2",VLAN_3:"VLAN_3",VLAN_4:"VLAN_4"}),At=Ne(["VLAN_1","VLAN_2","VLAN_3","VLAN_4"]),Dn=Ne({node_size:14,show_connections:!0,show_connection_labels:!0,show_notes:!0,show_groups:!0}),fn=Ne({}),ko=Ne([...Wo]),yn=Ne({}),Io=Ne(null);function Ot(){mn.set(!0)}function Hl(e){Ve.update(t=>[...t,e]),Ot()}function Zt(e,t){Ve.update(o=>{const r=[...o];return r[e]&&(r[e]={...r[e],...t}),r}),Ot()}function Vl(e){ft.update(t=>t.filter(o=>o.from!==e&&o.to!==e).map(o=>({...o,from:o.from>e?o.from-1:o.from,to:o.to>e?o.to-1:o.to}))),Ve.update(t=>t.filter((o,r)=>r!==e)),Ot()}function wi(e,t,o){Ve.update(r=>{const l=[...r];return l[e]&&(l[e]={...l[e],x:t,y:o}),l}),Ot()}function Ni(e){ft.update(t=>[...t,e]),Ot()}function _r(e,t){ft.update(o=>{const r=[...o];return r[e]&&(r[e]={...r[e],...t}),r}),Ot()}function vr(e){ft.update(t=>t.filter((o,r)=>r!==e)),Ot()}function Oi(e){Xn.update(t=>[...t,e]),Ot()}function ki(e){Xn.update(t=>t.filter((o,r)=>r!==e)),Ot()}function Ci(e){En.update(t=>[...t,e]),Ot()}function Hr(e,t){En.update(o=>{const r=[...o];return r[e]&&(r[e]={...r[e],...t}),r}),Ot()}function Ri(e){En.update(t=>t.filter((o,r)=>r!==e)),Ot()}function zl(){Ve.set([]),ft.set([]),Xn.set([]),En.set([]),yn.set({}),fn.set({}),jt.set({VLAN_1:"VLAN_1",VLAN_2:"VLAN_2",VLAN_3:"VLAN_3",VLAN_4:"VLAN_4"}),At.set(["VLAN_1","VLAN_2","VLAN_3","VLAN_4"]),ko.set([...Wo]),Dn.set({node_size:14,show_connections:!0,show_connection_labels:!0,show_notes:!0,show_groups:!0}),mn.set(!1)}function Bi(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1])}function Li(e,t,o,r,l,s){const a=l-o,c=s-r;if(a===0&&c===0)return Math.hypot(e-o,t-r);const i=Math.max(0,Math.min(1,((e-o)*a+(t-r)*c)/(a*a+c*c))),u=o+i*a,f=r+i*c;return Math.hypot(e-u,t-f)}function $i(e,t){if(e.length===0)return[0,0];if(e.length===1)return e[0];const o=[];let r=0;for(let a=0;a<e.length-1;a++){const c=Bi(e[a],e[a+1]);o.push(c),r+=c}if(r===0)return e[0];const l=t*r;let s=0;for(let a=0;a<o.length;a++){if(s+o[a]>=l){const c=o[a]>0?(l-s)/o[a]:0,[i,u]=e[a],[f,p]=e[a+1];return[i+(f-i)*c,u+(p-u)*c]}s+=o[a]}return e[e.length-1]}function Di(e,t,o){let r=null,l=0;for(let s=0;s<o.length-1;s++){const a=Li(e,t,o[s][0],o[s][1],o[s+1][0],o[s+1][1]);(r===null||a<r)&&(r=a,l=s)}return l}function Wl(e,t,o,r,l){const s=[[e,t]];if(l)for(const a of l)s.push(a);return s.push([o,r]),s}async function Nt(e,t={},o){return window.__TAURI_INTERNALS__.invoke(e,t,o)}async function jl(e){const o=nt(Ve)[e];if(!o)return;const l=nt(At).filter(a=>{const c=o.vlans[a];return c&&c.trim()!==""});if(l.length===0)return;const s=l.map(a=>o.vlans[a]);try{const a=await Nt("ping_ips",{ips:s});yn.update(c=>({...c,[e]:a}))}catch(a){console.error("Ping failed for node",o.name,a),yn.update(c=>({...c,[e]:l.map(()=>!1)}))}}async function Ai(){const t=nt(Ve).map((o,r)=>jl(r));await Promise.allSettled(t)}function Ui(){yn.set({})}var Si=sn('<g data-type="node"><rect rx="2"></rect><text text-anchor="middle" dominant-baseline="central" pointer-events="none"> </text></g>');function Ii(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",r),[r,l]=Re();let s=A(()=>o()==="ironclad"),a,c=ne(30),i=ne(16);wo(()=>{a&&(t.node.name,t.fontSize,requestAnimationFrame(()=>{if(a)try{const _=a.getBBox();P(c,_.width,!0),P(i,_.height,!0)}catch{}}))});let u=A(()=>Math.max(2,Math.round(t.fontSize*.3))),f=A(()=>n(c)/2+n(u)),p=A(()=>n(i)/2+n(u));var v=Si();v.__mousedown=function(..._){var g;(g=t.onMouseDown)==null||g.apply(this,_)},b(v,"",{},{cursor:"pointer"});var h=x(v),d=T(h),m=x(d);Oo(d,_=>a=_,()=>a),K(()=>{j(v,"data-index",t.index),j(h,"x",t.node.x-n(f)),j(h,"y",t.node.y-n(p)),j(h,"width",n(f)*2),j(h,"height",n(p)*2),j(h,"fill",t.fillColor),j(h,"stroke",t.outlineColor),j(h,"stroke-width",t.outlineWidth),j(d,"x",t.node.x),j(d,"y",t.node.y),j(d,"fill",t.textColor),j(d,"font-family",n(s)?"DM Sans, Helvetica, Arial, sans-serif":"Helvetica, Arial, sans-serif"),j(d,"font-size",t.fontSize),Te(m,t.node.name)}),S(e,v),ye(),l()}Ie(["mousedown"]);var Gi=sn('<rect rx="2" pointer-events="none"></rect><text text-anchor="middle" dominant-baseline="central" font-family="Helvetica, Arial, sans-serif" font-size="12"> </text>',1),Xi=sn('<g data-type="connection"><polyline fill="none" stroke="transparent" stroke-width="10"></polyline><polyline fill="none" stroke-width="2" pointer-events="none"></polyline><!></g>');function Fi(e,t){me(t,!0);let o=A(()=>Wl(t.fromNode.x,t.fromNode.y,t.toNode.x,t.toNode.y,t.connection.waypoints)),r=A(()=>n(o).map(([d,m])=>`${d},${m}`).join(" ")),l=A(()=>t.connection.label_pos??.5),s=A(()=>$i(n(o),n(l))),a,c=ne(0),i=ne(0);wo(()=>{a&&t.connection.label&&requestAnimationFrame(()=>{if(a)try{const d=a.getBBox();P(c,d.width,!0),P(i,d.height,!0)}catch{}})});var u=Xi(),f=x(u);f.__mousedown=function(...d){var m;(m=t.onMiddleClick)==null||m.apply(this,d)},f.__contextmenu=d=>{d.preventDefault(),t.onRightClick(d)},b(f,"",{},{cursor:"pointer"});var p=T(f),v=T(p);{var h=d=>{var m=Gi(),_=$e(m),g=T(_);g.__contextmenu=w=>{w.preventDefault(),t.onRightClick(w)},b(g,"",{},{cursor:"pointer"});var E=x(g);Oo(g,w=>a=w,()=>a),K(()=>{j(_,"x",n(s)[0]-n(c)/2-2),j(_,"y",n(s)[1]-n(i)/2-2),j(_,"width",n(c)+4),j(_,"height",n(i)+4),j(_,"fill",t.labelBgColor),j(g,"x",n(s)[0]),j(g,"y",n(s)[1]),j(g,"fill",t.textColor),Te(E,t.connection.label)}),S(d,m)};ie(v,d=>{t.showLabels&&t.connection.label&&t.connection.label.trim()&&d(h)})}K(()=>{j(u,"data-index",t.index),j(f,"points",n(r)),j(p,"points",n(r)),j(p,"stroke",t.lineColor)}),S(e,u),ye()}Ie(["mousedown","contextmenu"]);var Pi=sn('<g data-type="sticky"><rect rx="3" class="sticky_bg"></rect><text dominant-baseline="central" font-family="Helvetica, Arial, sans-serif" font-size="12" pointer-events="none" class="sticky_note"> </text></g>');function Mi(e,t){me(t,!0);let o,r=ne(30),l=ne(14);wo(()=>{o&&(t.note.text,requestAnimationFrame(()=>{if(o)try{const u=o.getBBox();P(r,u.width,!0),P(l,u.height,!0)}catch{}}))});var s=Pi();s.__mousedown=function(...u){var f;(f=t.onMouseDown)==null||f.apply(this,u)},b(s,"",{},{cursor:"move"});var a=x(s),c=T(a),i=x(c);Oo(c,u=>o=u,()=>o),K(()=>{j(s,"data-index",t.index),j(a,"x",t.note.x-4),j(a,"y",t.note.y-n(l)/2-4),j(a,"width",n(r)+8),j(a,"height",n(l)+8),j(a,"fill",t.bgColor),j(a,"stroke",t.bgColor),j(c,"x",t.note.x),j(c,"y",t.note.y),j(c,"fill",t.textColor),Te(i,t.note.text)}),S(e,s),ye()}Ie(["mousedown"]);var Yi=sn('<text font-family="Helvetica, Arial, sans-serif" font-size="14" font-weight="bold" pointer-events="none"> </text>'),Hi=sn('<g data-type="group"><rect fill-opacity="0.5" stroke-width="2" rx="4"></rect><!></g>');function Vi(e,t){me(t,!0);let o=A(()=>Math.abs(t.group.x2-t.group.x1)),r=A(()=>Math.abs(t.group.y2-t.group.y1)),l=A(()=>Math.min(t.group.x1,t.group.x2)),s=A(()=>Math.min(t.group.y1,t.group.y2));var a=Hi(),c=x(a),i=T(c);{var u=f=>{var p=Yi(),v=x(p);K(()=>{j(p,"x",n(l)+8),j(p,"y",n(s)+18),j(p,"fill",t.textColor),Te(v,t.group.name)}),S(f,p)};ie(i,f=>{t.group.name&&f(u)})}K(()=>{j(a,"data-index",t.index),j(c,"x",n(l)),j(c,"y",n(s)),j(c,"width",n(o)),j(c,"height",n(r)),j(c,"fill",t.bgColor),j(c,"stroke",t.borderColor)}),S(e,a),ye()}var zi=sn('<circle r="5" fill="#FFD700" stroke="#333" stroke-width="1"></circle>');function Wi(e,t){me(t,!0);const o=()=>L(oo,"$mode",r),[r,l]=Re();let s=ne(!1),a=0,c=0,i=0,u=0;function f(v){if(o()==="Configuration"){if(v.button===2){v.preventDefault(),v.stopPropagation(),ft.update(h=>{const d=[...h],m={...d[t.connectionIndex]},_=[...m.waypoints??[]];return _.splice(t.waypointIndex,1),m.waypoints=_.length>0?_:void 0,d[t.connectionIndex]=m,d}),mn.set(!0);return}if(v.button===0){v.stopPropagation(),P(s,!0),i=t.x,u=t.y,a=v.clientX,c=v.clientY;const h=m=>{var C;if(!n(s))return;const _=v.target.closest("svg");if(!_)return;_.getBoundingClientRect();const g=_.querySelector("#world"),E=(C=g==null?void 0:g.getAttribute("transform"))==null?void 0:C.match(/scale\(([^)]+)\)/),w=E?parseFloat(E[1]):1,k=(m.clientX-a)/w,O=(m.clientY-c)/w;ft.update(U=>{const B=[...U],H={...B[t.connectionIndex]},I=[...H.waypoints??[]];return I[t.waypointIndex]=[i+k,u+O],H.waypoints=I,B[t.connectionIndex]=H,B})},d=()=>{P(s,!1),mn.set(!0),window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",d)};window.addEventListener("mousemove",h),window.addEventListener("mouseup",d)}}}var p=zi();p.__mousedown=f,p.__contextmenu=v=>v.preventDefault(),b(p,"",{},{cursor:"move"}),K(()=>{j(p,"cx",t.x),j(p,"cy",t.y)}),S(e,p),ye(),l()}Ie(["mousedown","contextmenu"]);var ji=sn('<rect fill="none" stroke-width="2" stroke-dasharray="6,4" pointer-events="none"></rect>'),qi=sn('<svg class="w-full h-full"><g id="world"><g id="groups-layer"><!></g><g id="connections-layer"><!></g><g id="notes-layer"><!></g><g id="nodes-layer"></g><g id="handles-layer"><!></g></g><!></svg>');function Ki(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",E),r=()=>L(Hn,"$panX",E),l=()=>L(Tn,"$zoom",E),s=()=>L(Vn,"$panY",E),a=()=>L(po,"$groupsModeActive",E),c=()=>L(oo,"$mode",E),i=()=>L(Gn,"$selectedNodeIndex",E),u=()=>L(ft,"$connections",E),f=()=>L(Qo,"$connectionStartNodeIndex",E),p=()=>L(Ve,"$nodes",E),v=()=>L(yn,"$pingResults",E),h=()=>L(Dn,"$displayOptions",E),d=()=>L(En,"$groups",E),m=()=>L(Yl,"$isDark",E),_=()=>L(ko,"$groupColorPresets",E),g=()=>L(Xn,"$stickyNotes",E),[E,w]=Re();let k,O=ne(!1),C=0,U=0,B=0,H=0,I=ne(!1),z=null,W=ne(!1),Z=ne(0),V=ne(0),M=ne(0),X=ne(0),Y=ne(!1),$=null,F=A(()=>Ge(o()));function Q(R,D){const q=k.getBoundingClientRect(),te=R-q.left,ee=D-q.top;return{x:(te-r())/l(),y:(ee-s())/l()}}function ue(R){if(R.button===2){R.preventDefault(),P(O,!0),C=R.clientX,U=R.clientY,B=r(),H=s();return}if(R.button===0&&a()&&c()==="Configuration"){const{x:D,y:q}=Q(R.clientX,R.clientY),te=R.target;(te===k||te.closest("svg")===k&&!te.closest("[data-type='group']")&&!te.closest("[data-type='node']"))&&(P(W,!0),P(Z,D,!0),P(V,q,!0),P(M,D,!0),P(X,q,!0));return}}function he(R){if(n(O)){const D=R.clientX-C,q=R.clientY-U;Hn.set(B+D),Vn.set(H+q);return}if(n(W)){const{x:D,y:q}=Q(R.clientX,R.clientY);P(M,D,!0),P(X,q,!0);return}if(n(I)&&z!==null&&c()==="Configuration"){const{x:D,y:q}=Q(R.clientX,R.clientY);wi(z,D,q);return}if(n(Y)&&$!==null&&c()==="Configuration"){const{x:D,y:q}=Q(R.clientX,R.clientY);Xn.update(te=>{const ee=[...te];return ee[$]&&(ee[$]={...ee[$],x:D,y:q}),ee});return}}function ce(R){if(n(O)){P(O,!1);return}if(n(W)){P(W,!1);const D=Math.min(n(Z),n(M)),q=Math.min(n(V),n(X)),te=Math.max(n(Z),n(M)),ee=Math.max(n(V),n(X));Math.abs(te-D)>20&&Math.abs(ee-q)>20&&Ci({x1:D,y1:q,x2:te,y2:ee,name:"New Group",color:"",light_bg:"#e3f0ff",light_border:"#3a7bd5",dark_bg:"#22304a",dark_border:"#3a7bd5",color_preset_id:"preset1"});return}if(n(I)){P(I,!1),z=null;return}if(n(Y)){P(Y,!1),$=null;return}}function be(R){R.preventDefault();const D=R.deltaY<0?1.1:.9,q=k.getBoundingClientRect(),te=R.clientX-q.left,ee=R.clientY-q.top,xe=l()*D,Fe=te-(te-r())*D,Rt=ee-(ee-s())*D;Tn.set(xe),Hn.set(Fe),Vn.set(Rt)}function ke(R){if(c()!=="Configuration"||a())return;if(R.shiftKey){const{x:te,y:ee}=Q(R.clientX,R.clientY);ge.set("stickyNote"),window.__stickyNotePosition={x:te,y:ee};return}const{x:D,y:q}=Q(R.clientX,R.clientY);ge.set("nodeEditor"),window.__newNodePosition={x:D,y:q},window.__editNodeIndex=null}function de(R){R.preventDefault()}function fe(R,D){if(R.button===0)mi.set(i()),Gn.set(D),c()==="Configuration"&&!a()&&(P(I,!0),z=D),jl(D);else if(R.button===1){if(R.preventDefault(),c()!=="Configuration")return;if(R.shiftKey){const te=u().findIndex(ee=>ee.from===D||ee.to===D);te>=0&&vr(te);return}f()===null?Qo.set(D):f()!==D&&(window.__connectionFromIndex=f(),window.__connectionToIndex=D,window.__editConnectionIndex=null,ge.set("connectionEditor"),Qo.set(null))}else R.button===2&&(R.preventDefault(),R.stopPropagation(),So.set({visible:!0,x:R.clientX,y:R.clientY,nodeIndex:D,connectionIndex:null}))}function Ce(R,D){R.button===0&&c()==="Configuration"?(P(Y,!0),$=D):R.button===2&&c()==="Configuration"&&(R.preventDefault(),So.set({visible:!0,x:R.clientX,y:R.clientY,nodeIndex:null,connectionIndex:null}),window.__contextStickyIndex=D)}function N(R,D){if(c()!=="Configuration"||R.button!==1)return;if(R.preventDefault(),R.shiftKey){vr(D);return}const{x:q,y:te}=Q(R.clientX,R.clientY),ee=u()[D],xe=p()[ee.from],Fe=p()[ee.to],Rt=Wl(xe.x,xe.y,Fe.x,Fe.y,ee.waypoints),De=Di(q,te,Rt),et=[...ee.waypoints??[]];et.splice(De,0,[q,te]),ft.update(Xt=>{const Ft=[...Xt];return Ft[D]={...Ft[D],waypoints:et},Ft}),mn.set(!0)}function Oe(R,D){if(R.button!==2)return;R.preventDefault(),window.__editConnectionIndex=D;const q=u()[D];window.__connectionFromIndex=q.from,window.__connectionToIndex=q.to,ge.set("connectionEditor")}function Be(R,D){const q=v()[R];if(!q||q.length===0)return D;const te=q.every(xe=>xe),ee=q.some(xe=>xe);return te?n(F).NODE_PING_SUCCESS:ee?n(F).NODE_PING_PARTIAL_SUCCESS:n(F).NODE_PING_FAILURE}var se=qi();se.__mousedown=ue,se.__mousemove=he,se.__mouseup=ce,se.__dblclick=ke,se.__contextmenu=de;let Xe;var Le=x(se),Ze=x(Le),Pe=x(Ze);{var ze=R=>{var D=mt(),q=$e(D);Ue(q,1,d,Ae,(te,ee,xe)=>{const Fe=A(()=>xi(n(ee).color_preset_id,m(),_()));Vi(te,{get group(){return n(ee)},index:xe,get bgColor(){return n(Fe).bg},get borderColor(){return n(Fe).border},get textColor(){return n(F).GROUP_TEXT}})}),S(R,D)};ie(Pe,R=>{h().show_groups!==!1&&R(ze)})}var Me=T(Ze),st=x(Me);{var ve=R=>{var D=mt(),q=$e(D);Ue(q,1,u,Ae,(te,ee,xe)=>{var Fe=mt(),Rt=$e(Fe);{var De=et=>{{let Xt=A(()=>h().show_connection_labels!==!1),Ft=A(()=>c()==="Configuration");Fi(et,{get connection(){return n(ee)},index:xe,get fromNode(){return p()[n(ee).from]},get toNode(){return p()[n(ee).to]},get lineColor(){return n(F).Connections},get textColor(){return n(F).INFO_TEXT},get labelBgColor(){return n(F).INFO_NOTE_BG},get showLabels(){return n(Xt)},get showHandles(){return n(Ft)},onMiddleClick:Pt=>N(Pt,xe),onRightClick:Pt=>Oe(Pt,xe)})}};ie(Rt,et=>{p()[n(ee).from]&&p()[n(ee).to]&&et(De)})}S(te,Fe)}),S(R,D)};ie(st,R=>{h().show_connections!==!1&&R(ve)})}var Ee=T(Me),Je=x(Ee);{var _t=R=>{var D=mt(),q=$e(D);Ue(q,1,g,Ae,(te,ee,xe)=>{Mi(te,{get note(){return n(ee)},index:xe,get textColor(){return n(F).INFO_TEXT},get bgColor(){return n(F).INFO_NOTE_BG},onMouseDown:Fe=>Ce(Fe,xe)})}),S(R,D)};ie(Je,R=>{h().show_notes!==!1&&R(_t)})}var It=T(Ee);Ue(It,5,p,Ae,(R,D,q)=>{{let te=A(()=>Be(q,n(F).NODE_DEFAULT)),ee=A(()=>i()===q?n(F).NODE_HIGHLIGHT:n(F).NODE_OUTLINE_DEFAULT),xe=A(()=>i()===q?4:2),Fe=A(()=>h().node_size??14);Ii(R,{get node(){return n(D)},index:q,get fillColor(){return n(te)},get outlineColor(){return n(ee)},get outlineWidth(){return n(xe)},get textColor(){return n(F).BUTTON_TEXT},get fontSize(){return n(Fe)},onMouseDown:Rt=>fe(Rt,q)})}});var vt=T(It),pt=x(vt);{var Ct=R=>{var D=mt(),q=$e(D);Ue(q,1,u,Ae,(te,ee,xe)=>{var Fe=mt(),Rt=$e(Fe);{var De=et=>{var Xt=mt(),Ft=$e(Xt);Ue(Ft,17,()=>n(ee).waypoints,Ae,(Pt,so,jo)=>{Wi(Pt,{get x(){return n(so)[0]},get y(){return n(so)[1]},connectionIndex:xe,waypointIndex:jo})}),S(et,Xt)};ie(Rt,et=>{n(ee).waypoints&&et(De)})}S(te,Fe)}),S(R,D)};ie(pt,R=>{c()==="Configuration"&&R(Ct)})}var Gt=T(Le);{var an=R=>{var D=ji();K((q,te,ee,xe)=>{j(D,"x",q),j(D,"y",te),j(D,"width",ee),j(D,"height",xe),j(D,"stroke",n(F).GROUP_OUTLINE)},[()=>Math.min(n(Z),n(M))*l()+r(),()=>Math.min(n(V),n(X))*l()+s(),()=>Math.abs(n(M)-n(Z))*l(),()=>Math.abs(n(X)-n(V))*l()]),S(R,D)};ie(Gt,R=>{n(W)&&R(an)})}Oo(se,R=>k=R,()=>k),K(()=>{Xe=b(se,"",Xe,{"background-color":n(F).FRAME_BG,cursor:n(O)?"grabbing":a()?"crosshair":"default"}),j(Le,"transform",`translate(${r()??""},${s()??""}) scale(${l()??""})`)}),zo("wheel",se,be),S(e,se),ye(),w()}Ie(["mousedown","mousemove","mouseup","dblclick","contextmenu"]);function Zi(e,t){const o={name:t.name,ip:"",file:t.file_path||"",web:t.web_config_url||"",rdp:t.remote_desktop_address||""};for(const[r,l]of Object.entries(t.vlans))o[r.toLowerCase()]=l||"";for(const r of Object.values(t.vlans))if(r){o.ip=r;break}return e.replace(/\{(\w+)\}/g,(r,l)=>{const s=l.toLowerCase();return o[s]??r})}async function Ji(e){if(e)try{await Nt("open_rdp",{address:e})}catch(t){console.error("Failed to open RDP:",t)}}async function Qi(e){if(e)try{await Nt("open_file_explorer",{path:e})}catch(t){console.error("Failed to open file explorer:",t)}}async function ea(e){if(e)try{await Nt("open_browser",{url:e})}catch(t){console.error("Failed to open browser:",t)}}async function ta(e,t){const o=Zi(e,t);try{await Nt("execute_command",{command:o})}catch(r){console.error("Failed to execute command:",r)}}async function na(){try{return await Nt("get_local_ips")}catch(e){return console.error("Failed to get local IPs:",e),[]}}var oa=J('<span style="margin-right: 4px;">&#9881;</span>'),ra=J("<button>VLAN Config</button> <button>Node List</button> <button>Connections List</button> <button> </button>",1),la=J("<div><button>Start Menu</button> <button><!> </button> <button>Display Options</button> <!> <button>Who am I?</button> <button>Clear Status</button> <button>Ping All</button></div>");function sa(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",a),r=()=>L(po,"$groupsModeActive",a),l=()=>L(Ve,"$nodes",a),s=()=>L(oo,"$mode",a),[a,c]=Re();let i=A(()=>Ge(o())),u=A(()=>o()==="ironclad"),f=ne(!1);function p(){oo.update($=>$==="Operator"?"Configuration":"Operator"),r()&&po.set(!1),n(u)&&(P(f,!0),setTimeout(()=>P(f,!1),300))}function v(){po.update($=>!$)}async function h(){try{const $=await na(),F=l();for(let Q=0;Q<F.length;Q++){const ue=F[Q];Object.values(ue.vlans).some(ce=>$.includes(ce))&&yn.update(ce=>({...ce,[Q]:[!0]}))}}catch{}}let d=A(()=>"px-3 py-1.5 text-xs font-medium rounded transition-colors"+(n(u)?" ironclad-btn":""));var m=la();let _;var g=x(m);g.__click=()=>Uo.set(!0);let E;var w=T(g,2);w.__click=p;let k;var O=x(w);{var C=$=>{var F=oa();K(()=>G(F,1,`inline-block ${n(f)?"valve-turning":""}`)),S($,F)};ie(O,$=>{n(u)&&$(C)})}var U=T(O),B=T(w,2);B.__click=()=>ge.set("displayOptions");let H;var I=T(B,2);{var z=$=>{var F=ra(),Q=$e(F);Q.__click=()=>ge.set("vlanConfig");let ue;var he=T(Q,2);he.__click=()=>ge.set("nodeList");let ce;var be=T(he,2);be.__click=()=>ge.set("connectionList");let ke;var de=T(be,2);de.__click=v;let fe;var Ce=x(de);K(()=>{G(Q,1,_e(n(d))),ue=b(Q,"",ue,{"background-color":n(i).BUTTON_BG,color:n(i).BUTTON_TEXT}),G(he,1,_e(n(d))),ce=b(he,"",ce,{"background-color":n(i).BUTTON_BG,color:n(i).BUTTON_TEXT}),G(be,1,_e(n(d))),ke=b(be,"",ke,{"background-color":n(i).BUTTON_BG,color:n(i).BUTTON_TEXT}),G(de,1,n(d)),fe=b(de,"",fe,{"background-color":r()?n(i).BUTTON_ACTIVE_BG:n(i).BUTTON_BG,color:n(i).BUTTON_TEXT}),Te(Ce,r()?"Groups (Active)":"Groups")}),S($,F)};ie(I,$=>{s()==="Configuration"&&$(z)})}var W=T(I,2);W.__click=h;let Z;var V=T(W,2);V.__click=()=>Ui();let M;var X=T(V,2);X.__click=()=>Ai();let Y;K(()=>{G(m,1,`flex items-center gap-1 px-2 py-1.5 flex-wrap ${n(u)?"ironclad-toolbar":""}`),_=b(m,"",_,{"background-color":n(u)?void 0:n(i).FRAME_BG,"border-bottom":n(u)?void 0:`1px solid ${n(i).BORDER_COLOR}`}),G(g,1,`${n(d)??""} font-bold`),E=b(g,"",E,{"background-color":n(i).BUTTON_BG,color:n(i).BUTTON_TEXT}),G(w,1,_e(n(d))),k=b(w,"",k,{"background-color":s()==="Configuration"?n(i).BUTTON_CONFIGURATION_MODE:n(i).BUTTON_BG,color:n(i).BUTTON_TEXT}),Te(U,` ${s()??""} Mode`),G(B,1,_e(n(d))),H=b(B,"",H,{"background-color":n(i).BUTTON_BG,color:n(i).BUTTON_TEXT}),G(W,1,_e(n(d))),Z=b(W,"",Z,{"background-color":n(i).BUTTON_BG,color:n(i).BUTTON_TEXT}),G(V,1,_e(n(d))),M=b(V,"",M,{"background-color":n(i).BUTTON_BG,color:n(i).BUTTON_TEXT}),G(X,1,_e(n(d))),Y=b(X,"",Y,{"background-color":n(i).BUTTON_BG,color:n(i).BUTTON_TEXT})}),S(e,m),ye(),c()}Ie(["click"]);function ia(e,t){return t.filter(o=>{const r=e.vlans[o];return r!=null&&r!==""}).map(o=>({key:o,value:e.vlans[o]}))}var aa=J('<div class="text-sm flex items-center gap-2 py-0.5"><span class="opacity-60"> </span> <span class="px-1 rounded"> </span></div>'),ca=J('<div><div class="text-sm font-medium mb-2"><span class="opacity-60">Name:</span> <span class="ml-2"> </span></div> <!></div>');function ua(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",i),r=()=>L(Gn,"$selectedNodeIndex",i),l=()=>L(Ve,"$nodes",i),s=()=>L(At,"$vlanLabelOrder",i),a=()=>L(yn,"$pingResults",i),c=()=>L(jt,"$vlanLabels",i),[i,u]=Re();let f=A(()=>Ge(o())),p=A(()=>o()==="ironclad"),v=A(()=>r()!==null?l()[r()]:null),h=A(()=>n(v)?ia(n(v),s()):[]),d=A(()=>r()!==null?a()[r()]:void 0);function m(w){return!n(d)||w>=n(d).length?null:n(d)[w]?n(f).NODE_PING_SUCCESS:n(f).NODE_PING_FAILURE}var _=mt(),g=$e(_);{var E=w=>{var k=ca();let O;var C=x(k),U=T(x(C),2),B=x(U),H=T(C,2);Ue(H,17,()=>n(h),Ae,(I,z,W)=>{var Z=aa(),V=x(Z),M=x(V),X=T(V,2);let Y;var $=x(X);K(F=>{Te(M,`${c()[n(z).key]??n(z).key??""}:`),Y=b(X,"",Y,F),Te($,n(z).value)},[()=>({"background-color":m(W)??"transparent",color:m(W)?"#fff":n(f).INFO_TEXT})]),S(I,Z)}),K(()=>{G(k,1,`absolute top-2 right-2 p-3 rounded min-w-[180px] ${n(p)?"ironclad-info-panel":"shadow-lg"}`),O=b(k,"",O,{"background-color":n(f).INFO_NOTE_BG,color:n(f).INFO_TEXT,border:n(p)?void 0:`1px solid ${n(f).BORDER_COLOR}`}),Te(B,n(v).name)}),S(w,k)};ie(g,w=>{n(v)&&w(E)})}S(e,_),ye(),u()}var da=J("<div><button>+</button> <button> </button> <button>&ndash;</button></div>");function fa(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",l),r=()=>L(yi,"$zoomPercent",l),[l,s]=Re();let a=A(()=>Ge(o())),c=A(()=>o()==="ironclad");function i(){Tn.update(g=>g*1.1)}function u(){Tn.update(g=>g*.9)}function f(){Tn.set(1),Hn.set(0),Vn.set(0)}var p=da();let v;var h=x(p);h.__click=i;var d=T(h,2);d.__click=f;var m=x(d),_=T(d,2);_.__click=u,K(()=>{G(p,1,`absolute bottom-2 left-2 flex items-center gap-1 px-2 py-1 rounded ${n(c)?"ironclad-zoom":"shadow"}`),v=b(p,"",v,{"background-color":n(c)?void 0:n(a).FRAME_BG,color:n(a).BUTTON_TEXT,border:n(c)?void 0:`1px solid ${n(a).BORDER_COLOR}`}),G(h,1,`px-2 py-0.5 text-sm cursor-pointer hover:opacity-70 ${n(c)?"ironclad-btn rounded":""}`),G(d,1,`px-2 py-0.5 text-sm cursor-pointer hover:opacity-70 min-w-[3rem] text-center ${n(c)?"ironclad-btn rounded":""}`),Te(m,`${r()??""}%`),G(_,1,`px-2 py-0.5 text-sm cursor-pointer hover:opacity-70 ${n(c)?"ironclad-btn rounded":""}`)}),S(e,p),ye(),s()}Ie(["click"]);var _a=J("<div>Groups Mode Active: Click and Drag to create a group. Click a group to edit.</div>");function va(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",l),r=()=>L(po,"$groupsModeActive",l),[l,s]=Re();let a=A(()=>Ge(o())),c=A(()=>o()==="ironclad");var i=mt(),u=$e(i);{var f=p=>{var v=_a();let h;K(()=>{G(v,1,`text-center py-1.5 text-sm font-bold ${n(c)?"ironclad-banner":""}`),h=b(v,"",h,{"background-color":n(c)?void 0:n(a).FRAME_BG,color:n(c)?"#e09240":"#ff9900"})}),S(p,v)};ie(u,p=>{r()&&p(f)})}S(e,i),ye(),s()}var pa=J('<div class="border-t"></div> <button class="block w-full text-left px-4 py-2 text-sm hover:opacity-80">Delete Node</button>',1),ha=J('<button class="block w-full text-left px-4 py-2 text-sm hover:opacity-80"> </button>'),ba=J('<div class="border-t"></div> <!>',1),ga=J('<button class="block w-full text-left px-4 py-2 text-sm hover:opacity-80">Edit Node Information</button> <button class="block w-full text-left px-4 py-2 text-sm hover:opacity-80">Open Remote Desktop</button> <button class="block w-full text-left px-4 py-2 text-sm hover:opacity-80">Open File Explorer</button> <button class="block w-full text-left px-4 py-2 text-sm hover:opacity-80">Open Web Browser</button> <!>  <!>',1),Ta=J('<button class="block w-full text-left px-4 py-2 text-sm hover:opacity-80">Delete Sticky Note</button>'),ma=J("<div><!></div>");function ya(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",c),r=()=>L(So,"$contextMenu",c),l=()=>L(Ve,"$nodes",c),s=()=>L(fn,"$customCommands",c),a=()=>L(oo,"$mode",c),[c,i]=Re();let u=A(()=>Ge(o())),f=A(()=>o()==="ironclad");function p(){So.set({visible:!1,x:0,y:0,nodeIndex:null,connectionIndex:null}),window.__contextStickyIndex=void 0}function v(E){E(),p()}function h(){r().visible&&p()}function d(E){const w=l()[E];if(!w)return[];const k=[];for(const[O,C]of Object.entries(s())){let U,B=null;typeof C=="string"?U=C:(U=C.template,B=C.applicable_nodes),!(B!==null&&!B.includes(w.name))&&k.push({name:O,template:U})}return k}var m=mt();zo("click",ho,h);var _=$e(m);{var g=E=>{var w=ma();w.__click=B=>B.stopPropagation();let k;var O=x(w);{var C=B=>{const H=A(()=>r().nodeIndex),I=A(()=>l()[n(H)]);var z=mt(),W=$e(z);{var Z=V=>{const M=A(()=>d(n(H)));var X=ga(),Y=$e(X);Y.__click=()=>v(()=>{window.__editNodeIndex=n(H),window.__newNodePosition=null,ge.set("nodeEditor")});let $;var F=T(Y,2);F.__click=()=>v(()=>Ji(n(I).remote_desktop_address));let Q;var ue=T(F,2);ue.__click=()=>v(()=>Qi(n(I).file_path));let he;var ce=T(ue,2);ce.__click=()=>v(()=>ea(n(I).web_config_url));let be;var ke=T(ce,2);{var de=N=>{var Oe=pa(),Be=$e(Oe);let se;var Xe=T(Be,2);Xe.__click=()=>v(()=>Vl(n(H))),b(Xe,"",{},{color:"#ef4444"}),K(()=>se=b(Be,"",se,{"border-color":n(u).BORDER_COLOR})),S(N,Oe)};ie(ke,N=>{a()==="Configuration"&&N(de)})}var fe=T(ke,2);{var Ce=N=>{var Oe=ba(),Be=$e(Oe);let se;var Xe=T(Be,2);Ue(Xe,17,()=>n(M),Ae,(Le,Ze)=>{var Pe=ha();Pe.__click=()=>v(()=>ta(n(Ze).template,n(I)));let ze;var Me=x(Pe);K(()=>{ze=b(Pe,"",ze,{color:n(u).BUTTON_TEXT}),Te(Me,n(Ze).name)}),S(Le,Pe)}),K(()=>se=b(Be,"",se,{"border-color":n(u).BORDER_COLOR})),S(N,Oe)};ie(fe,N=>{n(M).length>0&&N(Ce)})}K(()=>{$=b(Y,"",$,{color:n(u).BUTTON_TEXT}),Q=b(F,"",Q,{color:n(u).BUTTON_TEXT}),he=b(ue,"",he,{color:n(u).BUTTON_TEXT}),be=b(ce,"",be,{color:n(u).BUTTON_TEXT})}),S(V,X)};ie(W,V=>{n(I)&&V(Z)})}S(B,z)},U=B=>{var H=mt(),I=$e(H);{var z=W=>{const Z=A(()=>window.__contextStickyIndex);var V=Ta();V.__click=()=>v(()=>ki(n(Z))),b(V,"",{},{color:"#ef4444"}),S(W,V)};ie(I,W=>{window.__contextStickyIndex!==void 0&&W(z)},!0)}S(B,H)};ie(O,B=>{r().nodeIndex!==null?B(C):B(U,!1)})}K(()=>{G(w,1,`fixed z-50 rounded overflow-hidden ${n(f)?"ironclad-context-menu":"shadow-lg"}`),k=b(w,"",k,{left:`${r().x??""}px`,top:`${r().y??""}px`,"background-color":n(f)?void 0:n(u).BUTTON_BG,border:n(f)?void 0:`1px solid ${n(u).BORDER_COLOR}`})}),S(E,w)};ie(_,E=>{r().visible&&E(g)})}S(e,m),ye(),i()}Ie(["click"]);async function Ea(e={}){return typeof e=="object"&&Object.freeze(e),await Nt("plugin:dialog|open",{options:e})}async function xa(e={}){return typeof e=="object"&&Object.freeze(e),await Nt("plugin:dialog|save",{options:e})}const ql=Ne({hideStartMenuOnStartup:!1,lastFilePath:"",windowGeometry:""});function wa(e){var h;const t=new Set(Object.keys(e.vlan_labels??{})),o=new Set;for(const d of e.nodes??[])for(const m of Object.keys(d))m.startsWith("VLAN_")&&o.add(m);const r=new Set([...t,...o]),l={};for(const d of r)l[d]=((h=e.vlan_labels)==null?void 0:h[d])??d;let s;if(e.vlan_label_order){s=e.vlan_label_order.filter(d=>d in l);for(const d of Object.keys(l))s.includes(d)||s.push(d)}else s=Object.keys(l);const a=(e.nodes??[]).map(d=>{const m={};for(const _ of Object.keys(d))_.startsWith("VLAN_")&&(m[_]=String(d[_]??""));return{name:d.name,x:d.x,y:d.y,vlans:m,remote_desktop_address:d.remote_desktop_address??"",file_path:d.file_path??"",web_config_url:d.web_config_url??""}}),c=(e.connections??[]).map(d=>{var m;return{from:d.from,to:d.to,label:d.label??"",connectioninfo:d.connectioninfo,waypoints:(m=d.waypoints)==null?void 0:m.map(_=>[_[0],_[1]]),label_pos:d.label_pos??.5}}),i=(e.stickynotes??[]).map(d=>({text:d.text,x:d.x,y:d.y})),u=(e.groups??[]).map(d=>({x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,name:d.name??"",color:d.color??"",light_bg:d.light_bg??"",light_border:d.light_border??"",dark_bg:d.dark_bg??"",dark_border:d.dark_border??"",color_preset_id:d.color_preset_id??"preset1"})),f=e.group_color_presets??[...Wo],p=e.custom_commands??{},v=e.display_options??{node_size:14,show_connections:!0,show_connection_labels:!0,show_notes:!0,show_groups:!0};return{nodes:a,connections:c,stickyNotes:i,groups:u,vlanLabels:l,vlanLabelOrder:s,groupColorPresets:f,customCommands:p,displayOptions:v}}function Na(e){const t=e.nodes.map(r=>{const l={name:r.name,x:r.x,y:r.y,remote_desktop_address:r.remote_desktop_address,file_path:r.file_path,web_config_url:r.web_config_url};for(const[s,a]of Object.entries(r.vlans))l[s]=a;for(const s of Object.keys(e.vlanLabels))s in l||(l[s]="");return l}),o=e.connections.map(r=>{const l={from:r.from,to:r.to,label:r.label};return r.label_pos!==void 0&&r.label_pos!==.5&&(l.label_pos=r.label_pos),r.connectioninfo&&(l.connectioninfo=r.connectioninfo),r.waypoints&&r.waypoints.length>0&&(l.waypoints=r.waypoints),l});return{nodes:t,connections:o,vlan_labels:e.vlanLabels,vlan_label_order:e.vlanLabelOrder,stickynotes:e.stickyNotes,groups:e.groups,group_color_presets:e.groupColorPresets,custom_commands:e.customCommands,display_options:e.displayOptions}}async function pr(e){try{let t=e;if(!t){const s=await Ea({multiple:!1,filters:[{name:"JSON",extensions:["json"]}]});if(!s)return;t=s}const o=await Nt("load_file",{path:t}),r=JSON.parse(o),l=wa(r);zl(),Ve.set(l.nodes),ft.set(l.connections),Xn.set(l.stickyNotes),En.set(l.groups),jt.set(l.vlanLabels),At.set(l.vlanLabelOrder),ko.set(l.groupColorPresets),fn.set(l.customCommands),Dn.set(l.displayOptions),yn.set({}),Io.set(t),Gn.set(null),Tn.set(1),Hn.set(0),Vn.set(0),mn.set(!1),ql.update(s=>({...s,lastFilePath:t}));try{await Nt("save_settings",{settings:{last_file_path:t}})}catch{}}catch(t){console.error("Failed to load file:",t)}}async function Kl(e=!1){try{let t=nt(Io);if(!t||e){const l=await xa({filters:[{name:"JSON",extensions:["json"]}]});if(!l)return;t=l}const o=Na({nodes:nt(Ve),connections:nt(ft),stickyNotes:nt(Xn),groups:nt(En),vlanLabels:nt(jt),vlanLabelOrder:nt(At),groupColorPresets:nt(ko),customCommands:nt(fn),displayOptions:nt(Dn)}),r=JSON.stringify(o,null,4);await Nt("save_file",{path:t,content:r}),Io.set(t),mn.set(!1),ql.update(l=>({...l,lastFilePath:t}));try{await Nt("save_settings",{settings:{last_file_path:t}})}catch{}}catch(t){console.error("Failed to save file:",t)}}async function Oa(){zl(),Io.set(null),Gn.set(null),Tn.set(1),Hn.set(0),Vn.set(0),mn.set(!1)}var ka=J("<button> </button>"),Ca=J('<div class="fixed inset-0 z-40"></div> <div><div class="flex justify-center py-4"><div>NS</div></div> <div class="px-4 pb-4 space-y-2"><button>Create New Network</button> <button>Save</button> <button>Load</button> <div class="flex gap-1"></div> <button>Configuration Menu</button> <button>Help</button> <button>Close</button></div></div>',1);function Ra(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",r),[r,l]=Re();let s=A(()=>Ge(o())),a=A(()=>o()==="ironclad");function c(){Uo.set(!1)}function i(){Oa(),c()}async function u(){await Kl(),c()}async function f(){await pr(),c()}const p=[{name:"light",label:"Light"},{name:"dark",label:"Dark"},{name:"ironclad",label:"Ironclad"}];function v(ue){we.set(ue)}function h(){c(),ge.set("customCommands")}function d(){c(),ge.set("help")}let m=A(()=>"w-full py-2 text-sm rounded hover:opacity-80 transition-opacity"+(n(a)?" ironclad-btn":""));var _=Ca(),g=$e(_);g.__click=c,b(g,"",{},{"background-color":"rgba(0,0,0,0.3)"});var E=T(g,2);E.__click=ue=>ue.stopPropagation();let w;var k=x(E),O=x(k);let C;var U=T(k,2),B=x(U);B.__click=i;let H;var I=T(B,2);I.__click=u;let z;var W=T(I,2);W.__click=f;let Z;var V=T(W,2);Ue(V,21,()=>p,Ae,(ue,he)=>{var ce=ka();ce.__click=()=>v(n(he).name);let be;var ke=x(ce);K(()=>{G(ce,1,`${n(m)??""} ${n(a)?"ironclad-btn":""}`),be=b(ce,"",be,{"background-color":o()===n(he).name?n(s).BUTTON_ACTIVE_BG:n(s).BUTTON_BG,color:o()===n(he).name?n(s).BUTTON_ACTIVE_TEXT:n(s).BUTTON_TEXT}),Te(ke,n(he).label)}),S(ue,ce)});var M=T(V,2);M.__click=h;let X;var Y=T(M,2);Y.__click=d;let $;var F=T(Y,2);F.__click=c;let Q;K(()=>{G(E,1,`fixed z-50 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[320px] rounded-lg overflow-hidden ${n(a)?"ironclad-start-menu":"shadow-xl"}`),w=b(E,"",w,{border:n(a)?void 0:`2px solid ${n(s).BORDER_COLOR}`,"background-color":n(a)?void 0:n(s).FRAME_BG}),G(O,1,`w-20 h-20 rounded-lg flex items-center justify-center text-2xl font-bold ${n(a)?"ironclad-logo":""}`),C=b(O,"",C,{"background-color":n(a)?void 0:n(s).BUTTON_BG,color:n(a)?"#e09240":n(s).BUTTON_TEXT}),G(B,1,_e(n(m))),H=b(B,"",H,{"background-color":n(s).BUTTON_BG,color:n(s).BUTTON_TEXT}),G(I,1,_e(n(m))),z=b(I,"",z,{"background-color":n(s).BUTTON_BG,color:n(s).BUTTON_TEXT}),G(W,1,_e(n(m))),Z=b(W,"",Z,{"background-color":n(s).BUTTON_BG,color:n(s).BUTTON_TEXT}),G(M,1,_e(n(m))),X=b(M,"",X,{"background-color":n(s).BUTTON_BG,color:n(s).BUTTON_TEXT}),G(Y,1,_e(n(m))),$=b(Y,"",$,{"background-color":n(s).BUTTON_BG,color:n(s).BUTTON_TEXT}),G(F,1,_e(n(m))),Q=b(F,"",Q,{"background-color":n(s).BUTTON_BG,color:n(s).BUTTON_TEXT})}),S(e,_),ye(),l()}Ie(["click"]);var Ba=J('<div class="fixed inset-0 z-40"></div> <div><div><span class="text-sm font-medium"> </span> <button>X</button></div> <div class="p-4 overflow-auto"><!></div></div>',1);function kt(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",r),[r,l]=Re();let s=Ti(t,"width",3,400),a=A(()=>Ge(o())),c=A(()=>o()==="ironclad"),i=ne(!1),u=0,f=0,p=ne(-1),v=ne(-1),h;function d(){t.onClose?t.onClose():ge.set(null)}function m(M){P(i,!0),u=M.clientX-n(p),f=M.clientY-n(v);const X=$=>{n(i)&&(P(p,$.clientX-u),P(v,$.clientY-f))},Y=()=>{P(i,!1),window.removeEventListener("mousemove",X),window.removeEventListener("mouseup",Y)};window.addEventListener("mousemove",X),window.addEventListener("mouseup",Y)}function _(M){M.key==="Escape"&&d()}Or(()=>{if(h&&n(p)===-1){const M=h.getBoundingClientRect();P(p,(window.innerWidth-M.width)/2),P(v,(window.innerHeight-M.height)/2)}});var g=Ba();zo("keydown",ho,_);var E=$e(g);E.__click=d,b(E,"",{},{"background-color":"rgba(0,0,0,0.3)"});var w=T(E,2);w.__click=M=>M.stopPropagation();let k;var O=x(w);O.__mousedown=m;let C;var U=x(O);let B;var H=x(U),I=T(U,2);I.__click=d;let z;var W=T(O,2);let Z;var V=x(W);ii(V,()=>t.children),Oo(w,M=>h=M,()=>h),K(()=>{G(w,1,`fixed z-50 rounded shadow-xl overflow-hidden ${n(c)?"ironclad-panel":""}`),k=b(w,"",k,{left:`${n(p)??""}px`,top:`${n(v)??""}px`,width:`${s()??""}px`,border:n(c)?"2px solid #555a62":`2px solid ${n(a).BORDER_COLOR}`,"background-color":n(a).FRAME_BG,"box-shadow":n(c)?"0 8px 32px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.04)":void 0}),G(O,1,`flex items-center justify-between px-3 py-2 cursor-move select-none ${n(c)?"ironclad-titlebar":""}`),C=b(O,"",C,{"background-color":n(c)?void 0:n(a).FRAME_BG,"border-bottom":`1px solid ${n(a).BORDER_COLOR??""}`}),B=b(U,"",B,{color:n(a).BUTTON_TEXT}),Te(H,t.title),G(I,1,`text-sm px-2 py-0.5 rounded hover:opacity-70 ${n(c)?"ironclad-btn":""}`),z=b(I,"",z,{color:n(a).BUTTON_TEXT,"background-color":n(c)?void 0:n(a).FRAME_BG}),Z=b(W,"",Z,{"max-height":"80vh","background-color":n(a).FRAME_BG})}),S(e,g),ye(),l()}Ie(["click","mousedown"]);var La=J(`<div class="text-sm space-y-4"><h2 class="text-base font-bold">Help</h2> <div><h3 class="font-bold mb-1">Overview:</h3> <p>NodeSailor is a simple network visualization tool. It allows the user to create a network map, display and test their connections with options for pinging, quick launchers for file explorer, web browser, RDP and more with the implementation of custom commands.</p></div> <div><h3 class="font-bold mb-1">User Modes:</h3> <ul class="list-disc pl-5 space-y-0.5"><li><strong>Operator:</strong> Monitor and interact with the network.</li> <li><strong>Configuration:</strong> Build and edit the network layout.</li></ul></div> <div><h3 class="font-bold mb-1">Operator Mode:</h3> <ul class="list-disc pl-5 space-y-0.5"><li>Left Click on Node: Ping the node (Green = all IPs connected, Yellow = partial, Red = no connection).</li> <li>Right Click on Node: Open context menu.</li> <li>Right Click and Drag: Pan the canvas.</li> <li>Scroll Wheel: Zoom in and out.</li> <li>Who am I?: Highlight node matching active system IP address.</li> <li>Ping All: Ping every node.</li> <li>Clear Status: Reset node status.</li></ul></div> <div><h3 class="font-bold mb-1">Configuration Mode:</h3> <ul class="list-disc pl-5 space-y-0.5"><li>Double Left Click: Create a new node.</li> <li>Shift + Double Left Click: Add a sticky note.</li> <li>Middle Click: Create a connection line between two nodes.</li> <li>Shift + Middle Click: Remove connection line.</li> <li>Left Click + Drag: Move nodes or notes.</li> <li>Right Click on Node: Open context menu.</li></ul></div> <div><h3 class="font-bold mb-1">Groups:</h3> <p>Groups allow the configurator to visually organize nodes into labeled rectangles. Use the Groups button to create, edit, or remove groups.</p></div> <div><h3 class="font-bold mb-1">Node List Editor:</h3> <p>Presents all nodes in a table for quick editing. Access via the Node List button.</p></div> <div><h3 class="font-bold mb-1">Custom Commands:</h3> <ul class="list-disc pl-5 space-y-0.5"><li>Access through 'Start Menu &gt; Configuration Menu'.</li> <li>Use placeholders like &#123;ip&#125;, &#123;name&#125;, &#123;file&#125;, &#123;web&#125;.</li> <li>Example: ping &#123;ip&#125; -t</li></ul></div> <div><h3 class="font-bold mb-1">Keyboard Shortcuts:</h3> <ul class="list-disc pl-5 space-y-0.5"><li>Ctrl+Shift+C: Change color theme</li> <li>Ctrl+S: Save</li> <li>Ctrl+L: Load</li> <li>F1: Help</li> <li>Arrow keys: Pan canvas</li></ul></div></div>`);function $a(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",r),[r,l]=Re();let s=A(()=>Ge(o()));function a(){ge.set(null)}kt(e,{title:"Help - Keyboard Shortcuts and Functions",width:550,onClose:a,children:(c,i)=>{var u=La();let f;K(()=>f=b(u,"",f,{color:n(s).BUTTON_TEXT})),S(c,u)},$$slots:{default:!0}}),ye(),l()}var Da=J('<div><label class="block text-xs mb-1"> </label> <input type="text"/></div>'),Aa=J('<p class="text-xs text-orange-400"> </p>'),Ua=J('<div class="space-y-3"><div><label class="block text-xs mb-1">Node Name:</label> <input type="text"/></div> <!> <div><label class="block text-xs mb-1">Remote Desktop Address:</label> <input type="text"/></div> <div><label class="block text-xs mb-1">File Path:</label> <input type="text"/></div> <div><label class="block text-xs mb-1">Web Config URL:</label> <input type="text"/></div> <!> <button>Save</button></div>');function Sa(e,t){var U,B,H,I;me(t,!0);const o=()=>L(we,"$currentTheme",c),r=()=>L(Ve,"$nodes",c),l=()=>L(At,"$vlanLabelOrder",c),s=()=>L(oo,"$mode",c),a=()=>L(jt,"$vlanLabels",c),[c,i]=Re();let u=A(()=>Ge(o())),f=A(()=>o()==="ironclad"),p=window.__editNodeIndex??null,v=window.__newNodePosition??null,h=A(()=>p!==null?r()[p]:null),d=ne(ct(((U=n(h))==null?void 0:U.name)??"")),m=ne(ct(((B=n(h))==null?void 0:B.remote_desktop_address)??"")),_=ne(ct(((H=n(h))==null?void 0:H.file_path)??"")),g=ne(ct(((I=n(h))==null?void 0:I.web_config_url)??"")),E=ne(ct({}));Or(()=>{var W;const z={};for(const Z of l())z[Z]=((W=n(h))==null?void 0:W.vlans[Z])??"";P(E,z,!0)});let w=ne("");function k(){if(s()!=="Configuration"){P(w,"Switch to Configuration mode to save.");return}p!==null?(Zt(p,{name:n(d),vlans:{...n(E)},remote_desktop_address:n(m),file_path:n(_),web_config_url:n(g)}),Gn.set(p)):n(d)&&v&&(Hl({name:n(d),x:v.x,y:v.y,vlans:{...n(E)},remote_desktop_address:n(m),file_path:n(_),web_config_url:n(g)}),Gn.set(r().length-1)),ge.set(null)}function O(){window.__editNodeIndex=null,window.__newNodePosition=null,ge.set(null)}let C="w-full px-2 py-1 text-sm rounded border outline-none";{let z=A(()=>p!==null?"Edit Node":"Create Node");kt(e,{get title(){return n(z)},width:400,onClose:O,children:(W,Z)=>{var V=Ua(),M=x(V),X=x(M);let Y;var $=T(X,2);G($,1,_e(C));let F;var Q=T(M,2);Ue(Q,1,l,Ae,(ve,Ee)=>{var Je=Da(),_t=x(Je);let It;var vt=x(_t),pt=T(_t,2);G(pt,1,_e(C));let Ct;K(()=>{It=b(_t,"",It,{color:n(u).BUTTON_TEXT}),Te(vt,`${a()[n(Ee)]??n(Ee)??""}:`),Ct=b(pt,"",Ct,{"background-color":n(u).ENTRY_FOCUS_BG,color:n(u).ENTRY_TEXT,"border-color":n(u).CELL_BORDER})}),Wt(pt,()=>n(E)[n(Ee)],Gt=>n(E)[n(Ee)]=Gt),S(ve,Je)});var ue=T(Q,2),he=x(ue);let ce;var be=T(he,2);G(be,1,_e(C));let ke;var de=T(ue,2),fe=x(de);let Ce;var N=T(fe,2);G(N,1,_e(C));let Oe;var Be=T(de,2),se=x(Be);let Xe;var Le=T(se,2);G(Le,1,_e(C));let Ze;var Pe=T(Be,2);{var ze=ve=>{var Ee=Aa(),Je=x(Ee);K(()=>Te(Je,n(w))),S(ve,Ee)};ie(Pe,ve=>{n(w)&&ve(ze)})}var Me=T(Pe,2);Me.__click=k;let st;K(()=>{Y=b(X,"",Y,{color:n(u).BUTTON_TEXT}),F=b($,"",F,{"background-color":n(u).ENTRY_FOCUS_BG,color:n(u).ENTRY_TEXT,"border-color":n(u).CELL_BORDER}),ce=b(he,"",ce,{color:n(u).BUTTON_TEXT}),ke=b(be,"",ke,{"background-color":n(u).ENTRY_FOCUS_BG,color:n(u).ENTRY_TEXT,"border-color":n(u).CELL_BORDER}),Ce=b(fe,"",Ce,{color:n(u).BUTTON_TEXT}),Oe=b(N,"",Oe,{"background-color":n(u).ENTRY_FOCUS_BG,color:n(u).ENTRY_TEXT,"border-color":n(u).CELL_BORDER}),Xe=b(se,"",Xe,{color:n(u).BUTTON_TEXT}),Ze=b(Le,"",Ze,{"background-color":n(u).ENTRY_FOCUS_BG,color:n(u).ENTRY_TEXT,"border-color":n(u).CELL_BORDER}),G(Me,1,`w-full py-2 text-sm rounded ${n(f)?"ironclad-btn":""}`),st=b(Me,"",st,{"background-color":n(f)?void 0:n(u).BUTTON_BG,color:n(u).BUTTON_TEXT})}),Wt($,()=>n(d),ve=>P(d,ve)),Wt(be,()=>n(m),ve=>P(m,ve)),Wt(N,()=>n(_),ve=>P(_,ve)),Wt(Le,()=>n(g),ve=>P(g,ve)),S(W,V)},$$slots:{default:!0}})}ye(),i()}Ie(["click"]);var Ia=J('<div class="space-y-3"><div><label class="block text-xs mb-1">Label:</label> <input type="text"/></div> <div><label class="block text-xs mb-1">Info (on hover):</label> <input type="text"/></div> <button>OK</button></div>');function Ga(e,t){var g,E;me(t,!0);const o=()=>L(we,"$currentTheme",l),r=()=>L(ft,"$connections",l),[l,s]=Re();let a=A(()=>Ge(o())),c=A(()=>o()==="ironclad"),i=window.__editConnectionIndex??null,u=window.__connectionFromIndex??0,f=window.__connectionToIndex??0,p=A(()=>i!==null?r()[i]:null),v=ne(ct(((g=n(p))==null?void 0:g.label)??"")),h=ne(ct(((E=n(p))==null?void 0:E.connectioninfo)??""));function d(){i!==null?_r(i,{label:n(v),connectioninfo:n(h)||void 0}):Ni({from:u,to:f,label:n(v),connectioninfo:n(h)||void 0,label_pos:.5}),m()}function m(){window.__editConnectionIndex=null,window.__connectionFromIndex=null,window.__connectionToIndex=null,ge.set(null)}let _="w-full px-2 py-1 text-sm rounded border outline-none";kt(e,{title:"Connection Details",width:400,onClose:m,children:(w,k)=>{var O=Ia(),C=x(O),U=x(C);let B;var H=T(U,2);G(H,1,_e(_));let I;var z=T(C,2),W=x(z);let Z;var V=T(W,2);G(V,1,_e(_));let M;var X=T(z,2);X.__click=d;let Y;K(()=>{B=b(U,"",B,{color:n(a).BUTTON_TEXT}),I=b(H,"",I,{"background-color":n(a).ENTRY_FOCUS_BG,color:n(a).ENTRY_TEXT,"border-color":n(a).CELL_BORDER}),Z=b(W,"",Z,{color:n(a).BUTTON_TEXT}),M=b(V,"",M,{"background-color":n(a).ENTRY_FOCUS_BG,color:n(a).ENTRY_TEXT,"border-color":n(a).CELL_BORDER}),G(X,1,`w-full py-2 text-sm rounded ${n(c)?"ironclad-btn":""}`),Y=b(X,"",Y,{"background-color":n(c)?void 0:n(a).BUTTON_BG,color:n(a).BUTTON_TEXT})}),Wt(H,()=>n(v),$=>P(v,$)),Wt(V,()=>n(h),$=>P(h,$)),S(w,O)},$$slots:{default:!0}}),ye(),s()}Ie(["click"]);var Xa=J('<div class="text-center"><p class="text-sm mb-4"> </p> <div class="flex justify-center gap-3"><button>Yes</button> <button>No</button> <button>Cancel</button></div></div>');function Fa(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",r),[r,l]=Re();let s=A(()=>Ge(o())),a=A(()=>o()==="ironclad"),c=window.__confirmMessage??"Are you sure?",i=window.__confirmOnYes,u=window.__confirmOnNo;function f(){window.__confirmMessage=null,window.__confirmOnYes=null,window.__confirmOnNo=null,ge.set(null)}function p(){i==null||i(),f()}function v(){u==null||u(),f()}kt(e,{title:"",width:300,onClose:f,children:(h,d)=>{var m=Xa(),_=x(m);let g;var E=x(_),w=T(_,2),k=x(w);k.__click=p;let O;var C=T(k,2);C.__click=v;let U;var B=T(C,2);B.__click=f;let H;K(()=>{g=b(_,"",g,{color:n(s).BUTTON_TEXT}),Te(E,c),G(k,1,`px-4 py-1.5 text-sm rounded ${n(a)?"ironclad-btn":""}`),O=b(k,"",O,{"background-color":n(a)?void 0:n(s).BUTTON_BG,color:n(s).BUTTON_TEXT}),G(C,1,`px-4 py-1.5 text-sm rounded ${n(a)?"ironclad-btn":""}`),U=b(C,"",U,{"background-color":n(a)?void 0:n(s).BUTTON_BG,color:n(s).BUTTON_TEXT}),G(B,1,`px-4 py-1.5 text-sm rounded ${n(a)?"ironclad-btn":""}`),H=b(B,"",H,{"background-color":n(a)?void 0:n(s).BUTTON_BG,color:n(s).BUTTON_TEXT})}),S(h,m)},$$slots:{default:!0}}),ye(),l()}Ie(["click"]);var Pa=J('<div class="space-y-3"><label class="block text-xs">Enter note text:</label> <input type="text" class="w-full px-2 py-1 text-sm rounded border outline-none"/> <div class="flex gap-2 justify-center"><button>OK</button> <button>Cancel</button></div></div>');function Ma(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",r),[r,l]=Re();let s=A(()=>Ge(o())),a=A(()=>o()==="ironclad"),c=ne(""),i=window.__stickyNotePosition??{x:50,y:50};function u(){n(c).trim()&&Oi({text:n(c).trim(),x:i.x,y:i.y}),f()}function f(){window.__stickyNotePosition=null,ge.set(null)}kt(e,{title:"Sticky Note",width:320,onClose:f,children:(p,v)=>{var h=Pa(),d=x(h);let m;var _=T(d,2);let g;var E=T(_,2),w=x(E);w.__click=u;let k;var O=T(w,2);O.__click=f;let C;K(()=>{m=b(d,"",m,{color:n(s).BUTTON_TEXT}),g=b(_,"",g,{"background-color":n(s).ENTRY_FOCUS_BG,color:n(s).ENTRY_TEXT,"border-color":n(s).CELL_BORDER}),G(w,1,`px-4 py-1.5 text-sm rounded ${n(a)?"ironclad-btn":""}`),k=b(w,"",k,{"background-color":n(a)?void 0:n(s).BUTTON_BG,color:n(s).BUTTON_TEXT}),G(O,1,`px-4 py-1.5 text-sm rounded ${n(a)?"ironclad-btn":""}`),C=b(O,"",C,{"background-color":n(a)?void 0:n(s).BUTTON_BG,color:n(s).BUTTON_TEXT})}),Wt(_,()=>n(c),U=>P(c,U)),S(p,h)},$$slots:{default:!0}}),ye(),l()}Ie(["click"]);var Ya=J('<th class="sticky top-0 px-2 py-1 text-left"> </th>'),Ha=J('<td class="px-1 py-0.5"><input type="text"/></td>'),Va=J('<tr><td class="px-1 py-0.5"><input type="text"/></td><td class="px-1 py-0.5"><input type="text"/></td><td class="px-1 py-0.5"><input type="text"/></td><!><td class="px-1 py-0.5"><input type="text"/></td><td class="px-1 py-0.5"><input type="text"/></td><td class="px-1 py-0.5"><input type="text"/></td><td class="px-1 py-0.5 text-center"><button class="text-red-500 hover:text-red-400 text-xs">Del</button></td></tr>'),za=J('<div class="overflow-auto max-h-[60vh]"><table class="w-full text-xs border-collapse"><thead><tr><th class="sticky top-0 px-2 py-1 text-left">Name</th><th class="sticky top-0 px-2 py-1 text-left">X</th><th class="sticky top-0 px-2 py-1 text-left">Y</th><!><th class="sticky top-0 px-2 py-1 text-left">RDP</th><th class="sticky top-0 px-2 py-1 text-left">File</th><th class="sticky top-0 px-2 py-1 text-left">Web</th><th class="sticky top-0 px-2 py-1"></th></tr></thead><tbody></tbody></table></div> <div class="mt-3"><button>Add Node</button></div>',1);function Wa(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",a),r=()=>L(At,"$vlanLabelOrder",a),l=()=>L(Ve,"$nodes",a),s=()=>L(jt,"$vlanLabels",a),[a,c]=Re();let i=A(()=>Ge(o())),u=A(()=>o()==="ironclad");function f(){ge.set(null)}function p(){Hl({name:"New Node",x:400,y:300,vlans:Object.fromEntries(r().map(m=>[m,""])),remote_desktop_address:"",file_path:"",web_config_url:""})}function v(m){Vl(m)}function h(m,_,g){const E=l()[m];if(E){if(_==="name")Zt(m,{name:g});else if(_==="x")Zt(m,{x:parseFloat(g)||0});else if(_==="y")Zt(m,{y:parseFloat(g)||0});else if(_==="rdp")Zt(m,{remote_desktop_address:g});else if(_==="file")Zt(m,{file_path:g});else if(_==="web")Zt(m,{web_config_url:g});else if(_.startsWith("VLAN_")){const w={...E.vlans,[_]:g};Zt(m,{vlans:w})}}}let d="w-full px-1 py-0.5 text-xs border outline-none";kt(e,{title:"Node List Editor",width:900,onClose:f,children:(m,_)=>{var g=za(),E=$e(g),w=x(E),k=x(w),O=x(k),C=x(O);let U;var B=T(C);let H;var I=T(B);let z;var W=T(I);Ue(W,1,r,Ae,(ke,de)=>{var fe=Ya();let Ce;var N=x(fe);K(()=>{Ce=b(fe,"",Ce,{"background-color":n(i).HEADER_BG,color:n(i).HEADER_TEXT}),Te(N,s()[n(de)]??n(de))}),S(ke,fe)});var Z=T(W);let V;var M=T(Z);let X;var Y=T(M);let $;var F=T(Y);let Q;var ue=T(k);Ue(ue,5,l,Ae,(ke,de,fe)=>{var Ce=Va();let N;var Oe=x(Ce);let Be;var se=x(Oe);G(se,1,_e(d)),se.__change=De=>h(fe,"name",De.target.value);let Xe;var Le=T(Oe);let Ze;var Pe=x(Le);G(Pe,1,"w-full px-1 py-0.5 text-xs border outline-none w-16"),Pe.__change=De=>h(fe,"x",De.target.value);let ze;var Me=T(Le);let st;var ve=x(Me);G(ve,1,"w-full px-1 py-0.5 text-xs border outline-none w-16"),ve.__change=De=>h(fe,"y",De.target.value);let Ee;var Je=T(Me);Ue(Je,1,r,Ae,(De,et)=>{var Xt=Ha();let Ft;var Pt=x(Xt);G(Pt,1,_e(d)),Pt.__change=jo=>h(fe,n(et),jo.target.value);let so;K(()=>{Ft=b(Xt,"",Ft,{border:`1px solid ${n(i).CELL_BORDER??""}`}),yt(Pt,n(de).vlans[n(et)]??""),so=b(Pt,"",so,{"background-color":n(i).ENTRY_FOCUS_BG,color:n(i).ENTRY_TEXT,"border-color":n(i).CELL_BORDER})}),S(De,Xt)});var _t=T(Je);let It;var vt=x(_t);G(vt,1,_e(d)),vt.__change=De=>h(fe,"rdp",De.target.value);let pt;var Ct=T(_t);let Gt;var an=x(Ct);G(an,1,_e(d)),an.__change=De=>h(fe,"file",De.target.value);let R;var D=T(Ct);let q;var te=x(D);G(te,1,_e(d)),te.__change=De=>h(fe,"web",De.target.value);let ee;var xe=T(D);let Fe;var Rt=x(xe);Rt.__click=()=>v(fe),K((De,et)=>{N=b(Ce,"",N,{"background-color":fe%2===0?n(i).ROW_BG_EVEN:n(i).ROW_BG_ODD}),Be=b(Oe,"",Be,{border:`1px solid ${n(i).CELL_BORDER??""}`}),yt(se,n(de).name),Xe=b(se,"",Xe,{"background-color":n(i).ENTRY_FOCUS_BG,color:n(i).ENTRY_TEXT,"border-color":n(i).CELL_BORDER}),Ze=b(Le,"",Ze,{border:`1px solid ${n(i).CELL_BORDER??""}`}),yt(Pe,De),ze=b(Pe,"",ze,{"background-color":n(i).ENTRY_FOCUS_BG,color:n(i).ENTRY_TEXT,"border-color":n(i).CELL_BORDER}),st=b(Me,"",st,{border:`1px solid ${n(i).CELL_BORDER??""}`}),yt(ve,et),Ee=b(ve,"",Ee,{"background-color":n(i).ENTRY_FOCUS_BG,color:n(i).ENTRY_TEXT,"border-color":n(i).CELL_BORDER}),It=b(_t,"",It,{border:`1px solid ${n(i).CELL_BORDER??""}`}),yt(vt,n(de).remote_desktop_address),pt=b(vt,"",pt,{"background-color":n(i).ENTRY_FOCUS_BG,color:n(i).ENTRY_TEXT,"border-color":n(i).CELL_BORDER}),Gt=b(Ct,"",Gt,{border:`1px solid ${n(i).CELL_BORDER??""}`}),yt(an,n(de).file_path),R=b(an,"",R,{"background-color":n(i).ENTRY_FOCUS_BG,color:n(i).ENTRY_TEXT,"border-color":n(i).CELL_BORDER}),q=b(D,"",q,{border:`1px solid ${n(i).CELL_BORDER??""}`}),yt(te,n(de).web_config_url),ee=b(te,"",ee,{"background-color":n(i).ENTRY_FOCUS_BG,color:n(i).ENTRY_TEXT,"border-color":n(i).CELL_BORDER}),Fe=b(xe,"",Fe,{border:`1px solid ${n(i).CELL_BORDER??""}`})},[()=>Math.round(n(de).x),()=>Math.round(n(de).y)]),S(ke,Ce)});var he=T(E,2),ce=x(he);ce.__click=p;let be;K(()=>{U=b(C,"",U,{"background-color":n(i).HEADER_BG,color:n(i).HEADER_TEXT}),H=b(B,"",H,{"background-color":n(i).HEADER_BG,color:n(i).HEADER_TEXT}),z=b(I,"",z,{"background-color":n(i).HEADER_BG,color:n(i).HEADER_TEXT}),V=b(Z,"",V,{"background-color":n(i).HEADER_BG,color:n(i).HEADER_TEXT}),X=b(M,"",X,{"background-color":n(i).HEADER_BG,color:n(i).HEADER_TEXT}),$=b(Y,"",$,{"background-color":n(i).HEADER_BG,color:n(i).HEADER_TEXT}),Q=b(F,"",Q,{"background-color":n(i).HEADER_BG,color:n(i).HEADER_TEXT}),G(ce,1,`px-3 py-1.5 text-xs rounded ${n(u)?"ironclad-btn":""}`),be=b(ce,"",be,{"background-color":n(u)?void 0:n(i).BUTTON_BG,color:n(i).BUTTON_TEXT})}),S(m,g)},$$slots:{default:!0}}),ye(),c()}Ie(["change","click"]);var ja=J('<tr><td class="px-2 py-0.5"> </td><td class="px-2 py-0.5"> </td><td class="px-1 py-0.5"><input type="text"/></td><td class="px-1 py-0.5"><input type="text"/></td><td class="px-2 py-0.5 text-center"> </td><td class="px-1 py-0.5 text-center"><button class="text-red-500 hover:text-red-400 text-xs">Del</button></td></tr>'),qa=J('<div class="overflow-auto max-h-[60vh]"><table class="w-full text-xs border-collapse"><thead><tr><th class="sticky top-0 px-2 py-1 text-left">From</th><th class="sticky top-0 px-2 py-1 text-left">To</th><th class="sticky top-0 px-2 py-1 text-left">Label</th><th class="sticky top-0 px-2 py-1 text-left">Info</th><th class="sticky top-0 px-2 py-1 text-left">Waypoints</th><th class="sticky top-0 px-2 py-1"></th></tr></thead><tbody></tbody></table></div>');function Ka(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",s),r=()=>L(ft,"$connections",s),l=()=>L(Ve,"$nodes",s),[s,a]=Re();let c=A(()=>Ge(o()));function i(){ge.set(null)}function u(v,h,d){h==="label"?_r(v,{label:d}):h==="info"&&_r(v,{connectioninfo:d||void 0})}function f(v){vr(v)}let p="w-full px-1 py-0.5 text-xs border outline-none";kt(e,{title:"Connections List Editor",width:700,onClose:i,children:(v,h)=>{var d=qa(),m=x(d),_=x(m),g=x(_),E=x(g);let w;var k=T(E);let O;var C=T(k);let U;var B=T(C);let H;var I=T(B);let z;var W=T(I);let Z;var V=T(_);Ue(V,5,r,Ae,(M,X,Y)=>{var $=ja();let F;var Q=x($);let ue;var he=x(Q),ce=T(Q);let be;var ke=x(ce),de=T(ce);let fe;var Ce=x(de);G(Ce,1,_e(p)),Ce.__change=ve=>u(Y,"label",ve.target.value);let N;var Oe=T(de);let Be;var se=x(Oe);G(se,1,_e(p)),se.__change=ve=>u(Y,"info",ve.target.value);let Xe;var Le=T(Oe);let Ze;var Pe=x(Le),ze=T(Le);let Me;var st=x(ze);st.__click=()=>f(Y),K(()=>{var ve,Ee,Je;F=b($,"",F,{"background-color":Y%2===0?n(c).ROW_BG_EVEN:n(c).ROW_BG_ODD}),ue=b(Q,"",ue,{border:`1px solid ${n(c).CELL_BORDER??""}`,color:n(c).ENTRY_TEXT}),Te(he,((ve=l()[n(X).from])==null?void 0:ve.name)??`Node ${n(X).from}`),be=b(ce,"",be,{border:`1px solid ${n(c).CELL_BORDER??""}`,color:n(c).ENTRY_TEXT}),Te(ke,((Ee=l()[n(X).to])==null?void 0:Ee.name)??`Node ${n(X).to}`),fe=b(de,"",fe,{border:`1px solid ${n(c).CELL_BORDER??""}`}),yt(Ce,n(X).label),N=b(Ce,"",N,{"background-color":n(c).ENTRY_FOCUS_BG,color:n(c).ENTRY_TEXT,"border-color":n(c).CELL_BORDER}),Be=b(Oe,"",Be,{border:`1px solid ${n(c).CELL_BORDER??""}`}),yt(se,n(X).connectioninfo??""),Xe=b(se,"",Xe,{"background-color":n(c).ENTRY_FOCUS_BG,color:n(c).ENTRY_TEXT,"border-color":n(c).CELL_BORDER}),Ze=b(Le,"",Ze,{border:`1px solid ${n(c).CELL_BORDER??""}`,color:n(c).ENTRY_TEXT}),Te(Pe,((Je=n(X).waypoints)==null?void 0:Je.length)??0),Me=b(ze,"",Me,{border:`1px solid ${n(c).CELL_BORDER??""}`})}),S(M,$)}),K(()=>{w=b(E,"",w,{"background-color":n(c).HEADER_BG,color:n(c).HEADER_TEXT}),O=b(k,"",O,{"background-color":n(c).HEADER_BG,color:n(c).HEADER_TEXT}),U=b(C,"",U,{"background-color":n(c).HEADER_BG,color:n(c).HEADER_TEXT}),H=b(B,"",H,{"background-color":n(c).HEADER_BG,color:n(c).HEADER_TEXT}),z=b(I,"",z,{"background-color":n(c).HEADER_BG,color:n(c).HEADER_TEXT}),Z=b(W,"",Z,{"background-color":n(c).HEADER_BG,color:n(c).HEADER_TEXT})}),S(v,d)},$$slots:{default:!0}}),ye(),a()}Ie(["change","click"]);var Za=J('<button class="px-2 py-1 text-xs rounded border-2"> </button>'),Ja=J('<div class="p-3 rounded"><div class="flex items-center gap-2 mb-2"><input type="text"/> <button class="text-red-500 hover:text-red-400 text-xs px-2">Delete</button></div> <div class="flex flex-wrap gap-2"></div></div>'),Qa=J(`<p class="text-sm opacity-60">No groups yet. Use Groups mode to draw group rectangles on
        the canvas.</p>`),ec=J('<div class="space-y-4"><!> <!></div>');function tc(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",a),r=()=>L(ko,"$groupColorPresets",a),l=()=>L(En,"$groups",a),s=()=>L(Yl,"$isDark",a),[a,c]=Re();let i=A(()=>Ge(o()));function u(){ge.set(null)}function f(d,m){Hr(d,{name:m})}function p(d,m){const _=r().find(g=>g.id===m);_&&Hr(d,{color_preset_id:m,light_bg:_.light_bg,light_border:_.light_border,dark_bg:_.dark_bg,dark_border:_.dark_border})}function v(d){Ri(d)}let h="w-full px-2 py-1 text-xs rounded border outline-none";kt(e,{title:"Group Editor",width:500,onClose:u,children:(d,m)=>{var _=ec(),g=x(_);Ue(g,1,l,Ae,(k,O,C)=>{var U=Ja();let B;var H=x(U),I=x(H);G(I,1,_e(h)),I.__change=V=>f(C,V.target.value);let z;var W=T(I,2);W.__click=()=>v(C);var Z=T(H,2);Ue(Z,5,r,Ae,(V,M)=>{var X=Za();X.__click=()=>p(C,n(M).id);let Y;var $=x(X);K(()=>{Y=b(X,"",Y,{"background-color":s()?n(M).dark_bg:n(M).light_bg,"border-color":n(O).color_preset_id===n(M).id?n(i).NODE_HIGHLIGHT:s()?n(M).dark_border:n(M).light_border,color:n(i).BUTTON_TEXT}),Te($,n(M).name)}),S(V,X)}),K(()=>{B=b(U,"",B,{border:`1px solid ${n(i).BORDER_COLOR??""}`,"background-color":n(i).ROW_BG_EVEN}),yt(I,n(O).name),z=b(I,"",z,{"background-color":n(i).ENTRY_FOCUS_BG,color:n(i).ENTRY_TEXT,"border-color":n(i).CELL_BORDER})}),S(k,U)});var E=T(g,2);{var w=k=>{var O=Qa();let C;K(()=>C=b(O,"",C,{color:n(i).INFO_TEXT})),S(k,O)};ie(E,k=>{l().length===0&&k(w)})}S(d,_)},$$slots:{default:!0}}),ye(),c()}Ie(["change","click"]);var nc=J('<div class="flex items-center gap-2"><span class="text-xs opacity-60 w-20 shrink-0"> </span> <input type="text"/> <button class="text-xs px-1 hover:opacity-70">&#9650;</button> <button class="text-xs px-1 hover:opacity-70">&#9660;</button> <button class="text-xs text-red-500 hover:text-red-400 px-1">X</button></div>'),oc=J('<div class="space-y-2"></div> <div class="mt-4"><button>Add VLAN</button></div>',1);function rc(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",a),r=()=>L(jt,"$vlanLabels",a),l=()=>L(Ve,"$nodes",a),s=()=>L(At,"$vlanLabelOrder",a),[a,c]=Re();let i=A(()=>Ge(o())),u=A(()=>o()==="ironclad");function f(){ge.set(null)}function p(_,g){jt.update(E=>({...E,[_]:g}))}function v(){const _=Object.keys(r());let g=1;for(;_.includes(`VLAN_${g}`);)g++;const E=`VLAN_${g}`;jt.update(k=>({...k,[E]:E})),At.update(k=>[...k,E]),l().forEach((k,O)=>{E in k.vlans||Zt(O,{vlans:{...k.vlans,[E]:""}})})}function h(_){jt.update(g=>{const E={...g};return delete E[_],E}),At.update(g=>g.filter(E=>E!==_))}function d(_,g){At.update(E=>{const w=E.indexOf(_);if(w<0)return E;const k=[...E],O=g==="up"?w-1:w+1;return O<0||O>=k.length?E:([k[w],k[O]]=[k[O],k[w]],k)})}let m="w-full px-2 py-1 text-xs rounded border outline-none";kt(e,{title:"VLAN Configuration",width:400,onClose:f,children:(_,g)=>{var E=oc(),w=$e(E);Ue(w,5,s,Ae,(U,B,H)=>{var I=nc(),z=x(I);let W;var Z=x(z),V=T(z,2);G(V,1,_e(m)),V.__change=ue=>p(n(B),ue.target.value);let M;var X=T(V,2);X.__click=()=>d(n(B),"up"),X.disabled=H===0;let Y;var $=T(X,2);$.__click=()=>d(n(B),"down");let F;var Q=T($,2);Q.__click=()=>h(n(B)),K(()=>{W=b(z,"",W,{color:n(i).INFO_TEXT}),Te(Z,`${n(B)??""}:`),yt(V,r()[n(B)]??n(B)),M=b(V,"",M,{"background-color":n(i).ENTRY_FOCUS_BG,color:n(i).ENTRY_TEXT,"border-color":n(i).CELL_BORDER}),Y=b(X,"",Y,{color:n(i).BUTTON_TEXT}),$.disabled=H===s().length-1,F=b($,"",F,{color:n(i).BUTTON_TEXT})}),S(U,I)});var k=T(w,2),O=x(k);O.__click=v;let C;K(()=>{G(O,1,`px-3 py-1.5 text-xs rounded ${n(u)?"ironclad-btn":""}`),C=b(O,"",C,{"background-color":n(u)?void 0:n(i).BUTTON_BG,color:n(i).BUTTON_TEXT})}),S(_,E)},$$slots:{default:!0}}),ye(),c()}Ie(["change","click"]);var lc=J('<div class="space-y-3"><label class="flex items-center gap-2 text-sm"><input type="checkbox"/> Show Connections</label> <label class="flex items-center gap-2 text-sm"><input type="checkbox"/> Show Connection Labels</label> <label class="flex items-center gap-2 text-sm"><input type="checkbox"/> Show Sticky Notes</label> <label class="flex items-center gap-2 text-sm"><input type="checkbox"/> Show Groups</label> <div><label class="block text-sm mb-1"> </label> <input type="range" min="8" max="32" class="w-full"/></div></div>');function sc(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",l),r=()=>L(Dn,"$displayOptions",l),[l,s]=Re();let a=A(()=>Ge(o()));function c(){ge.set(null)}function i(f){Dn.update(p=>({...p,[f]:!p[f]}))}function u(f){Dn.update(p=>({...p,node_size:f}))}kt(e,{title:"Display Options",width:350,onClose:c,children:(f,p)=>{var v=lc(),h=x(v);let d;var m=x(h);m.__change=()=>i("show_connections");var _=T(h,2);let g;var E=x(_);E.__change=()=>i("show_connection_labels");var w=T(_,2);let k;var O=x(w);O.__change=()=>i("show_notes");var C=T(w,2);let U;var B=x(C);B.__change=()=>i("show_groups");var H=T(C,2),I=x(H);let z;var W=x(I),Z=T(I,2);Z.__input=V=>u(parseInt(V.target.value)),K(()=>{d=b(h,"",d,{color:n(a).BUTTON_TEXT}),uo(m,r().show_connections!==!1),g=b(_,"",g,{color:n(a).BUTTON_TEXT}),uo(E,r().show_connection_labels!==!1),k=b(w,"",k,{color:n(a).BUTTON_TEXT}),uo(O,r().show_notes!==!1),U=b(C,"",U,{color:n(a).BUTTON_TEXT}),uo(B,r().show_groups!==!1),z=b(I,"",z,{color:n(a).BUTTON_TEXT}),Te(W,`Node Size: ${r().node_size??14??""}`),yt(Z,r().node_size??14)}),S(f,v)},$$slots:{default:!0}}),ye(),s()}Ie(["change","input"]);var ic=J("<button> </button>"),ac=J('<label class="flex items-center gap-2 text-xs"><input type="checkbox"/> </label>'),cc=J('<div class="max-h-32 overflow-auto p-2 rounded"></div>'),uc=J('<div class="space-y-3"><div><label class="block text-xs mb-1">Name:</label> <input type="text"/></div> <div><label class="block text-xs mb-1">Template:</label> <textarea></textarea> <p class="text-xs opacity-50 mt-1">Available: &#123;ip&#125;, &#123;name&#125;, &#123;file&#125;, &#123;web&#125;, &#123;rdp&#125;, &#123;vlan_N&#125;</p></div> <div><label class="flex items-center gap-2 text-xs"><input type="checkbox"/> Apply to all nodes</label></div> <!> <div class="flex gap-2"><button>Save</button> <button>Delete</button></div></div>'),dc=J('<p class="text-xs opacity-60">Select a command to edit or add a new one.</p>'),fc=J('<div class="flex gap-4"><div class="w-1/3 space-y-1"><!> <button>+ Add Command</button></div> <div class="flex-1"><!></div></div>');function _c(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",s),r=()=>L(fn,"$customCommands",s),l=()=>L(Ve,"$nodes",s),[s,a]=Re();let c=A(()=>Ge(o())),i=A(()=>o()==="ironclad"),u=ne(null),f=ne(""),p=ne(""),v=ne(!0),h=ne(ct([]));function d(){ge.set(null)}function m(O){P(u,O,!0);const C=r()[O];if(P(f,O,!0),typeof C=="string")P(p,C,!0),P(v,!0),P(h,[],!0);else{P(p,C.template,!0);const U=C.applicable_nodes;P(v,U===null),P(h,U??[],!0)}}function _(){const O="New Command";fn.update(C=>({...C,[O]:{template:"",applicable_nodes:null}})),m(O)}function g(){!n(u)||!n(f)||(fn.update(O=>{const C={...O};return n(u)!==n(f)&&delete C[n(u)],C[n(f)]={template:n(p),applicable_nodes:n(v)?null:n(h)},C}),P(u,n(f),!0))}function E(){n(u)&&(fn.update(O=>{const C={...O};return delete C[n(u)],C}),P(u,null))}function w(O){n(h).includes(O)?P(h,n(h).filter(C=>C!==O),!0):P(h,[...n(h),O],!0)}let k="w-full px-2 py-1 text-xs rounded border outline-none";kt(e,{title:"Custom Commands",width:600,onClose:d,children:(O,C)=>{var U=fc(),B=x(U),H=x(B);Ue(H,1,()=>Object.keys(r()),Ae,(X,Y)=>{var $=ic();$.__click=()=>m(n(Y));let F;var Q=x($);K(()=>{G($,1,`w-full text-left px-2 py-1 text-xs rounded ${n(i)?"ironclad-btn":""}`),F=b($,"",F,{"background-color":n(i)?void 0:n(u)===n(Y)?n(c).BUTTON_ACTIVE_BG:n(c).BUTTON_BG,color:n(c).BUTTON_TEXT,"border-color":n(u)===n(Y)&&n(i)?"#e09240":void 0}),Te(Q,n(Y))}),S(X,$)});var I=T(H,2);I.__click=_;let z;var W=T(B,2),Z=x(W);{var V=X=>{var Y=uc(),$=x(Y),F=x($);let Q;var ue=T(F,2);G(ue,1,_e(k));let he;var ce=T($,2),be=x(ce);let ke;var de=T(be,2);G(de,1,"w-full px-2 py-1 text-xs rounded border outline-none h-20 resize-y");let fe;var Ce=T(de,2);let N;var Oe=T(ce,2),Be=x(Oe);let se;var Xe=x(Be),Le=T(Oe,2);{var Ze=Ee=>{var Je=cc();let _t;Ue(Je,5,l,Ae,(It,vt)=>{var pt=ac();let Ct;var Gt=x(pt);Gt.__change=()=>w(n(vt).name);var an=T(Gt);K(R=>{Ct=b(pt,"",Ct,{color:n(c).BUTTON_TEXT}),uo(Gt,R),Te(an,` ${n(vt).name??""}`)},[()=>n(h).includes(n(vt).name)]),S(It,pt)}),K(()=>_t=b(Je,"",_t,{"background-color":n(c).ROW_BG_EVEN,border:`1px solid ${n(c).CELL_BORDER??""}`})),S(Ee,Je)};ie(Le,Ee=>{n(v)||Ee(Ze)})}var Pe=T(Le,2),ze=x(Pe);ze.__click=g;let Me;var st=T(ze,2);st.__click=E;let ve;K(()=>{Q=b(F,"",Q,{color:n(c).BUTTON_TEXT}),he=b(ue,"",he,{"background-color":n(c).ENTRY_FOCUS_BG,color:n(c).ENTRY_TEXT,"border-color":n(c).CELL_BORDER}),ke=b(be,"",ke,{color:n(c).BUTTON_TEXT}),fe=b(de,"",fe,{"background-color":n(c).ENTRY_FOCUS_BG,color:n(c).ENTRY_TEXT,"border-color":n(c).CELL_BORDER}),N=b(Ce,"",N,{color:n(c).INFO_TEXT}),se=b(Be,"",se,{color:n(c).BUTTON_TEXT}),G(ze,1,`px-3 py-1.5 text-xs rounded ${n(i)?"ironclad-btn":""}`),Me=b(ze,"",Me,{"background-color":n(i)?void 0:n(c).BUTTON_BG,color:n(c).BUTTON_TEXT}),G(st,1,`px-3 py-1.5 text-xs rounded text-red-500 ${n(i)?"ironclad-btn":""}`),ve=b(st,"",ve,{"background-color":n(i)?void 0:n(c).BUTTON_BG})}),Wt(ue,()=>n(f),Ee=>P(f,Ee)),Wt(de,()=>n(p),Ee=>P(p,Ee)),bi(Xe,()=>n(v),Ee=>P(v,Ee)),S(X,Y)},M=X=>{var Y=dc();let $;K(()=>$=b(Y,"",$,{color:n(c).INFO_TEXT})),S(X,Y)};ie(Z,X=>{n(u)?X(V):X(M,!1)})}K(()=>{G(I,1,`w-full text-left px-2 py-1 text-xs rounded mt-2 ${n(i)?"ironclad-btn":""}`),z=b(I,"",z,{"background-color":n(i)?void 0:n(c).BUTTON_BG,color:n(c).BUTTON_TEXT})}),S(O,U)},$$slots:{default:!0}}),ye(),a()}Ie(["click","change"]);var vc=J("<button> </button>"),pc=J('<div class="flex items-center gap-2 text-xs"><div class="w-5 h-5 rounded border shrink-0"></div> <span> </span></div>'),hc=J('<div class="space-y-1"><div class="flex gap-2 mb-3"></div> <!></div>');function bc(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",r),[r,l]=Re(),s=[{name:"light",label:"Light"},{name:"dark",label:"Dark"},{name:"ironclad",label:"Ironclad"}];let a=A(()=>Ge(o())),c=A(()=>o()==="ironclad");function i(){ge.set(null)}let u=A(()=>Object.keys(n(a)));kt(e,{title:"Color Scheme",width:400,onClose:i,children:(f,p)=>{var v=hc(),h=x(v);Ue(h,21,()=>s,Ae,(m,_)=>{var g=vc();g.__click=()=>we.set(n(_).name);let E;var w=x(g);K(()=>{G(g,1,`px-3 py-1.5 text-xs rounded ${n(c)?"ironclad-btn":""}`),E=b(g,"",E,{"background-color":n(c)?void 0:o()===n(_).name?n(a).BUTTON_ACTIVE_BG:n(a).BUTTON_BG,color:n(a).BUTTON_TEXT,"border-color":o()===n(_).name&&n(c)?"#e09240":void 0}),Te(w,n(_).label)}),S(m,g)});var d=T(h,2);Ue(d,17,()=>n(u),Ae,(m,_)=>{var g=pc(),E=x(g);let w;var k=T(E,2);let O;var C=x(k);K(()=>{w=b(E,"",w,{"background-color":n(a)[n(_)],"border-color":n(a).CELL_BORDER}),O=b(k,"",O,{color:n(a).BUTTON_TEXT}),Te(C,n(_))}),S(m,g)}),S(f,v)},$$slots:{default:!0}}),ye(),l()}Ie(["click"]);var gc=J('<div class="flex flex-col w-full h-full"><!> <!> <div class="relative flex-1 overflow-hidden"><!> <!> <!> <!></div></div> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>',1);function Tc(e,t){me(t,!0);const o=()=>L(we,"$currentTheme",s),r=()=>L(Uo,"$showStartMenu",s),l=()=>L(ge,"$activeDialog",s),[s,a]=Re();wo(()=>{const N=document.documentElement;switch(N.classList.remove("light","dark","theme-ironclad"),o()){case"ironclad":N.classList.add("theme-ironclad");break;case"dark":N.classList.add("dark");break;default:N.classList.add("light");break}});function c(N){var Be;const Oe=(Be=N.target)==null?void 0:Be.tagName;if(!(Oe==="INPUT"||Oe==="TEXTAREA"||Oe==="SELECT"))if(N.ctrlKey&&N.shiftKey&&N.key==="C"){N.preventDefault();const se=["dark","ironclad","light"];we.update(Xe=>{const Le=se.indexOf(Xe);return se[(Le+1)%se.length]})}else N.ctrlKey&&N.key==="s"?(N.preventDefault(),Kl()):N.ctrlKey&&N.key==="l"?(N.preventDefault(),pr()):N.key==="F1"&&(N.preventDefault(),ge.set("help"))}Or(async()=>{try{await pr("/Users/mark/Code/3rd-party/NodeSailor-Vibed/NodeSailor/example network.json")}catch(N){console.error("Auto-load failed:",N),Uo.set(!0)}});let i=A(()=>Ge(o()));var u=gc();zo("keydown",ho,c);var f=$e(u);let p;var v=x(f);sa(v,{});var h=T(v,2);va(h,{});var d=T(h,2),m=x(d);Ki(m,{});var _=T(m,2);ua(_,{});var g=T(_,2);fa(g,{});var E=T(g,2);ya(E,{});var w=T(f,2);{var k=N=>{Ra(N,{})};ie(w,N=>{r()&&N(k)})}var O=T(w,2);{var C=N=>{$a(N,{})};ie(O,N=>{l()==="help"&&N(C)})}var U=T(O,2);{var B=N=>{Sa(N,{})};ie(U,N=>{l()==="nodeEditor"&&N(B)})}var H=T(U,2);{var I=N=>{Ga(N,{})};ie(H,N=>{l()==="connectionEditor"&&N(I)})}var z=T(H,2);{var W=N=>{Fa(N,{})};ie(z,N=>{l()==="confirm"&&N(W)})}var Z=T(z,2);{var V=N=>{Ma(N,{})};ie(Z,N=>{l()==="stickyNote"&&N(V)})}var M=T(Z,2);{var X=N=>{Wa(N,{})};ie(M,N=>{l()==="nodeList"&&N(X)})}var Y=T(M,2);{var $=N=>{Ka(N,{})};ie(Y,N=>{l()==="connectionList"&&N($)})}var F=T(Y,2);{var Q=N=>{tc(N,{})};ie(F,N=>{l()==="groupEditor"&&N(Q)})}var ue=T(F,2);{var he=N=>{rc(N,{})};ie(ue,N=>{l()==="vlanConfig"&&N(he)})}var ce=T(ue,2);{var be=N=>{sc(N,{})};ie(ce,N=>{l()==="displayOptions"&&N(be)})}var ke=T(ce,2);{var de=N=>{_c(N,{})};ie(ke,N=>{l()==="customCommands"&&N(de)})}var fe=T(ke,2);{var Ce=N=>{bc(N,{})};ie(fe,N=>{l()==="colorScheme"&&N(Ce)})}K(()=>p=b(f,"",p,{"background-color":n(i).FRAME_BG})),S(e,u),ye(),a()}ri(Tc,{target:document.getElementById("app")});
